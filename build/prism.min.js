!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.prism=t()}}(function(){var t;return function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){var u="function"==typeof require&&require;if(!s&&u)return u(o,!0);if(a)return a(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return i(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(t,e,n){!function(){"use strict";function n(t){if(!t)return n.identity();if(t.data instanceof Array)9===t.data.length?this.data=t.data.slice(0):this.data=[t.data[0],t.data[1],t.data[2],t.data[4],t.data[5],t.data[6],t.data[8],t.data[9],t.data[10]];else{if(9!==t.length)return n.identity();this.data=Array.prototype.slice.call(t)}}var r=t("./Vec3");n.prototype.row=function(t){return new r(this.data[0+t],this.data[3+t],this.data[6+t])},n.prototype.col=function(t){return new r(this.data[0+3*t],this.data[1+3*t],this.data[2+3*t])},n.identity=function(){return new n([1,0,0,0,1,0,0,0,1])},n.scale=function(t){return new n("number"==typeof t?[t,0,0,0,t,0,0,0,t]:t instanceof Array?[t[0],0,0,0,t[1],0,0,0,t[2]]:[t.x,0,0,0,t.y,0,0,0,t.z])},n.rotationDegrees=function(t,e){return this.rotationRadians(t*Math.PI/180,e)},n.rotationRadians=function(t,e){if(e instanceof Array&&(e=new r(e)),0===e.lengthSquared())return this.identity();var i=e.normalize(),a=i.x,o=i.y,s=i.z,u=t>0?t%(2*Math.PI):t%(-2*Math.PI),c=Math.sin(u),f=Math.cos(u),l=a*a,h=o*o,d=s*s,p=a*o,m=o*s,g=s*a,v=a*c,y=o*c,x=s*c,_=1-f;return new n([_*l+f,_*p+x,_*g-y,_*p-x,_*h+f,_*m+v,_*g+y,_*m-v,_*d+f])},n.rotationFromTo=function(t,e){var i,a,o,s,u,c,f,l,h,d,p,m=1e-6,g=new r(t).normalize(),v=new r(e).normalize(),y=g.dot(v),x=Math.abs(y),_=new n;return x>1-m?(s=Math.abs(g.x),u=Math.abs(g.y),c=Math.abs(g.z),i=u>s?c>s?new r(1,0,0):new r(0,0,1):c>u?new r(0,1,0):new r(0,0,1),a=i.sub(g),o=i.sub(v),h=2/a.dot(a),d=2/o.dot(o),p=h*d*a.dot(o),_.data[0]=-h*a.x*a.x-d*o.x*o.x+p*o.x*a.x,_.data[3]=-h*a.x*a.y-d*o.x*o.y+p*o.x*a.y,_.data[6]=-h*a.x*a.z-d*o.x*o.z+p*o.x*a.z,_.data[1]=-h*a.y*a.x-d*o.y*o.x+p*o.y*a.x,_.data[4]=-h*a.y*a.y-d*o.y*o.y+p*o.y*a.y,_.data[7]=-h*a.y*a.z-d*o.y*o.z+p*o.y*a.z,_.data[2]=-h*a.z*a.x-d*o.z*o.x+p*o.z*a.x,_.data[5]=-h*a.z*a.y-d*o.z*o.y+p*o.z*a.y,_.data[8]=-h*a.z*a.z-d*o.z*o.z+p*o.z*a.z,_.data[0]+=1,_.data[4]+=1,_.data[8]+=1):(o=g.cross(v),a=1/(1+y),f=a*o.x,l=a*o.z,h=f*o.y,d=f*o.z,p=l*o.y,_.data[0]=y+f*o.x,_.data[3]=h-o.z,_.data[6]=d+o.y,_.data[1]=h+o.z,_.data[4]=y+a*o.y*o.y,_.data[7]=p-o.x,_.data[2]=d-o.y,_.data[5]=p+o.x,_.data[8]=y+l*o.z),_},n.prototype.add=function(t){var e,r=new n(t);for(e=0;9>e;e++)r.data[e]+=this.data[e];return r},n.prototype.sub=function(t){var e,r=new n(t);for(e=0;9>e;e++)r.data[e]=this.data[e]-r.data[e];return r},n.prototype.multVector=function(t){return t=t instanceof Array?new r(t):t,new r({x:this.data[0]*t.x+this.data[3]*t.y+this.data[6]*t.z,y:this.data[1]*t.x+this.data[4]*t.y+this.data[7]*t.z,z:this.data[2]*t.x+this.data[5]*t.y+this.data[8]*t.z})},n.prototype.multScalar=function(t){var e,r=new n;for(e=0;9>e;e++)r.data[e]=this.data[e]*t;return r},n.prototype.multMatrix=function(t){var e,r=new n;for((t.data&&16===t.data.length||t instanceof Array)&&(t=new n(t)),e=0;3>e;e++)r.data[e]=this.data[e]*t.data[0]+this.data[e+3]*t.data[1]+this.data[e+6]*t.data[2],r.data[e+3]=this.data[e]*t.data[3]+this.data[e+3]*t.data[4]+this.data[e+6]*t.data[5],r.data[e+6]=this.data[e]*t.data[6]+this.data[e+3]*t.data[7]+this.data[e+6]*t.data[8];return r},n.prototype.mult=function(t){return"number"==typeof t?this.multScalar(t):t instanceof Array?3===t.length||4===t.length?this.multVector(t):this.multMatrix(t):void 0!==t.x&&void 0!==t.y&&void 0!==t.z?this.multVector(t):this.multMatrix(t)},n.prototype.div=function(t){var e,r=new n;for(e=0;9>e;e++)r.data[e]=this.data[e]/t;return r},n.prototype.equals=function(t,e){var n;for(e=void 0===e?0:e,n=0;9>n;n++)if(!(this.data[n]===t.data[n]||Math.abs(this.data[n]-t.data[n])<=e))return!1;return!0},n.prototype.transpose=function(){var t,e=new n;for(t=0;3>t;t++)e.data[3*t]=this.data[t],e.data[3*t+1]=this.data[t+3],e.data[3*t+2]=this.data[t+6];return e},n.prototype.inverse=function(){var t,e=new n;return e.data[0]=this.data[4]*this.data[8]-this.data[7]*this.data[5],e.data[3]=-this.data[3]*this.data[8]+this.data[6]*this.data[5],e.data[6]=this.data[3]*this.data[7]-this.data[6]*this.data[4],e.data[1]=-this.data[1]*this.data[8]+this.data[7]*this.data[2],e.data[4]=this.data[0]*this.data[8]-this.data[6]*this.data[2],e.data[7]=-this.data[0]*this.data[7]+this.data[6]*this.data[1],e.data[2]=this.data[1]*this.data[5]-this.data[4]*this.data[2],e.data[5]=-this.data[0]*this.data[5]+this.data[3]*this.data[2],e.data[8]=this.data[0]*this.data[4]-this.data[3]*this.data[1],t=this.data[0]*e.data[0]+this.data[1]*e.data[3]+this.data[2]*e.data[6],e.mult(1/t)},n.prototype.decompose=function(){var t=this.col(0),e=this.col(1),n=this.col(2);return{left:t.normalize(),up:e.normalize(),forward:n.normalize(),scale:new r(t.length(),e.length(),n.length())}},n.random=function(){var t=n.rotationRadians(360*Math.random(),r.random()),e=n.scale(10*Math.random());return t.mult(e)},n.prototype.toString=function(){return this.data[0]+", "+this.data[3]+", "+this.data[6]+",\n"+this.data[1]+", "+this.data[4]+", "+this.data[7]+",\n"+this.data[2]+", "+this.data[5]+", "+this.data[8]},n.prototype.toArray=function(){return this.data.slice(0)},e.exports=n}()},{"./Vec3":7}],2:[function(t,e,n){!function(){"use strict";function n(t){if(!t)return n.identity();if(t.data instanceof Array)16===t.data.length?this.data=t.data.slice(0):this.data=[t.data[0],t.data[1],t.data[2],0,t.data[3],t.data[4],t.data[5],0,t.data[6],t.data[7],t.data[8],0,0,0,0,1];else{if(16!==t.length)return n.identity();this.data=Array.prototype.slice.call(t)}}var r=t("./Vec3"),i=t("./Vec4"),a=t("./Mat33");n.prototype.row=function(t){return new i(this.data[0+t],this.data[4+t],this.data[8+t],this.data[12+t])},n.prototype.col=function(t){return new i(this.data[0+4*t],this.data[1+4*t],this.data[2+4*t],this.data[3+4*t])},n.identity=function(){return new n([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])},n.scale=function(t){return new n("number"==typeof t?[t,0,0,0,0,t,0,0,0,0,t,0,0,0,0,1]:t instanceof Array?[t[0],0,0,0,0,t[1],0,0,0,0,t[2],0,0,0,0,1]:[t.x,0,0,0,0,t.y,0,0,0,0,t.z,0,0,0,0,1])},n.translation=function(t){return new n(t instanceof Array?[1,0,0,0,0,1,0,0,0,0,1,0,t[0],t[1],t[2],1]:[1,0,0,0,0,1,0,0,0,0,1,0,t.x,t.y,t.z,1])},n.rotationDegrees=function(t,e){return new n(a.rotationDegrees(t,e))},n.rotationRadians=function(t,e){return new n(a.rotationRadians(t,e))},n.rotationFromTo=function(t,e){return new n(a.rotationFromTo(t,e))},n.prototype.add=function(t){var e,r=new n(t);for(e=0;16>e;e++)r.data[e]+=this.data[e];return r},n.prototype.sub=function(t){var e,r=new n(t);for(e=0;16>e;e++)r.data[e]=this.data[e]-r.data[e];return r},n.prototype.multVector3=function(t){return t=t instanceof Array?new r(t):t,new r({x:this.data[0]*t.x+this.data[4]*t.y+this.data[8]*t.z+this.data[12],y:this.data[1]*t.x+this.data[5]*t.y+this.data[9]*t.z+this.data[13],z:this.data[2]*t.x+this.data[6]*t.y+this.data[10]*t.z+this.data[14]})},n.prototype.multVector4=function(t){return t=t instanceof Array?new i(t):t,new i({x:this.data[0]*t.x+this.data[4]*t.y+this.data[8]*t.z+this.data[12]*t.w,y:this.data[1]*t.x+this.data[5]*t.y+this.data[9]*t.z+this.data[13]*t.w,z:this.data[2]*t.x+this.data[6]*t.y+this.data[10]*t.z+this.data[14]*t.w,w:this.data[3]*t.x+this.data[7]*t.y+this.data[11]*t.z+this.data[15]*t.w})},n.prototype.multScalar=function(t){var e,r=new n;for(e=0;16>e;e++)r.data[e]=this.data[e]*t;return r},n.prototype.multMatrix=function(t){var e,r=new n;for((t.data&&9===t.data.length||t instanceof Array)&&(t=new n(t)),e=0;4>e;e++)r.data[e]=this.data[e]*t.data[0]+this.data[e+4]*t.data[1]+this.data[e+8]*t.data[2]+this.data[e+12]*t.data[3],r.data[e+4]=this.data[e]*t.data[4]+this.data[e+4]*t.data[5]+this.data[e+8]*t.data[6]+this.data[e+12]*t.data[7],r.data[e+8]=this.data[e]*t.data[8]+this.data[e+4]*t.data[9]+this.data[e+8]*t.data[10]+this.data[e+12]*t.data[11],r.data[e+12]=this.data[e]*t.data[12]+this.data[e+4]*t.data[13]+this.data[e+8]*t.data[14]+this.data[e+12]*t.data[15];return r},n.prototype.mult=function(t){return"number"==typeof t?this.multScalar(t):t instanceof Array?3===t.length?this.multVector3(t):4===t.length?this.multVector4(t):this.multMatrix(t):void 0!==t.x&&void 0!==t.y&&void 0!==t.z?void 0!==t.w?this.multVector4(t):this.multVector3(t):this.multMatrix(t)},n.prototype.div=function(t){var e,r=new n;for(e=0;16>e;e++)r.data[e]=this.data[e]/t;return r},n.prototype.equals=function(t,e){var n;for(e=void 0===e?0:e,n=0;16>n;n++)if(!(this.data[n]===t.data[n]||Math.abs(this.data[n]-t.data[n])<=e))return!1;return!0},n.ortho=function(t,e,r,i,a,o){var s=n.identity();return s.data[0]=2/(e-t),s.data[5]=2/(i-r),s.data[10]=-2/(o-a),s.data[12]=-((e+t)/(e-t)),s.data[13]=-((i+r)/(i-r)),s.data[14]=-((o+a)/(o-a)),s},n.perspective=function(t,e,r,i){var a=r*Math.tan(t*(Math.PI/360)),o=-a,s=o*e,u=-s,c=n.identity();return c.data[0]=2*r/(u-s),c.data[5]=2*r/(a-o),c.data[8]=(u+s)/(u-s),c.data[9]=(a+o)/(a-o),c.data[10]=-((i+r)/(i-r)),c.data[11]=-1,c.data[14]=-(2*(i*r)/(i-r)),c.data[15]=0,c},n.prototype.transpose=function(){var t,e=new n;for(t=0;4>t;t++)e.data[4*t]=this.data[t],e.data[4*t+1]=this.data[t+4],e.data[4*t+2]=this.data[t+8],e.data[4*t+3]=this.data[t+12];return e},n.prototype.inverse=function(){var t,e=new n;return e.data[0]=this.data[5]*this.data[10]*this.data[15]-this.data[5]*this.data[11]*this.data[14]-this.data[9]*this.data[6]*this.data[15]+this.data[9]*this.data[7]*this.data[14]+this.data[13]*this.data[6]*this.data[11]-this.data[13]*this.data[7]*this.data[10],e.data[4]=-this.data[4]*this.data[10]*this.data[15]+this.data[4]*this.data[11]*this.data[14]+this.data[8]*this.data[6]*this.data[15]-this.data[8]*this.data[7]*this.data[14]-this.data[12]*this.data[6]*this.data[11]+this.data[12]*this.data[7]*this.data[10],e.data[8]=this.data[4]*this.data[9]*this.data[15]-this.data[4]*this.data[11]*this.data[13]-this.data[8]*this.data[5]*this.data[15]+this.data[8]*this.data[7]*this.data[13]+this.data[12]*this.data[5]*this.data[11]-this.data[12]*this.data[7]*this.data[9],e.data[12]=-this.data[4]*this.data[9]*this.data[14]+this.data[4]*this.data[10]*this.data[13]+this.data[8]*this.data[5]*this.data[14]-this.data[8]*this.data[6]*this.data[13]-this.data[12]*this.data[5]*this.data[10]+this.data[12]*this.data[6]*this.data[9],e.data[1]=-this.data[1]*this.data[10]*this.data[15]+this.data[1]*this.data[11]*this.data[14]+this.data[9]*this.data[2]*this.data[15]-this.data[9]*this.data[3]*this.data[14]-this.data[13]*this.data[2]*this.data[11]+this.data[13]*this.data[3]*this.data[10],e.data[5]=this.data[0]*this.data[10]*this.data[15]-this.data[0]*this.data[11]*this.data[14]-this.data[8]*this.data[2]*this.data[15]+this.data[8]*this.data[3]*this.data[14]+this.data[12]*this.data[2]*this.data[11]-this.data[12]*this.data[3]*this.data[10],e.data[9]=-this.data[0]*this.data[9]*this.data[15]+this.data[0]*this.data[11]*this.data[13]+this.data[8]*this.data[1]*this.data[15]-this.data[8]*this.data[3]*this.data[13]-this.data[12]*this.data[1]*this.data[11]+this.data[12]*this.data[3]*this.data[9],e.data[13]=this.data[0]*this.data[9]*this.data[14]-this.data[0]*this.data[10]*this.data[13]-this.data[8]*this.data[1]*this.data[14]+this.data[8]*this.data[2]*this.data[13]+this.data[12]*this.data[1]*this.data[10]-this.data[12]*this.data[2]*this.data[9],e.data[2]=this.data[1]*this.data[6]*this.data[15]-this.data[1]*this.data[7]*this.data[14]-this.data[5]*this.data[2]*this.data[15]+this.data[5]*this.data[3]*this.data[14]+this.data[13]*this.data[2]*this.data[7]-this.data[13]*this.data[3]*this.data[6],e.data[6]=-this.data[0]*this.data[6]*this.data[15]+this.data[0]*this.data[7]*this.data[14]+this.data[4]*this.data[2]*this.data[15]-this.data[4]*this.data[3]*this.data[14]-this.data[12]*this.data[2]*this.data[7]+this.data[12]*this.data[3]*this.data[6],e.data[10]=this.data[0]*this.data[5]*this.data[15]-this.data[0]*this.data[7]*this.data[13]-this.data[4]*this.data[1]*this.data[15]+this.data[4]*this.data[3]*this.data[13]+this.data[12]*this.data[1]*this.data[7]-this.data[12]*this.data[3]*this.data[5],e.data[14]=-this.data[0]*this.data[5]*this.data[14]+this.data[0]*this.data[6]*this.data[13]+this.data[4]*this.data[1]*this.data[14]-this.data[4]*this.data[2]*this.data[13]-this.data[12]*this.data[1]*this.data[6]+this.data[12]*this.data[2]*this.data[5],e.data[3]=-this.data[1]*this.data[6]*this.data[11]+this.data[1]*this.data[7]*this.data[10]+this.data[5]*this.data[2]*this.data[11]-this.data[5]*this.data[3]*this.data[10]-this.data[9]*this.data[2]*this.data[7]+this.data[9]*this.data[3]*this.data[6],e.data[7]=this.data[0]*this.data[6]*this.data[11]-this.data[0]*this.data[7]*this.data[10]-this.data[4]*this.data[2]*this.data[11]+this.data[4]*this.data[3]*this.data[10]+this.data[8]*this.data[2]*this.data[7]-this.data[8]*this.data[3]*this.data[6],e.data[11]=-this.data[0]*this.data[5]*this.data[11]+this.data[0]*this.data[7]*this.data[9]+this.data[4]*this.data[1]*this.data[11]-this.data[4]*this.data[3]*this.data[9]-this.data[8]*this.data[1]*this.data[7]+this.data[8]*this.data[3]*this.data[5],e.data[15]=this.data[0]*this.data[5]*this.data[10]-this.data[0]*this.data[6]*this.data[9]-this.data[4]*this.data[1]*this.data[10]+this.data[4]*this.data[2]*this.data[9]+this.data[8]*this.data[1]*this.data[6]-this.data[8]*this.data[2]*this.data[5],t=this.data[0]*e.data[0]+this.data[1]*e.data[4]+this.data[2]*e.data[8]+this.data[3]*e.data[12],e.mult(1/t)},n.prototype.decompose=function(){var t=new r(this.col(0)),e=new r(this.col(1)),n=new r(this.col(2)),i=new r(this.col(3));return{left:t.normalize(),up:e.normalize(),forward:n.normalize(),origin:i,scale:new r(t.length(),e.length(),n.length())}},n.random=function(){var t=n.rotationRadians(360*Math.random(),r.random()),e=n.scale(10*Math.random()),i=n.translation(r.random());return i.mult(t.mult(e))},n.prototype.toString=function(){return this.data[0]+", "+this.data[4]+", "+this.data[8]+", "+this.data[12]+",\n"+this.data[1]+", "+this.data[5]+", "+this.data[9]+", "+this.data[13]+",\n"+this.data[2]+", "+this.data[6]+", "+this.data[10]+", "+this.data[14]+",\n"+this.data[3]+", "+this.data[7]+", "+this.data[11]+", "+this.data[15]},n.prototype.toArray=function(){return this.data.slice(0)},e.exports=n}()},{"./Mat33":1,"./Vec3":7,"./Vec4":8}],3:[function(t,e,n){!function(){"use strict";function n(){switch(arguments.length){case 1:var t=arguments[0];void 0!==t.w?this.w=t.w:void 0!==t[0]?this.w=t[0]:this.w=1,this.x=t.x||t[1]||0,this.y=t.y||t[2]||0,this.z=t.z||t[3]||0;break;case 4:this.w=arguments[0],this.x=arguments[1],this.y=arguments[2],this.z=arguments[3];break;default:this.w=1,this.x=0,this.y=0,this.z=0}return this}var r=t("./Vec3"),i=t("./Mat33");n.identity=function(){return new n(1,0,0,0)},n.prototype.negate=function(){return new n(-this.w,-this.x,-this.y,-this.z)},n.prototype.mult=function(t){t=t instanceof Array?new n(t):t;var e=t.w*this.w-t.x*this.x-t.y*this.y-t.z*this.z,r=this.y*t.z-this.z*t.y+this.w*t.x+this.x*t.w,i=this.z*t.x-this.x*t.z+this.w*t.y+this.y*t.w,a=this.x*t.y-this.y*t.x+this.w*t.z+this.z*t.w;return new n(e,r,i,a)},n.prototype.rotate=function(t){t=t instanceof Array?new r(t):t;var e=new n(0,t.x,t.y,t.z),i=this.mult(e).mult(this.inverse());return new r(i.x,i.y,i.z)},n.prototype.matrix=function(){var t=this.x*this.x,e=this.y*this.y,n=this.z*this.z,r=this.x*this.y,a=this.x*this.z,o=this.x*this.w,s=this.y*this.z,u=this.y*this.w,c=this.z*this.w;return new i([1-2*e-2*n,2*r+2*c,2*a-2*u,2*r-2*c,1-2*t-2*n,2*s+2*o,2*a+2*u,2*s-2*o,1-2*t-2*e])},n.rotationDegrees=function(t,e){return n.rotationRadians(t*(Math.PI/180),e)},n.rotationRadians=function(t,e){e instanceof Array&&(e=new r(e)),e=e.normalize();var i=t>0?t%(2*Math.PI):t%(-2*Math.PI),a=Math.sin(i/2),o=Math.cos(i/2);return new n(o,e.x*a,e.y*a,e.z*a).normalize()},n.slerp=function(t,e,r){t instanceof Array&&(t=new n(t)),e instanceof Array&&(e=new n(e));var i=t.w*e.w+t.x*e.x+t.y*e.y+t.z*e.z;if(Math.abs(i)>=1)return new n(t.w,t.x,t.y,t.z);0>i&&(t=t.negate(),i=-i);var a=Math.acos(i),o=Math.sqrt(1-i*i),s=Math.sin((1-r)*a)/o,u=Math.sin(r*a)/o;return new n(t.w*s+e.w*u,t.x*s+e.x*u,t.y*s+e.y*u,t.z*s+e.z*u)},n.prototype.equals=function(t,e){var n=void 0!==t.w?t.w:t[0],r=void 0!==t.x?t.x:t[1],i=void 0!==t.y?t.y:t[2],a=void 0!==t.z?t.z:t[3];return e=void 0===e?0:e,(this.w===n||Math.abs(this.w-n)<=e)&&(this.x===r||Math.abs(this.x-r)<=e)&&(this.y===i||Math.abs(this.y-i)<=e)&&(this.z===a||Math.abs(this.z-a)<=e)},n.prototype.normalize=function(){var t=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return 0!==t?new n(this.w/t,this.x/t,this.y/t,this.z/t):new n},n.prototype.conjugate=function(){return new n(this.w,-this.x,-this.y,-this.z)},n.prototype.inverse=function(){return this.conjugate()},n.random=function(){var t=r.random().normalize(),e=Math.random();return n.rotationRadians(e,t)},n.prototype.toString=function(){return this.x+", "+this.y+", "+this.z+", "+this.w},n.prototype.toArray=function(){return[this.w,this.x,this.y,this.z]},e.exports=n}()},{"./Mat33":1,"./Vec3":7}],4:[function(t,e,n){!function(){"use strict";function n(t){return t=t||{},t._up&&t._forward&&t._left&&t._origin&&t._scale?(this._up=t.up(),this._forward=t.forward(),this._left=t.left(),this._origin=t.origin(),this._scale=t.scale()):t.data&&t.data instanceof Array?(t=t.decompose(),this._up=t.up,this._forward=t.forward,this._left=t.left,this._scale=t.scale,this._origin=t.origin||new r(0,0,0)):(this._up=t.up?new r(t.up).normalize():new r(0,1,0),this._forward=t.forward?new r(t.forward).normalize():new r(0,0,1),this._left=t.left?new r(t.left).normalize():this._up.cross(this._forward).normalize(),this.origin(t.origin||new r(0,0,0)),this.scale(t.scale||new r(1,1,1))),this}var r=t("./Vec3"),i=t("./Mat33"),a=t("./Mat44");n.identity=function(){return new n({up:new r(0,1,0),forward:new r(0,0,1),left:new r(1,0,0),origin:new r(0,0,0),scale:new r(1,1,1)})},n.prototype.origin=function(t){return t?(this._origin=new r(t),this):new r(this._origin)},n.prototype.forward=function(t){if(t){t=t instanceof Array?new r(t).normalize():t.normalize();var e=i.rotationFromTo(this._forward,t);return this._forward=t,this._up=e.mult(this._up).normalize(),this._left=e.mult(this._left).normalize(),this}return new r(this._forward)},n.prototype.up=function(t){if(t){t=t instanceof Array?new r(t).normalize():t.normalize();var e=i.rotationFromTo(this._up,t);return this._forward=e.mult(this._forward).normalize(),this._up=t,this._left=e.mult(this._left).normalize(),this}return new r(this._up)},n.prototype.left=function(t){if(t){t=t instanceof Array?new r(t).normalize():t.normalize();var e=i.rotationFromTo(this._left,t);return this._forward=e.mult(this._forward).normalize(),this._up=e.mult(this._up).normalize(),this._left=t,this}return new r(this._left)},n.prototype.scale=function(t){return t?("number"==typeof t?this._scale=new r(t,t,t):this._scale=new r(t),this):this._scale},n.prototype.mult=function(t){return new n(t instanceof Array||t.data instanceof Array?this.matrix().mult(t):this.matrix().mult(t.matrix()))},n.prototype.scaleMatrix=function(){return a.scale(this._scale)},n.prototype.rotationMatrix=function(){return new a([this._left.x,this._left.y,this._left.z,0,this._up.x,this._up.y,this._up.z,0,this._forward.x,this._forward.y,this._forward.z,0,0,0,0,1])},n.prototype.translationMatrix=function(){return a.translation(this._origin)},n.prototype.matrix=function(){return this.translationMatrix().mult(this.rotationMatrix()).mult(this.scaleMatrix())},n.prototype.inverseScaleMatrix=function(){return a.scale(new r(1/this._scale.x,1/this._scale.y,1/this._scale.z))},n.prototype.inverseRotationMatrix=function(){return new a([this._left.x,this._up.x,this._forward.x,0,this._left.y,this._up.y,this._forward.y,0,this._left.z,this._up.z,this._forward.z,0,0,0,0,1])},n.prototype.inverseTranslationMatrix=function(){return a.translation(this._origin.negate())},n.prototype.inverseMatrix=function(){return this.inverseScaleMatrix().mult(this.inverseRotationMatrix()).mult(this.inverseTranslationMatrix())},n.prototype.viewMatrix=function(){var t=this._origin.negate(),e=this._left.negate(),n=this._forward.negate();return new a([e.x,this._up.x,n.x,0,e.y,this._up.y,n.y,0,e.z,this._up.z,n.z,0,t.dot(e),t.dot(this._up),t.dot(n),1])},n.prototype.translateWorld=function(t){return this._origin=this._origin.add(t),this},n.prototype.translateLocal=function(t){return t instanceof Array&&(t=new r(t)),this._origin=this._origin.add(this._left.mult(t.x)).add(this._up.mult(t.y)).add(this._forward.mult(t.z)),this},n.prototype.rotateWorldDegrees=function(t,e){return this.rotateWorldRadians(t*Math.PI/180,e)},n.prototype.rotateWorldRadians=function(t,e){var n=i.rotationRadians(t,e);return this._up=n.mult(this._up),this._forward=n.mult(this._forward),this._left=n.mult(this._left),this},n.prototype.rotateLocalDegrees=function(t,e){return this.rotateWorldDegrees(t,this.rotationMatrix().mult(e))},n.prototype.rotateLocalRadians=function(t,e){return this.rotateWorldRadians(t,this.rotationMatrix().mult(e))},n.prototype.localToWorld=function(t,e,n,r){var i=new a;return e||(i=this.scaleMatrix().mult(i)),n||(i=this.rotationMatrix().mult(i)),r||(i=this.translationMatrix().mult(i)),i.mult(t)},n.prototype.worldToLocal=function(t,e,n,r){var i=new a;return r||(i=this.inverseTranslationMatrix().mult(i)),n||(i=this.inverseRotationMatrix().mult(i)),e||(i=this.inverseScaleMatrix().mult(i)),i.mult(t)},n.prototype.equals=function(t,e){return this._origin.equals(t.origin(),e)&&this._forward.equals(t.forward(),e)&&this._up.equals(t.up(),e)&&this._left.equals(t.left(),e)&&this._scale.equals(t.scale(),e)},n.random=function(){return(new n).origin(r.random()).forward(r.random()).scale(r.random())},n.prototype.toString=function(){return this.matrix().toString()},e.exports=n}()},{"./Mat33":1,"./Mat44":2,"./Vec3":7}],5:[function(t,e,n){!function(){"use strict";function n(t,e,n){var r=e.sub(t),a=new i(n).sub(t).dot(r)/r.dot(r);return 0>a&&(a=0),a>1&&(a=1),t.add(r.mult(a))}function r(){switch(arguments.length){case 1:var t=arguments[0];this.a=new i(t[0]||t.a),this.b=new i(t[1]||t.b),this.c=new i(t[2]||t.c);break;case 3:this.a=new i(arguments[0]),this.b=new i(arguments[1]),this.c=new i(arguments[2]);break;default:this.a=new i(0,0,0),this.b=new i(1,0,0),this.c=new i(1,1,0)}}var i=t("./Vec3");r.prototype.radius=function(){var t=this.centroid(),e=this.a.sub(t).length(),n=this.b.sub(t).length(),r=this.c.sub(t).length();return Math.max(e,Math.max(n,r))},r.prototype.centroid=function(){return this.a.add(this.b).add(this.c).div(3)},r.prototype.normal=function(){var t=this.b.sub(this.a),e=this.c.sub(this.a);return t.cross(e).normalize()},r.prototype.area=function(){var t=this.b.sub(this.a),e=this.c.sub(this.a);return t.cross(e).length()/2},r.prototype.isInside=function(t){var e=new i(t),n=this.a.sub(e),r=this.b.sub(e),a=this.c.sub(e),o=r.cross(a),s=a.cross(n);if(o.dot(s)<0)return!1;var u=n.cross(r);return o.dot(u)<0?!1:!0},r.prototype.intersect=function(t,e,n,r){var a=new i(t),o=new i(e),s=this.normal(),u=o.dot(s);if(0===u)return!1;var c=this.a.sub(a).dot(s)/u;if(n&&0>c)return!1;if(r&&(c>0&&u>0||0>c&&0>u))return!1;var f=a.add(o.mult(c));return this.isInside(f)?{position:f,normal:s,t:c}:!1},r.prototype.closestPoint=function(t){var e=n(this.a,this.b,t),r=n(this.b,this.c,t),i=n(this.c,this.a,t),a=e.sub(t).lengthSquared(),o=r.sub(t).lengthSquared(),s=i.sub(t).lengthSquared();return o>a?s>a?e:i:s>o?r:i},r.random=function(){var t=i.random(),e=i.random(),n=i.random(),a=t.add(e).add(n).div(3),o=t.sub(a),s=e.sub(a),u=n.sub(a),c=o.length(),f=s.length(),l=u.length(),h=Math.max(Math.max(c,f),l),d=1/h;return new r(o.mult(d),s.mult(d),u.mult(d))},r.prototype.equals=function(t,e){return e=void 0===e?0:e,this.a.equals(t.a,e)&&this.b.equals(t.b,e)&&this.c.equals(t.c,e)},r.prototype.toString=function(){return this.a.toString()+", "+this.b.toString()+", "+this.c.toString()},e.exports=r}()},{"./Vec3":7}],6:[function(t,e,n){!function(){"use strict";function t(){switch(arguments.length){case 1:var t=arguments[0];this.x=t.x||t[0]||0,this.y=t.y||t[1]||0;break;case 2:this.x=arguments[0],this.y=arguments[1];break;default:this.x=0,this.y=0}return this}t.prototype.negate=function(){return new t(-this.x,-this.y)},t.prototype.add=function(e){return e instanceof Array?new t(this.x+e[0],this.y+e[1]):new t(this.x+e.x,this.y+e.y)},t.prototype.sub=function(e){return e instanceof Array?new t(this.x-e[0],this.y-e[1]):new t(this.x-e.x,this.y-e.y)},t.prototype.mult=function(e){return new t(this.x*e,this.y*e)},t.prototype.div=function(e){return new t(this.x/e,this.y/e)},t.prototype.dot=function(t){return t instanceof Array?this.x*t[0]+this.y*t[1]:this.x*t.x+this.y*t.y},t.prototype.cross=function(t){return t instanceof Array?this.x*t[1]-this.y*t[0]:this.x*t.y-this.y*t.x},t.prototype.length=function(t){return void 0===t?Math.sqrt(this.dot(this)):this.normalize().mult(t)},t.prototype.lengthSquared=function(){return this.dot(this)},t.prototype.equals=function(t,e){var n=void 0!==t.x?t.x:t[0],r=void 0!==t.y?t.y:t[1];return e=void 0===e?0:e,(this.x===n||Math.abs(this.x-n)<=e)&&(this.y===r||Math.abs(this.y-r)<=e)},t.prototype.normalize=function(){var e=this.length();return 0!==e?new t(this.x/e,this.y/e):new t},t.prototype.unsignedAngleRadians=function(t){var e=void 0!==t.x?t.x:t[0],n=void 0!==t.y?t.y:t[1],r=Math.atan2(n,e)-Math.atan2(this.y,this.x);return 0>r&&(r+=2*Math.PI),r},t.prototype.unsignedAngleDegrees=function(t){return this.unsignedAngleRadians(t)*(180/Math.PI)},t.random=function(){return new t(Math.random(),Math.random()).normalize()},t.prototype.toString=function(){return this.x+", "+this.y},t.prototype.toArray=function(){return[this.x,this.y]},e.exports=t}()},{}],7:[function(t,e,n){!function(){"use strict";function t(){switch(arguments.length){case 1:var t=arguments[0];this.x=t.x||t[0]||0,this.y=t.y||t[1]||0,this.z=t.z||t[2]||0;break;case 3:this.x=arguments[0],this.y=arguments[1],this.z=arguments[2];break;default:this.x=0,this.y=0,this.z=0}return this}t.prototype.negate=function(){return new t(-this.x,-this.y,-this.z)},t.prototype.add=function(e){return e instanceof Array?new t(this.x+e[0],this.y+e[1],this.z+e[2]):new t(this.x+e.x,this.y+e.y,this.z+e.z)},t.prototype.sub=function(e){return e instanceof Array?new t(this.x-e[0],this.y-e[1],this.z-e[2]):new t(this.x-e.x,this.y-e.y,this.z-e.z)},t.prototype.mult=function(e){return new t(this.x*e,this.y*e,this.z*e)},t.prototype.div=function(e){return new t(this.x/e,this.y/e,this.z/e)},t.prototype.dot=function(t){return t instanceof Array?this.x*t[0]+this.y*t[1]+this.z*t[2]:this.x*t.x+this.y*t.y+this.z*t.z},t.prototype.cross=function(e){return e instanceof Array?new t(this.y*e[2]-e[1]*this.z,-this.x*e[2]+e[0]*this.z,this.x*e[1]-e[0]*this.y):new t(this.y*e.z-e.y*this.z,-this.x*e.z+e.x*this.z,this.x*e.y-e.x*this.y)},t.prototype.length=function(t){return void 0===t?Math.sqrt(this.dot(this)):this.normalize().mult(t)},t.prototype.lengthSquared=function(){return this.dot(this)},t.prototype.equals=function(t,e){var n=void 0!==t.x?t.x:t[0],r=void 0!==t.y?t.y:t[1],i=void 0!==t.z?t.z:t[2];return e=void 0===e?0:e,(this.x===n||Math.abs(this.x-n)<=e)&&(this.y===r||Math.abs(this.y-r)<=e)&&(this.z===i||Math.abs(this.z-i)<=e)},t.prototype.normalize=function(){var e=this.length();return 0!==e?new t(this.x/e,this.y/e,this.z/e):new t},t.prototype.projectOntoPlane=function(t){var e=this.dot(t);return this.sub(t.mult(e))},t.prototype.unsignedAngleRadians=function(e,n){var r=this,i=new t(e),a=r.cross(i),o=new t(n||a),s=r.projectOntoPlane(o).normalize(),u=i.projectOntoPlane(o).normalize(),c=s.dot(u),f=Math.max(-1,Math.min(1,c)),l=Math.acos(f);return o.dot(a)<0&&(l=l>=.5*Math.PI?Math.PI+Math.PI-l:2*Math.PI-l),l},t.prototype.unsignedAngleDegrees=function(t,e){return this.unsignedAngleRadians(t,e)*(180/Math.PI)},t.random=function(){return new t(Math.random(),Math.random(),Math.random()).normalize()},t.prototype.toString=function(){return this.x+", "+this.y+", "+this.z},t.prototype.toArray=function(){return[this.x,this.y,this.z]},e.exports=t}()},{}],8:[function(t,e,n){!function(){"use strict";function t(){switch(arguments.length){case 1:var t=arguments[0];this.x=t.x||t[0]||0,this.y=t.y||t[1]||0,this.z=t.z||t[2]||0,this.w=t.w||t[3]||0;break;case 4:this.x=arguments[0],this.y=arguments[1],this.z=arguments[2],this.w=arguments[3];break;default:this.x=0,this.y=0,this.z=0,this.w=0}return this}t.prototype.negate=function(){return new t(-this.x,-this.y,-this.z,-this.w)},t.prototype.add=function(e){return e instanceof Array?new t(this.x+e[0],this.y+e[1],this.z+e[2],this.w+e[3]):new t(this.x+e.x,this.y+e.y,this.z+e.z,this.w+e.w)},t.prototype.sub=function(e){return e instanceof Array?new t(this.x-e[0],this.y-e[1],this.z-e[2],this.w-e[3]):new t(this.x-e.x,this.y-e.y,this.z-e.z,this.w-e.w)},t.prototype.mult=function(e){return new t(this.x*e,this.y*e,this.z*e,this.w*e)},t.prototype.div=function(e){return new t(this.x/e,this.y/e,this.z/e,this.w/e)},t.prototype.dot=function(t){return t instanceof Array?this.x*t[0]+this.y*t[1]+this.z*t[2]+this.w*t[3]:this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},t.prototype.length=function(t){return void 0===t?Math.sqrt(this.dot(this)):this.normalize().mult(t)},t.prototype.lengthSquared=function(){return this.dot(this)},t.prototype.equals=function(t,e){var n=void 0!==t.x?t.x:t[0],r=void 0!==t.y?t.y:t[1],i=void 0!==t.z?t.z:t[2],a=void 0!==t.w?t.w:t[3];return e=void 0===e?0:e,(this.x===n||Math.abs(this.x-n)<=e)&&(this.y===r||Math.abs(this.y-r)<=e)&&(this.z===i||Math.abs(this.z-i)<=e)&&(this.w===a||Math.abs(this.w-a)<=e)},t.prototype.normalize=function(){var e=this.length();return 0!==e?new t(this.x/e,this.y/e,this.z/e,this.w/e):new t},t.random=function(){return new t(Math.random(),Math.random(),Math.random(),Math.random()).normalize()},t.prototype.toString=function(){return this.x+", "+this.y+", "+this.z+", "+this.w},t.prototype.toArray=function(){return[this.x,this.y,this.z,this.w]},e.exports=t}()},{}],9:[function(t,e,n){!function(){"use strict";e.exports={Mat33:t("./Mat33"),Mat44:t("./Mat44"),Vec2:t("./Vec2"),Vec3:t("./Vec3"),Vec4:t("./Vec4"),Quaternion:t("./Quaternion"),Transform:t("./Transform"),Triangle:t("./Triangle")}}()},{"./Mat33":1,"./Mat44":2,"./Quaternion":3,"./Transform":4,"./Triangle":5,"./Vec2":6,"./Vec3":7,"./Vec4":8}],10:[function(e,n,r){(function(){var e,n,i,a,o,s,u,c,f,l,h,d,p,m,g=[].slice;o="3.0.0",n="pending",a="resolved",i="rejected",f=function(t,e){return null!=t?t.hasOwnProperty(e):void 0},h=function(t){return f(t,"length")&&f(t,"callee")},d=function(t){return f(t,"promise")&&"function"==typeof(null!=t?t.promise:void 0)},c=function(t){return h(t)?c(Array.prototype.slice.call(t)):Array.isArray(t)?t.reduce(function(t,e){return Array.isArray(e)?t.concat(c(e)):(t.push(e),t)},[]):[t]},s=function(t,e){return 0>=t?e():function(){return--t<1?e.apply(this,arguments):void 0}},p=function(t,e){return function(){var n;return n=[t].concat(Array.prototype.slice.call(arguments,0)),e.apply(this,n)}},u=function(t,e,n){var r,i,a,o,s;for(o=c(t),s=[],i=0,a=o.length;a>i;i++)r=o[i],s.push(r.call.apply(r,[n].concat(g.call(e))));return s},e=function(){var t,r,o,s,f,l,h;return h=n,s=[],f=[],l=[],o={resolved:{},rejected:{},pending:{}},this.promise=function(t){var r,p;return t=t||{},t.state=function(){return h},p=function(e,r,i){return function(){return h===n&&r.push.apply(r,c(arguments)),e()&&u(arguments,o[i]),t}},t.done=p(function(){return h===a},s,a),t.fail=p(function(){return h===i},f,i),t.progress=p(function(){return h!==n},l,n),t.always=function(){var e;
return(e=t.done.apply(t,arguments)).fail.apply(e,arguments)},r=function(n,r,i){var a,o;return o=new e,a=function(e,n,r){return r?t[e](function(){var t,e;return t=1<=arguments.length?g.call(arguments,0):[],e=r.apply(null,t),d(e)?e.done(o.resolve).fail(o.reject).progress(o.notify):o[n](e)}):t[e](o[n])},a("done","resolve",n),a("fail","reject",r),a("progress","notify",i),o},t.pipe=r,t.then=r,null==t.promise&&(t.promise=function(){return t}),t},this.promise(this),t=this,r=function(e,r,i){return function(){return h===n?(h=e,o[e]=arguments,u(r,o[e],i),t):this}},this.resolve=r(a,s),this.reject=r(i,f),this.notify=r(n,l),this.resolveWith=function(t,e){return r(a,s,t).apply(null,e)},this.rejectWith=function(t,e){return r(i,f,t).apply(null,e)},this.notifyWith=function(t,e){return r(n,l,t).apply(null,e)},this},m=function(){var t,n,r,i,a,o,u;if(n=c(arguments),1===n.length)return d(n[0])?n[0]:(new e).resolve(n[0]).promise();if(a=new e,!n.length)return a.resolve().promise();for(i=[],r=s(n.length,function(){return a.resolve.apply(a,i)}),n.forEach(function(t,e){return d(t)?t.done(function(){var t;return t=1<=arguments.length?g.call(arguments,0):[],i[e]=t.length>1?t:t[0],r()}):(i[e]=t,r())}),o=0,u=n.length;u>o;o++)t=n[o],d(t)&&t.fail(a.reject);return a.promise()},l=function(t){return t.Deferred=function(){return new e},t.ajax=p(t.ajax,function(t,n){var r,i,a,o;return null==n&&(n={}),i=new e,r=function(t,e){return p(t,function(){var t,n;return n=arguments[0],t=2<=arguments.length?g.call(arguments,1):[],n&&n.apply(null,t),e.apply(null,t)})},n.success=r(n.success,i.resolve),n.error=r(n.error,i.reject),o=t(n),a=i.promise(),a.abort=function(){return o.abort()},a}),t.when=m},"undefined"!=typeof r?(r.Deferred=function(){return new e},r.when=m,r.installInto=l):"function"==typeof t&&t.amd?t(function(){return"undefined"!=typeof Zepto?l(Zepto):(e.when=m,e.installInto=l,e)}):"undefined"!=typeof Zepto?l(Zepto):(this.Deferred=function(){return new e},this.Deferred.when=m,this.Deferred.installInto=l)}).call(this)},{}],11:[function(t,e,n){!function(){"use strict";function n(t,e){e=e||{},this.gl=r.get(),this.buffer=0,t&&(t instanceof WebGLBuffer?(this.buffer=t,this.type=e.type||"UNSIGNED_SHORT",this.count=void 0!==e.count?e.count:0):this.bufferData(t)),this.offset=void 0!==e.offset?e.offset:0,this.mode=void 0!==e.mode?e.mode:"TRIANGLES"}var r=t("./WebGLContext"),i=null;n.prototype.bufferData=function(t){var e=this.gl,n=r.checkExtension("OES_element_index_uint");if(n?t instanceof Array&&(t=new Uint32Array(t)):t instanceof Array?t=new Uint16Array(t):t instanceof Uint32Array&&(console.warn("Cannot create IndexBuffer of format gl.UNSIGNED_INT as OES_element_index_uint is not supported, defaulting to gl.UNSIGNED_SHORT."),t=new Uint16Array(t)),t instanceof Uint16Array)this.type="UNSIGNED_SHORT";else{if(!(t instanceof Uint32Array))return void console.error("IndexBuffer requires an Array or ArrayBuffer argument, command ignored.");this.type="UNSIGNED_INT"}return this.buffer||(this.buffer=e.createBuffer()),this.count=t.length,e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.buffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW),this},n.prototype.bind=function(){if(i!==this){var t=this.gl;return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.buffer),i=this,this}},n.prototype.unbind=function(){if(null!==i){var t=this.gl;return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),i=null,this}},n.prototype.draw=function(t){if(t=t||{},null===i)return void console.warn("No IndexBuffer is bound, command ignored.");var e=this.gl,n=e[t.mode||this.mode||"TRIANGLES"],r=void 0!==t.offset?t.offset:this.offset,a=void 0!==t.count?t.count:this.count;return e.drawElements(n,a,e[this.type],r),this},e.exports=n}()},{"./WebGLContext":21}],12:[function(t,e,n){!function(){"use strict";function n(t){if(u!==t){var e=t.gl;e.bindFramebuffer(e.FRAMEBUFFER,t.framebuffer),u=t}}function r(t){if(null!==u){var e=t.gl;e.bindFramebuffer(e.FRAMEBUFFER,null),u=null}}function i(){var t=this.gl=a.get();return this.framebuffer=t.createFramebuffer(),this.textures={},this}var a=t("./WebGLContext"),o=t("../util/Stack"),s=new o,u=null;i.prototype.push=function(){return s.push(this),n(this),this},i.prototype.pop=function(){var t;return s.pop(),t=s.top(),t?n(t):r(this),this},i.prototype.setColorTarget=function(t,e,n){var r=this.gl;return"string"==typeof e&&(n=e,e=void 0),e=void 0!==e?e:0,this.textures["color"+e]=t,this.push(),r.framebufferTexture2D(r.FRAMEBUFFER,r["COLOR_ATTACHMENT"+e],r[n||"TEXTURE_2D"],t.texture,0),this.pop(),this},i.prototype.setDepthTarget=function(t){var e=this.gl;return this.textures.depth=t,this.push(),e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,t.texture,0),this.pop(),this},i.prototype.clearColor=function(t,e,n,r){var i=this.gl;return t=void 0!==t?t:0,e=void 0!==e?e:0,n=void 0!==n?n:0,r=void 0!==r?r:0,this.push(),i.clearColor(t,e,n,r),i.clear(i.COLOR_BUFFER_BIT),this.pop(),this},i.prototype.clearDepth=function(t,e,n,r){var i=this.gl;return t=void 0!==t?t:0,e=void 0!==e?e:0,n=void 0!==n?n:0,r=void 0!==r?r:0,this.push(),i.clearColor(t,e,n,r),i.clear(i.DEPTH_BUFFER_BIT),this.pop(),this},i.prototype.clearStencil=function(t,e,n,r){var i=this.gl;return t=void 0!==t?t:0,e=void 0!==e?e:0,n=void 0!==n?n:0,r=void 0!==r?r:0,this.push(),i.clearColor(t,e,n,r),i.clear(i.STENCIL_BUFFER_BIT),this.pop(),this},i.prototype.clear=function(t,e,n,r){var i=this.gl;return t=void 0!==t?t:0,e=void 0!==e?e:0,n=void 0!==n?n:0,r=void 0!==r?r:0,this.push(),i.clearColor(t,e,n,r),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT|i.STENCIL_BUFFER_BIT),this.pop(),this},i.prototype.resize=function(t,e){var n;if(!t||!e)return console.warn("Width or height arguments missing, command ignored."),this;for(n in this.textures)this.textures.hasOwnProperty(n)&&this.textures[n].resize(t,e);return this},e.exports=i}()},{"../util/Stack":23,"./WebGLContext":21}],13:[function(t,e,n){!function(){"use strict";function n(t,e){if(t=t||{},e=e||{},t.vertexBuffer||t.vertexBuffers)this.vertexBuffers=t.vertexBuffers||[t.vertexBuffer];else{var n=new r(t.vertices);this.vertexBuffers=[new i(n)]}return t.indexBuffer?this.indexBuffer=t.indexBuffer:t.indices&&(this.indexBuffer=new a(t.indices)),this.options={mode:e.mode,offset:e.offset,count:e.count},this}var r=t("../core/VertexPackage"),i=t("../core/VertexBuffer"),a=t("../core/IndexBuffer");n.prototype.draw=function(t){var e=t||{};return e.mode=e.mode||this.options.mode,e.offset=void 0!==e.offset?e.offset:this.options.offset,e.count=void 0!==e.count?e.count:this.options.count,this.indexBuffer?(this.vertexBuffers.forEach(function(t){t.bind()}),this.indexBuffer.bind(),this.indexBuffer.draw(e)):this.vertexBuffers.forEach(function(t){t.bind(),t.draw(e)}),this},e.exports=n}()},{"../core/IndexBuffer":11,"../core/VertexBuffer":18,"../core/VertexPackage":19}],14:[function(t,e,n){!function(){"use strict";function n(t,e){var n,r,i=p.parseDeclarations([t,e],["uniform","attribute"]),a={},o={},s=0;for(r=0;r<i.length;r++)n=i[r],"attribute"===n.qualifier?a[n.name]={type:n.type,index:s++}:"uniform"===n.qualifier&&(o[n.name]={type:n.type,func:y[n.type+(n.count>1?"[]":"")]});return{attributes:a,uniforms:o}}function r(t,e,n){var r=t.createShader(t[n]);return t.shaderSource(r,e),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS)?r:(console.error("An error occurred compiling the shaders: "+t.getShaderInfoLog(r)),null)}function i(t){var e,n=t.gl,r=t.attributes;for(e in r)r.hasOwnProperty(e)&&n.bindAttribLocation(t.program,r[e].index,e)}function a(t){var e,n,r=t.gl,i=t.uniforms;for(n in i)i.hasOwnProperty(n)&&(e=i[n],e.location=r.getUniformLocation(t.program,n))}function o(t){return function(e){g.load(t,{responseType:"text",success:e,error:function(t){console.error(t),e(null)}})}}function s(t){return function(e){e(t)}}function u(t){return function(e){var n=[];t=t||[],t=t instanceof Array?t:[t],t.forEach(function(t){p.isGLSL(t)?n.push(s(t)):n.push(o(t))}),m.async(n,function(t){e(t)})}}function c(t){_!==t&&(t.gl.useProgram(t.program),_=t)}function f(t){null!==_&&(t.gl.useProgram(null),_=null)}function l(t){return t.program=null,t.attributes=null,t.uniforms=null,t}function h(t,e){var n=this;t=t||{},this.program=0,this.gl=d.get(),this.version=t.version||"1.00",t.vert||console.error("Vertex shader argument has not been provided, shader initialization aborted."),t.frag||console.error("Fragment shader argument has not been provided, shader initialization aborted."),m.async({common:u(t.common),vert:u(t.vert),frag:u(t.frag)},function(t){n.create(t),e&&e(n)})}var d=t("./WebGLContext"),p=t("./ShaderParser"),m=t("../util/Util"),g=t("../util/XHRLoader"),v=t("../util/Stack"),y={bool:"uniform1i","bool[]":"uniform1iv","float":"uniform1f","float[]":"uniform1fv","int":"uniform1i","int[]":"uniform1iv",uint:"uniform1i","uint[]":"uniform1iv",vec2:"uniform2fv","vec2[]":"uniform2fv",ivec2:"uniform2iv","ivec2[]":"uniform2iv",vec3:"uniform3fv","vec3[]":"uniform3fv",ivec3:"uniform3iv","ivec3[]":"uniform3iv",vec4:"uniform4fv","vec4[]":"uniform4fv",ivec4:"uniform4iv","ivec4[]":"uniform4iv",mat2:"uniformMatrix2fv","mat2[]":"uniformMatrix2fv",mat3:"uniformMatrix3fv","mat3[]":"uniformMatrix3fv",mat4:"uniformMatrix4fv","mat4[]":"uniformMatrix4fv",sampler2D:"uniform1i",samplerCube:"uniform1i"},x=new v,_=null;h.prototype.create=function(t){var e,o,s,u=this.gl,c=t.common.join(""),f=t.vert.join(""),h=t.frag.join("");return e=r(u,c+f,"VERTEX_SHADER"),o=r(u,c+h,"FRAGMENT_SHADER"),e&&o?(s=n(f,h),this.attributes=s.attributes,this.uniforms=s.uniforms,this.program=u.createProgram(),u.attachShader(this.program,e),u.attachShader(this.program,o),i(this),u.linkProgram(this.program),u.getProgramParameter(this.program,u.LINK_STATUS)?(a(this),this):(console.error("An error occured linking the shader: "+u.getProgramInfoLog(this.program)),console.error("Aborting instantiation of shader due to linking errors."),l(this))):(console.error("Aborting instantiation of shader due to compilation errors."),l(this))},h.prototype.push=function(){return x.push(this),c(this),this},h.prototype.pop=function(){var t;return x.pop(),t=x.top(),t?c(t):f(this),this},h.prototype.setUniform=function(t,e){if(!this.program)return void(this.hasLoggedError||(console.warn("Attempting to use an incomplete shader, command ignored."),this.hasLoggedError=!0));if(this!==_)return void console.warn("Attempting to set uniform '"+t+"' for an unbound shader, command ignored.");var n,r,i,a,o=this.uniforms[t];if(!o)return void console.warn('No uniform found under name "'+t+'", command ignored.');if(void 0===e)return void console.warn('Argument passed for uniform "'+t+'" is undefined, command ignored.');switch(n=o.func,r=o.type,i=o.location,a=e.toArray?e.toArray():e,a=a instanceof Array?new Float32Array(a):a,a="boolean"==typeof a?a?1:0:a,r){case"mat2":case"mat3":case"mat4":this.gl[n](i,!1,a);break;default:this.gl[n](i,a)}return this},e.exports=h}()},{"../util/Stack":23,"../util/Util":24,"../util/XHRLoader":25,"./ShaderParser":15,"./WebGLContext":21}],15:[function(t,e,n){!function(){"use strict";function t(t){return t.replace(c,"")}function n(t){return t.replace(f," ").replace(l," ").replace(h,"$2$4$6")}function r(t,e,n,r){var i=r.match(d),a=i[1],o=void 0===i[2]?1:parseInt(i[2],10);return{qualifier:t,precision:e,type:n,name:a,count:o}}function i(t,e){var n,i=t.split(",").map(function(t){return t.trim()}),a=i.shift().split(" "),o=a.shift(),c=a.shift();s[c]?n=a.shift():(n=c,c=e[u[n]]);var f=a.concat(i),l=[];return f.forEach(function(t){l.push(r(o,c,n,t))}),l}function a(e,r){var a=t(e),o=n(a),s=o.split(";"),u=r.join("|"),c=new RegExp(".*\\b("+u+")\\b.*"),f={},l=[];return s.forEach(function(t){var e=t.match(p);if(e)return void(f[e[3]]=e[2]);var n=t.match(c);n&&(l=l.concat(i(n[0],f)))}),l}function o(t){var e={};return t.filter(function(t){return e[t.name]?!1:(e[t.name]=!0,!0)})}var s={highp:!0,mediump:!0,lowp:!0},u={"float":"float",vec2:"float",vec3:"float",vec4:"float",ivec2:"int",ivec3:"int",ivec4:"int","int":"int",uint:"int",sampler2D:"sampler2D",samplerCube:"samplerCube"},c=/(\/\*([\s\S]*?)\*\/)|(\/\/(.*)$)/gm,f=/(\r\n|\n|\r)/gm,l=/\s{2,}/g,h=/(\s*)(\[)(\s*)(\d+)(\s*)(\])(\s*)/g,d=/([a-zA-Z_][a-zA-Z0-9_]*)(?:\[(\d+)\])?/,p=/\b(precision)\s+(\w+)\s+(\w+)/,m=/void\s+main\s*\(\s*\)\s*/im;e.exports={parseDeclarations:function(t,e){if(!e||0===e.length||!t||0===t.length)return[];t=t instanceof Array?t:[t],e=e instanceof Array?e:[e];var n=[];return t.forEach(function(t){n=n.concat(a(t,e))}),o(n)},isGLSL:function(t){return m.test(t)}}}()},{}],16:[function(t,e,n){!function(){"use strict";function n(t){if(!s.isPowerOfTwo(t.width)||!s.isPowerOfTwo(t.height)){var e=document.createElement("canvas");e.width=s.nextHighestPowerOfTwo(t.width),e.height=s.nextHighestPowerOfTwo(t.height);var n=e.getContext("2d");return n.drawImage(t,0,0,t.width,t.height,0,0,e.width,e.height),e}return t}function r(t,e){if(f!==t){var n=t.gl;e=n["TEXTURE"+e]||n.TEXTURE0,n.activeTexture(e),n.bindTexture(n.TEXTURE_2D,t.texture),f=t}}function i(t){if(null!==f){var e=t.gl;e.bindTexture(e.TEXTURE_2D,null),f=null}}function a(t,e){var n=this;if(t=t||{},this.gl=o.get(),this.texture=this.gl.createTexture(),this.wrap=t.wrap||"REPEAT",this.filter=t.filter||"LINEAR",this.invertY=void 0!==t.invertY?t.invertY:!0,this.mipMap=void 0!==t.mipMap?t.mipMap:!0,this.preMultiplyAlpha=void 0!==t.preMultiplyAlpha?t.preMultiplyAlpha:!0,t.image)this.bufferData(t.image),this.setParameters(this);else if(t.url){var r=new Image;r.onload=function(){n.bufferData(r),n.setParameters(n),e(n)},r.src=t.url}else{if(this.mipMap=!1,"DEPTH_COMPONENT"===t.format){var i=o.checkExtension("WEBGL_depth_texture");if(!i)return void console.warn("Cannot create Texture2D of format gl.DEPTH_COMPONENT as WEBGL_depth_texture is unsupported by this browser, command ignored");this.format=t.format,t.type?"UNSIGNED_SHORT"===t.type||"UNSIGNED_INT"===t.type?this.type=t.type:(console.warn("Depth textures do not support type'"+t.type+"', defaulting to 'UNSIGNED_INT'."),this.type="UNSIGNED_INT"):this.type="UNSIGNED_INT"}else this.format=t.format||"RGBA",this.type=t.type||"UNSIGNED_BYTE";this.internalFormat=this.format,this.bufferData(t.data||null,t.width,t.height),this.setParameters(this)}}var o=t("./WebGLContext"),s=t("../util/Util"),u=t("../util/Stack"),c={},f=null;a.prototype.push=function(t){return c[t]=c[t]||new u,c[t].push(this),r(this,t),this},a.prototype.pop=function(t){var e;return c[t]||console.warn("No texture was bound to texture unit '"+t+"', command ignored."),c[t].pop(),e=c[t].top(),e?r(e,t):i(this),this},a.prototype.bufferData=function(t,e,r){var i=this.gl;return this.push(),i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,this.invertY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.preMultiplyAlpha),t instanceof HTMLImageElement?(this.width=t.width,this.height=t.height,t=n(t),this.image=t,i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,t)):(this.data=t,this.width=e||this.width,this.height=r||this.height,i.texImage2D(i.TEXTURE_2D,0,i[this.internalFormat],this.width,this.height,0,i[this.format],i[this.type],this.data)),this.mipMap&&i.generateMipmap(i.TEXTURE_2D),this.pop(),this},a.prototype.setParameters=function(t){var e=this.gl;if(this.push(),t.wrap&&(this.wrap=t.wrap,e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e[this.wrap.s||this.wrap]),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e[this.wrap.t||this.wrap])),t.filter){this.filter=t.filter;var n=this.filter.min||this.filter;this.mipMap&&(n+="_MIPMAP_LINEAR"),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e[this.filter.mag||this.filter]),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e[n])}return this.pop(),this},a.prototype.resize=function(t,e){return this.image?void console.error("Cannot resize image based Texture2D"):t&&e?(this.bufferData(this.data,t,e),this):void console.warn("Width or height arguments missing, command ignored.")},e.exports=a}()},{"../util/Stack":23,"../util/Util":24,"./WebGLContext":21}],17:[function(t,e,n){!function(){"use strict";function n(t){if(!u.isPowerOfTwo(t.width)||!u.isPowerOfTwo(t.height)){var e=document.createElement("canvas");e.width=u.nextHighestPowerOfTwo(t.width),e.height=u.nextHighestPowerOfTwo(t.height);var n=e.getContext("2d");return n.drawImage(t,0,0,t.width,t.height,0,0,e.width,e.height),e}return t}function r(t,e){if(d!==t){var n=t.gl;e=n["TEXTURE"+e]||n.TEXTURE0,n.activeTexture(e),n.bindTexture(n.TEXTURE_CUBE_MAP,t.texture),d=t}}function i(t){if(null!==d){var e=t.gl;e.bindTexture(e.TEXTURE_CUBE_MAP,null),d=null}}function a(t,e,n){return function(r){var i=new Image;i.onload=function(){t.bufferFaceData(n,i),r()},i.src=e}}function o(t,e){var n,r,i=this;if(this.gl=s.get(),this.texture=this.gl.createTexture(),this.wrap=t.wrap||"CLAMP_TO_EDGE",this.filter=t.filter||"LINEAR",this.invertY=void 0!==t.invertY?t.invertY:!1,t.images){for(n in t.images)t.images.hasOwnProperty(n)&&this.bufferFaceData(n,t.images[n]);this.setParameters(this)}else if(t.urls){r={};for(n in t.urls)t.urls.hasOwnProperty(n)&&(r[n]=a(this,t.urls[n],n));u.async(r,function(){i.setParameters(i),e(i)})}else this.format=t.format||"RGBA",this.internalFormat=this.format,this.type=t.type||"UNSIGNED_BYTE",this.mipMap=void 0!==t.mipMap?t.mipMap:!1,f.forEach(function(e){var n=(t.data?t.data[e]:t.data)||null;i.bufferFaceData(e,n,t.width,t.height)}),this.setParameters(this)}var s=t("./WebGLContext"),u=t("../util/Util"),c=t("../util/Stack"),f=["-x","+x","-y","+y","-z","+z"],l={"+z":"TEXTURE_CUBE_MAP_POSITIVE_Z","-z":"TEXTURE_CUBE_MAP_NEGATIVE_Z","+x":"TEXTURE_CUBE_MAP_POSITIVE_X","-x":"TEXTURE_CUBE_MAP_NEGATIVE_X","+y":"TEXTURE_CUBE_MAP_POSITIVE_Y","-y":"TEXTURE_CUBE_MAP_NEGATIVE_Y"},h={},d=null;o.prototype.push=function(t){return h[t]=h[t]||new c,h[t].push(this),r(this,t),this},o.prototype.pop=function(t){var e;return h[t]||console.log("No texture was bound to texture unit '"+t+"', command ignored."),h[t].pop(),e=h[t].top(),e?r(e,t):i(this),this},o.prototype.bufferFaceData=function(t,e,r,i){var a=this.gl,o=a[l[t]];return o||console.log("Invalid face enumeration '"+t+"' provided, command ignored."),this.push(),e instanceof HTMLImageElement?(this.images=this.images||{},this.images[t]=n(e),this.filter="LINEAR",this.mipMap=!0,a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,this.invertY),a.texImage2D(o,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,this.images[t])):(this.data=this.data||{},this.data[t]=e,this.width=r||this.width,this.height=i||this.height,a.texImage2D(o,0,a[this.internalFormat],this.width,this.height,0,a[this.format],a[this.type],e)),this.bufferedFaces=this.bufferedFaces||{},this.bufferedFaces[t]=!0,this.mipMap&&this.bufferedFaces["-x"]&&this.bufferedFaces["+x"]&&this.bufferedFaces["-y"]&&this.bufferedFaces["+y"]&&this.bufferedFaces["-z"]&&this.bufferedFaces["+z"]&&a.generateMipmap(a.TEXTURE_CUBE_MAP),this.pop(),this},o.prototype.setParameters=function(t){var e=this.gl;if(this.push(),t.wrap&&(this.wrap=t.wrap,e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_WRAP_S,e[this.wrap.s||this.wrap]),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_WRAP_T,e[this.wrap.t||this.wrap])),t.filter){this.filter=t.filter;var n=this.filter.min||this.filter;this.minMap&&(n+="_MIPMAP_LINEAR"),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e[this.filter.mag||this.filter]),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e[n])}return this.pop(),this},e.exports=o}()},{"../util/Stack":23,"../util/Util":24,"./WebGLContext":21}],18:[function(t,e,n){!function(){"use strict";function n(t){var e=4,n=0,r=0;return Object.keys(t).forEach(function(i){var a=t[i],o=a.offset;o>n&&(n=o,r=o+a.size*e)}),r}function r(t){if(!t||0===Object.keys(t).length)return console.warning("VertexBuffer requires attribute pointers to be specified upon instantiation, this buffer will not draw correctly."),{};var e={};return Object.keys(t).forEach(function(n){var r=parseInt(n,10);if(isNaN(r))return void console.warn("Attribute index '"+n+"' does not represent an integer, discarding attribute pointer.");var i=t[n],a=i.size,o=i.type,s=i.offset;(!a||1>a||a>4)&&(console.warn("Attribute pointer 'size' parameter is invalid, defaulting to 4."),a=4),o&&"FLOAT"===o||(console.warn("Attribute pointer 'type' parameter is invalid, defaulting to 'FLOAT'."),o="FLOAT"),e[r]={size:a,type:o,offset:void 0!==s?s:0}}),e}function i(t){var e,n=0;for(e in t)t.hasOwnProperty(e)&&(n+=t[e].size);return n}function a(t,e,i){i=i||{},this.buffer=0,this.gl=o.get(),t instanceof s?(this.pointers=t.attributePointers(),i=e||{}):this.pointers=r(e),t&&(t instanceof s?this.bufferData(t.buffer()):t instanceof WebGLBuffer?(this.buffer=t,this.count=void 0!==i.count?i.count:0):this.bufferData(t)),this.stride=n(this.pointers),this.offset=void 0!==i.offset?i.offset:0,this.mode=void 0!==i.mode?i.mode:"TRIANGLES"}var o=t("./WebGLContext"),s=t("./VertexPackage"),u=t("../util/Util"),c=null,f=null;a.prototype.bufferData=function(t){var e=this.gl;if(t instanceof Array)t=new Float32Array(t);else if(!u.isTypedArray(t)&&"number"!=typeof t)return void console.error("VertexBuffer requires an Array or ArrayBuffer, or a size argument, command ignored.");this.buffer||(this.buffer=e.createBuffer());var n=i(this.pointers);"number"==typeof t?this.count=t/n:this.count=t.length/n,e.bindBuffer(e.ARRAY_BUFFER,this.buffer),e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW)},a.prototype.bufferSubData=function(t,e){var n=this.gl;if(!this.buffer)return void console.error("VertexBuffer has not been initially buffered, command ignored.");if(t instanceof Array)t=new Float32Array(t);else if(!u.isTypedArray(t))return void console.error("VertexBuffer requires an Array or ArrayBuffer argument, command ignored.");e=void 0!==e?e:0,n.bindBuffer(n.ARRAY_BUFFER,this.buffer),n.bufferSubData(n.ARRAY_BUFFER,e,t)},a.prototype.bind=function(){if(c!==this){var t,e,n=this.gl,r=this.pointers,i=f||{};c=this,f={},n.bindBuffer(n.ARRAY_BUFFER,this.buffer);for(e in r)r.hasOwnProperty(e)&&(t=this.pointers[e],n.vertexAttribPointer(e,t.size,n[t.type],!1,this.stride,t.offset),n.enableVertexAttribArray(e),f[e]=!0,delete i[e]);for(e in i)i.hasOwnProperty(e)&&n.disableVertexAttribArray(e)}},a.prototype.draw=function(t){if(t=t||{},null===c)return void console.warn("No VertexBuffer is bound, command ignored.");var e=this.gl,n=e[t.mode||this.mode||"TRIANGLES"],r=void 0!==t.offset?t.offset:this.offset,i=void 0!==t.count?t.count:this.count;e.drawArrays(n,r,i)},a.prototype.unbind=function(){if(null!==c){var t,e=this.gl,n=this.pointers;for(t in n)n.hasOwnProperty(t)&&e.disableVertexAttribArray(t);e.bindBuffer(e.ARRAY_BUFFER,null),c=null,f={}}},e.exports=a}()},{"../util/Util":24,"./VertexPackage":19,"./WebGLContext":21}],19:[function(t,e,n){!function(){"use strict";function t(t){var e=[];return Object.keys(t).forEach(function(n){var r=parseInt(n,10);if(isNaN(r))return void console.warn("Attribute index '"+n+"' does not represent an integer, discarding attribute pointer.");var i=t[n];i&&i instanceof Array&&i.length>0?e.push({index:r,data:i}):console.warn("Error parsing attribute of index '"+n+"', attribute discarded.")}),e.sort(function(t,e){return t.index-e.index}),e}function n(t){return void 0!==t.x?void 0!==t.y?void 0!==t.z?void 0!==t.w?4:3:2:1:t instanceof Array?t.length:1}function r(t,e){var r=Number.MAX_VALUE,i=0;t.pointers={},e.forEach(function(e){var s=n(e.data[0]);r=Math.min(r,e.data.length),t.pointers[e.index]={type:a,size:s,offset:i*o},i+=s}),t.stride=i*o,t.length=r}function i(t){return void 0!==t?this.set(t):(this.data=new Float32Array(0),void(this.pointers={}))}var a="FLOAT",o=4;i.prototype.set=function(e){var n=this,i=t(e);return r(this,i),this.data=new Float32Array(this.length*(this.stride/o)),i.forEach(function(t){var e,r,i,a=n.pointers[t.index],s=a.offset/o,u=n.stride/o;for(r=0;r<n.length;r++)switch(e=t.data[r],i=s+u*r,a.size){case 2:n.data[i]=void 0!==e.x?e.x:e[0],n.data[i+1]=void 0!==e.y?e.y:e[1];break;case 3:n.data[i]=void 0!==e.x?e.x:e[0],n.data[i+1]=void 0!==e.y?e.y:e[1],n.data[i+2]=void 0!==e.z?e.z:e[2];break;case 4:n.data[i]=void 0!==e.x?e.x:e[0],n.data[i+1]=void 0!==e.y?e.y:e[1],n.data[i+2]=void 0!==e.z?e.z:e[2],n.data[i+3]=void 0!==e.w?e.w:e[3];break;default:void 0!==e.x?n.data[i]=e.x:void 0!==e[0]?n.data[i]=e[0]:n.data[i]=e}}),this},i.prototype.buffer=function(){return this.data},i.prototype.attributePointers=function(){return this.pointers},e.exports=i}()},{}],20:[function(t,e,n){!function(){"use strict";function n(t,e,n,r,i){var a=t.gl;e=void 0!==e?e:t.x,n=void 0!==n?n:t.y,r=void 0!==r?r:t.width,i=void 0!==i?i:t.height,a.viewport(e,n,r,i)}function r(t){t=t||{},this.gl=i.get(),this.resize(t.width||this.gl.canvas.width,t.height||this.gl.canvas.height),this.offset(void 0!==t.x?t.x:0,void 0!==t.y?t.y:0)}var i=t("./WebGLContext"),a=t("../util/Stack"),o=new a;r.prototype.resize=function(t,e){return void 0!==t&&void 0!==e&&(this.width=t,this.height=e,this.gl.canvas.width=t+this.x,this.gl.canvas.height=e+this.y),this},r.prototype.offset=function(t,e){return void 0!==t&&void 0!==e&&(this.x=t,this.y=e,this.gl.canvas.width=this.width+t,this.gl.canvas.height=this.height+e),this},r.prototype.push=function(t,e,r,i){return o.push({viewport:this,x:t,y:e,width:r,height:i}),n(this,t,e,r,i),this},r.prototype.pop=function(){var t;return o.pop(),t=o.top(),t?n(t.viewport,t.x,t.y,t.width,t.height):n(this),this},e.exports=r}()},{"../util/Stack":23,"./WebGLContext":21}],21:[function(t,e,n){!function(){"use strict";function t(t){return t instanceof HTMLImageElement||t instanceof HTMLCanvasElement?t:"string"==typeof t?document.getElementById(t):null}function n(e){if(e){var n=t(e);if(n)return o[n.id]}else if(a)return a;return null}function r(t){var e,n,r=t.gl;for(n=0;n<s.length;n++)e=s[n],t.extensions[e]=r.getExtension(e)}function i(t,e){var n,i;try{i=t.getContext("webgl",e)||t.getContext("experimental-webgl",e),n={id:t.id,gl:i,extensions:{}},r(n),o[t.id]=n,a=n}catch(s){console.error(s.message)}return i||console.error("Unable to initialize WebGL. Your browser may not support it."),n}var a=null,o={},s=["OES_texture_float","OES_texture_half_float","WEBGL_lose_context","OES_standard_derivatives","OES_vertex_array_object","WEBGL_debug_renderer_info","WEBGL_debug_shaders","WEBGL_compressed_texture_s3tc","WEBGL_depth_texture","OES_element_index_uint","EXT_texture_filter_anisotropic","WEBGL_draw_buffers","ANGLE_instanced_arrays","OES_texture_float_linear","OES_texture_half_float_linear","WEBGL_compressed_texture_atc","WEBGL_compressed_texture_pvrtc","EXT_color_buffer_half_float","WEBGL_color_buffer_float","EXT_frag_depth","EXT_sRGB","WEBGL_compressed_texture_etc1","EXT_blend_minmax","EXT_shader_texture_lod"];e.exports={bind:function(t){var e=n(t);return e?(a=e,this):(console.error("No context exists for provided argument '"+t+"', command ignored."),this)},get:function(e,r){var a=n(e);if(a)return a.gl;var s=t(e);return s&&i(s,r)?o[s.id].gl:(console.error("Context could not be found or created for argument of type'"+typeof e+"', returning 'null'."),null)},supportedExtensions:function(t){var e=n(t);if(e){var r=e.extensions,i=[];for(var a in r)r.hasOwnProperty(a)&&r[a]&&i.push(a);return i}return console.error("No context is currently bound or was provided, returning an empty array."),[]},unsupportedExtensions:function(t){var e=n(t);if(e){var r=e.extensions,i=[];for(var a in r)r.hasOwnProperty(a)&&!r[a]&&i.push(a);return i}return console.error("No context is currently bound or was provided, returning an empty array."),[]},checkExtension:function(t,e){e||(e=t,t=null);var r=n(t);if(r){var i=r.extensions;return i[e]?i[e]:!1}return console.error("No context is currently bound or provided as argument, returning false."),!1}}}()},{}],22:[function(t,e,n){!function(){"use strict";e.exports={IndexBuffer:t("./core/IndexBuffer"),Renderable:t("./core/Renderable"),RenderTarget:t("./core/RenderTarget"),Shader:t("./core/Shader"),Texture2D:t("./core/Texture2D"),TextureCubeMap:t("./core/TextureCubeMap"),VertexBuffer:t("./core/VertexBuffer"),VertexPackage:t("./core/VertexPackage"),Viewport:t("./core/Viewport"),WebGLContext:t("./core/WebGLContext")}}()},{"./core/IndexBuffer":11,"./core/RenderTarget":12,"./core/Renderable":13,"./core/Shader":14,"./core/Texture2D":16,"./core/TextureCubeMap":17,"./core/VertexBuffer":18,"./core/VertexPackage":19,"./core/Viewport":20,"./core/WebGLContext":21}],23:[function(t,e,n){!function(){"use strict";function t(){this.data=[]}t.prototype.push=function(t){return this.data.push(t),this},t.prototype.pop=function(){return this.data.pop(),this},t.prototype.top=function(){var t=this.data.length-1;return 0>t?null:this.data[t]},e.exports=t}()},{}],24:[function(t,e,n){!function(){"use strict";function n(t){return function(e){t.resolve(e)}}function r(t,e){var r,i,a=[];for(i=0;i<t.length;i++)r=new o,a.push(r),t[i](n(r));s.apply(s,a).then(function(){var t=Array.prototype.slice.call(arguments,0);e(t)})}function i(t,e){var r,i,a=[],u=[];for(i in t)t.hasOwnProperty(i)&&(r=new o,u.push(r),a.push(i),t[i](n(r)));s.apply(s,u).done(function(){var t,n=Array.prototype.slice.call(arguments,0),r={};for(t=0;t<a.length;t++)r[a[t]]=n[t];e(r)})}var a=t("simply-deferred"),o=a.Deferred,s=a.when;e.exports={async:function(t,e){t instanceof Array?r(t,e):i(t,e)},isTypedArray:function(t){return t&&t.buffer instanceof ArrayBuffer&&void 0!==t.byteLength},isPowerOfTwo:function(t){return 0!==t?0===(t&t-1):!1},nextHighestPowerOfTwo:function(t){var e;for(0!==t&&(t-=1),e=1;32>e;e<<=1)t|=t>>e;return t+1}}}()},{"simply-deferred":10}],25:[function(t,e,n){!function(){"use strict";e.exports={load:function(t,e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType=e.responseType,n.addEventListener("load",function(){e.success&&e.success(this.response)}),e.progress&&n.addEventListener("progress",function(t){e.progress(t)}),e.error&&n.addEventListener("error",function(t){e.error(t)}),n.send()}}}()},{}],26:[function(e,n,r){!function(t,e){"object"==typeof n&&"object"==typeof n.exports?n.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(e,n){function r(t){var e="length"in t&&t.length,n=tt.type(t);return"function"===n||tt.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t}function i(t,e,n){if(tt.isFunction(e))return tt.grep(t,function(t,r){return!!e.call(t,r,t)!==n});if(e.nodeType)return tt.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(ut.test(e))return tt.filter(e,t,n);e=tt.filter(e,t)}return tt.grep(t,function(t){return X.call(e,t)>=0!==n})}function a(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function o(t){var e=mt[t]={};return tt.each(t.match(pt)||[],function(t,n){e[n]=!0}),e}function s(){Q.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1),tt.ready()}function u(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=tt.expando+u.uid++}function c(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(wt,"-$1").toLowerCase(),n=t.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:_t.test(n)?tt.parseJSON(n):n}catch(i){}xt.set(t,e,n)}else n=void 0;return n}function f(){return!0}function l(){return!1}function h(){try{return Q.activeElement}catch(t){}}function d(t,e){return tt.nodeName(t,"table")&&tt.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function p(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function m(t){var e=Nt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function g(t,e){for(var n=0,r=t.length;r>n;n++)yt.set(t[n],"globalEval",!e||yt.get(e[n],"globalEval"))}function v(t,e){var n,r,i,a,o,s,u,c;if(1===e.nodeType){if(yt.hasData(t)&&(a=yt.access(t),o=yt.set(e,a),c=a.events)){delete o.handle,o.events={};for(i in c)for(n=0,r=c[i].length;r>n;n++)tt.event.add(e,i,c[i][n])}xt.hasData(t)&&(s=xt.access(t),u=tt.extend({},s),xt.set(e,u))}}function y(t,e){var n=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];
return void 0===e||e&&tt.nodeName(t,e)?tt.merge([t],n):n}function x(t,e){var n=e.nodeName.toLowerCase();"input"===n&&At.test(t.type)?e.checked=t.checked:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}function _(t,n){var r,i=tt(n.createElement(t)).appendTo(n.body),a=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:tt.css(i[0],"display");return i.detach(),a}function w(t){var e=Q,n=qt[t];return n||(n=_(t,e),"none"!==n&&n||(Bt=(Bt||tt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=Bt[0].contentDocument,e.write(),e.close(),n=_(t,e),Bt.detach()),qt[t]=n),n}function b(t,e,n){var r,i,a,o,s=t.style;return n=n||Wt(t),n&&(o=n.getPropertyValue(e)||n[e]),n&&(""!==o||tt.contains(t.ownerDocument,t)||(o=tt.style(t,e)),Ut.test(o)&&Ht.test(e)&&(r=s.width,i=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=r,s.minWidth=i,s.maxWidth=a)),void 0!==o?o+"":o}function T(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function E(t,e){if(e in t)return e;for(var n=e[0].toUpperCase()+e.slice(1),r=e,i=Yt.length;i--;)if(e=Yt[i]+n,e in t)return e;return r}function A(t,e,n){var r=Vt.exec(e);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):e}function C(t,e,n,r,i){for(var a=n===(r?"border":"content")?4:"width"===e?1:0,o=0;4>a;a+=2)"margin"===n&&(o+=tt.css(t,n+Tt[a],!0,i)),r?("content"===n&&(o-=tt.css(t,"padding"+Tt[a],!0,i)),"margin"!==n&&(o-=tt.css(t,"border"+Tt[a]+"Width",!0,i))):(o+=tt.css(t,"padding"+Tt[a],!0,i),"padding"!==n&&(o+=tt.css(t,"border"+Tt[a]+"Width",!0,i)));return o}function z(t,e,n){var r=!0,i="width"===e?t.offsetWidth:t.offsetHeight,a=Wt(t),o="border-box"===tt.css(t,"boxSizing",!1,a);if(0>=i||null==i){if(i=b(t,e,a),(0>i||null==i)&&(i=t.style[e]),Ut.test(i))return i;r=o&&(K.boxSizingReliable()||i===t.style[e]),i=parseFloat(i)||0}return i+C(t,e,n||(o?"border":"content"),r,a)+"px"}function M(t,e){for(var n,r,i,a=[],o=0,s=t.length;s>o;o++)r=t[o],r.style&&(a[o]=yt.get(r,"olddisplay"),n=r.style.display,e?(a[o]||"none"!==n||(r.style.display=""),""===r.style.display&&Et(r)&&(a[o]=yt.access(r,"olddisplay",w(r.nodeName)))):(i=Et(r),"none"===n&&i||yt.set(r,"olddisplay",i?n:tt.css(r,"display"))));for(o=0;s>o;o++)r=t[o],r.style&&(e&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=e?a[o]||"":"none"));return t}function L(t,e,n,r,i){return new L.prototype.init(t,e,n,r,i)}function R(){return setTimeout(function(){Kt=void 0}),Kt=tt.now()}function S(t,e){var n,r=0,i={height:t};for(e=e?1:0;4>r;r+=2-e)n=Tt[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function j(t,e,n){for(var r,i=(re[e]||[]).concat(re["*"]),a=0,o=i.length;o>a;a++)if(r=i[a].call(n,e,t))return r}function I(t,e,n){var r,i,a,o,s,u,c,f,l=this,h={},d=t.style,p=t.nodeType&&Et(t),m=yt.get(t,"fxshow");n.queue||(s=tt._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,l.always(function(){l.always(function(){s.unqueued--,tt.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],c=tt.css(t,"display"),f="none"===c?yt.get(t,"olddisplay")||w(t.nodeName):c,"inline"===f&&"none"===tt.css(t,"float")&&(d.display="inline-block")),n.overflow&&(d.overflow="hidden",l.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(r in e)if(i=e[r],Jt.exec(i)){if(delete e[r],a=a||"toggle"===i,i===(p?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;p=!0}h[r]=m&&m[r]||tt.style(t,r)}else c=void 0;if(tt.isEmptyObject(h))"inline"===("none"===c?w(t.nodeName):c)&&(d.display=c);else{m?"hidden"in m&&(p=m.hidden):m=yt.access(t,"fxshow",{}),a&&(m.hidden=!p),p?tt(t).show():l.done(function(){tt(t).hide()}),l.done(function(){var e;yt.remove(t,"fxshow");for(e in h)tt.style(t,e,h[e])});for(r in h)o=j(p?m[r]:0,r,l),r in m||(m[r]=o.start,p&&(o.end=o.start,o.start="width"===r||"height"===r?1:0))}}function D(t,e){var n,r,i,a,o;for(n in t)if(r=tt.camelCase(n),i=e[r],a=t[n],tt.isArray(a)&&(i=a[1],a=t[n]=a[0]),n!==r&&(t[r]=a,delete t[n]),o=tt.cssHooks[r],o&&"expand"in o){a=o.expand(a),delete t[r];for(n in a)n in t||(t[n]=a[n],e[n]=i)}else e[r]=i}function k(t,e,n){var r,i,a=0,o=ne.length,s=tt.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var e=Kt||R(),n=Math.max(0,c.startTime+c.duration-e),r=n/c.duration||0,a=1-r,o=0,u=c.tweens.length;u>o;o++)c.tweens[o].run(a);return s.notifyWith(t,[c,a,n]),1>a&&u?n:(s.resolveWith(t,[c]),!1)},c=s.promise({elem:t,props:tt.extend({},e),opts:tt.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:Kt||R(),duration:n.duration,tweens:[],createTween:function(e,n){var r=tt.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(r),r},stop:function(e){var n=0,r=e?c.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)c.tweens[n].run(1);return e?s.resolveWith(t,[c,e]):s.rejectWith(t,[c,e]),this}}),f=c.props;for(D(f,c.opts.specialEasing);o>a;a++)if(r=ne[a].call(c,t,f,c.opts))return r;return tt.map(f,j,c),tt.isFunction(c.opts.start)&&c.opts.start.call(t,c),tt.fx.timer(tt.extend(u,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function F(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,a=e.toLowerCase().match(pt)||[];if(tt.isFunction(n))for(;r=a[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function N(t,e,n,r){function i(s){var u;return a[s]=!0,tt.each(t[s]||[],function(t,s){var c=s(e,n,r);return"string"!=typeof c||o||a[c]?o?!(u=c):void 0:(e.dataTypes.unshift(c),i(c),!1)}),u}var a={},o=t===_e;return i(e.dataTypes[0])||!a["*"]&&i("*")}function P(t,e){var n,r,i=tt.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&tt.extend(!0,t,r),t}function O(t,e,n){for(var r,i,a,o,s=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)a=u[0];else{for(i in n){if(!u[0]||t.converters[i+" "+u[0]]){a=i;break}o||(o=i)}a=a||o}return a?(a!==u[0]&&u.unshift(a),n[a]):void 0}function B(t,e,n,r){var i,a,o,s,u,c={},f=t.dataTypes.slice();if(f[1])for(o in t.converters)c[o.toLowerCase()]=t.converters[o];for(a=f.shift();a;)if(t.responseFields[a]&&(n[t.responseFields[a]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=a,a=f.shift())if("*"===a)a=u;else if("*"!==u&&u!==a){if(o=c[u+" "+a]||c["* "+a],!o)for(i in c)if(s=i.split(" "),s[1]===a&&(o=c[u+" "+s[0]]||c["* "+s[0]])){o===!0?o=c[i]:c[i]!==!0&&(a=s[0],f.unshift(s[1]));break}if(o!==!0)if(o&&t["throws"])e=o(e);else try{e=o(e)}catch(l){return{state:"parsererror",error:o?l:"No conversion from "+u+" to "+a}}}return{state:"success",data:e}}function q(t,e,n,r){var i;if(tt.isArray(e))tt.each(e,function(e,i){n||Ae.test(t)?r(t,i):q(t+"["+("object"==typeof i?e:"")+"]",i,n,r)});else if(n||"object"!==tt.type(e))r(t,e);else for(i in e)q(t+"["+i+"]",e[i],n,r)}function H(t){return tt.isWindow(t)?t:9===t.nodeType&&t.defaultView}var U=[],W=U.slice,G=U.concat,V=U.push,X=U.indexOf,$={},Z=$.toString,Y=$.hasOwnProperty,K={},Q=e.document,J="2.1.4",tt=function(t,e){return new tt.fn.init(t,e)},et=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,nt=/^-ms-/,rt=/-([\da-z])/gi,it=function(t,e){return e.toUpperCase()};tt.fn=tt.prototype={jquery:J,constructor:tt,selector:"",length:0,toArray:function(){return W.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:W.call(this)},pushStack:function(t){var e=tt.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return tt.each(this,t,e)},map:function(t){return this.pushStack(tt.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(W.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:V,sort:U.sort,splice:U.splice},tt.extend=tt.fn.extend=function(){var t,e,n,r,i,a,o=arguments[0]||{},s=1,u=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[s]||{},s++),"object"==typeof o||tt.isFunction(o)||(o={}),s===u&&(o=this,s--);u>s;s++)if(null!=(t=arguments[s]))for(e in t)n=o[e],r=t[e],o!==r&&(c&&r&&(tt.isPlainObject(r)||(i=tt.isArray(r)))?(i?(i=!1,a=n&&tt.isArray(n)?n:[]):a=n&&tt.isPlainObject(n)?n:{},o[e]=tt.extend(c,a,r)):void 0!==r&&(o[e]=r));return o},tt.extend({expando:"jQuery"+(J+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===tt.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!tt.isArray(t)&&t-parseFloat(t)+1>=0},isPlainObject:function(t){return"object"!==tt.type(t)||t.nodeType||tt.isWindow(t)?!1:t.constructor&&!Y.call(t.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?$[Z.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;t=tt.trim(t),t&&(1===t.indexOf("use strict")?(e=Q.createElement("script"),e.text=t,Q.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(nt,"ms-").replace(rt,it)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var i,a=0,o=t.length,s=r(t);if(n){if(s)for(;o>a&&(i=e.apply(t[a],n),i!==!1);a++);else for(a in t)if(i=e.apply(t[a],n),i===!1)break}else if(s)for(;o>a&&(i=e.call(t[a],a,t[a]),i!==!1);a++);else for(a in t)if(i=e.call(t[a],a,t[a]),i===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(et,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(r(Object(t))?tt.merge(n,"string"==typeof t?[t]:t):V.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:X.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;n>r;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r,i=[],a=0,o=t.length,s=!n;o>a;a++)r=!e(t[a],a),r!==s&&i.push(t[a]);return i},map:function(t,e,n){var i,a=0,o=t.length,s=r(t),u=[];if(s)for(;o>a;a++)i=e(t[a],a,n),null!=i&&u.push(i);else for(a in t)i=e(t[a],a,n),null!=i&&u.push(i);return G.apply([],u)},guid:1,proxy:function(t,e){var n,r,i;return"string"==typeof e&&(n=t[e],e=t,t=n),tt.isFunction(t)?(r=W.call(arguments,2),i=function(){return t.apply(e||this,r.concat(W.call(arguments)))},i.guid=t.guid=t.guid||tt.guid++,i):void 0},now:Date.now,support:K}),tt.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){$["[object "+e+"]"]=e.toLowerCase()});var at=function(t){function e(t,e,n,r){var i,a,o,s,u,c,l,d,p,m;if((e?e.ownerDocument||e:B)!==j&&S(e),e=e||j,n=n||[],s=e.nodeType,"string"!=typeof t||!t||1!==s&&9!==s&&11!==s)return n;if(!r&&D){if(11!==s&&(i=yt.exec(t)))if(o=i[1]){if(9===s){if(a=e.getElementById(o),!a||!a.parentNode)return n;if(a.id===o)return n.push(a),n}else if(e.ownerDocument&&(a=e.ownerDocument.getElementById(o))&&P(e,a)&&a.id===o)return n.push(a),n}else{if(i[2])return Q.apply(n,e.getElementsByTagName(t)),n;if((o=i[3])&&w.getElementsByClassName)return Q.apply(n,e.getElementsByClassName(o)),n}if(w.qsa&&(!k||!k.test(t))){if(d=l=O,p=e,m=1!==s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(c=A(t),(l=e.getAttribute("id"))?d=l.replace(_t,"\\$&"):e.setAttribute("id",d),d="[id='"+d+"'] ",u=c.length;u--;)c[u]=d+h(c[u]);p=xt.test(t)&&f(e.parentNode)||e,m=c.join(",")}if(m)try{return Q.apply(n,p.querySelectorAll(m)),n}catch(g){}finally{l||e.removeAttribute("id")}}}return z(t.replace(ut,"$1"),e,n,r)}function n(){function t(n,r){return e.push(n+" ")>b.cacheLength&&delete t[e.shift()],t[n+" "]=r}var e=[];return t}function r(t){return t[O]=!0,t}function i(t){var e=j.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function a(t,e){for(var n=t.split("|"),r=t.length;r--;)b.attrHandle[n[r]]=e}function o(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||X)-(~t.sourceIndex||X);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function u(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function c(t){return r(function(e){return e=+e,r(function(n,r){for(var i,a=t([],n.length,e),o=a.length;o--;)n[i=a[o]]&&(n[i]=!(r[i]=n[i]))})})}function f(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function l(){}function h(t){for(var e=0,n=t.length,r="";n>e;e++)r+=t[e].value;return r}function d(t,e,n){var r=e.dir,i=n&&"parentNode"===r,a=H++;return e.first?function(e,n,a){for(;e=e[r];)if(1===e.nodeType||i)return t(e,n,a)}:function(e,n,o){var s,u,c=[q,a];if(o){for(;e=e[r];)if((1===e.nodeType||i)&&t(e,n,o))return!0}else for(;e=e[r];)if(1===e.nodeType||i){if(u=e[O]||(e[O]={}),(s=u[r])&&s[0]===q&&s[1]===a)return c[2]=s[2];if(u[r]=c,c[2]=t(e,n,o))return!0}}}function p(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function m(t,n,r){for(var i=0,a=n.length;a>i;i++)e(t,n[i],r);return r}function g(t,e,n,r,i){for(var a,o=[],s=0,u=t.length,c=null!=e;u>s;s++)(a=t[s])&&(!n||n(a,r,i))&&(o.push(a),c&&e.push(s));return o}function v(t,e,n,i,a,o){return i&&!i[O]&&(i=v(i)),a&&!a[O]&&(a=v(a,o)),r(function(r,o,s,u){var c,f,l,h=[],d=[],p=o.length,v=r||m(e||"*",s.nodeType?[s]:s,[]),y=!t||!r&&e?v:g(v,h,t,s,u),x=n?a||(r?t:p||i)?[]:o:y;if(n&&n(y,x,s,u),i)for(c=g(x,d),i(c,[],s,u),f=c.length;f--;)(l=c[f])&&(x[d[f]]=!(y[d[f]]=l));if(r){if(a||t){if(a){for(c=[],f=x.length;f--;)(l=x[f])&&c.push(y[f]=l);a(null,x=[],c,u)}for(f=x.length;f--;)(l=x[f])&&(c=a?tt(r,l):h[f])>-1&&(r[c]=!(o[c]=l))}}else x=g(x===o?x.splice(p,x.length):x),a?a(null,o,x,u):Q.apply(o,x)})}function y(t){for(var e,n,r,i=t.length,a=b.relative[t[0].type],o=a||b.relative[" "],s=a?1:0,u=d(function(t){return t===e},o,!0),c=d(function(t){return tt(e,t)>-1},o,!0),f=[function(t,n,r){var i=!a&&(r||n!==M)||((e=n).nodeType?u(t,n,r):c(t,n,r));return e=null,i}];i>s;s++)if(n=b.relative[t[s].type])f=[d(p(f),n)];else{if(n=b.filter[t[s].type].apply(null,t[s].matches),n[O]){for(r=++s;i>r&&!b.relative[t[r].type];r++);return v(s>1&&p(f),s>1&&h(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(ut,"$1"),n,r>s&&y(t.slice(s,r)),i>r&&y(t=t.slice(r)),i>r&&h(t))}f.push(n)}return p(f)}function x(t,n){var i=n.length>0,a=t.length>0,o=function(r,o,s,u,c){var f,l,h,d=0,p="0",m=r&&[],v=[],y=M,x=r||a&&b.find.TAG("*",c),_=q+=null==y?1:Math.random()||.1,w=x.length;for(c&&(M=o!==j&&o);p!==w&&null!=(f=x[p]);p++){if(a&&f){for(l=0;h=t[l++];)if(h(f,o,s)){u.push(f);break}c&&(q=_)}i&&((f=!h&&f)&&d--,r&&m.push(f))}if(d+=p,i&&p!==d){for(l=0;h=n[l++];)h(m,v,o,s);if(r){if(d>0)for(;p--;)m[p]||v[p]||(v[p]=Y.call(u));v=g(v)}Q.apply(u,v),c&&!r&&v.length>0&&d+n.length>1&&e.uniqueSort(u)}return c&&(q=_,M=y),m};return i?r(o):o}var _,w,b,T,E,A,C,z,M,L,R,S,j,I,D,k,F,N,P,O="sizzle"+1*new Date,B=t.document,q=0,H=0,U=n(),W=n(),G=n(),V=function(t,e){return t===e&&(R=!0),0},X=1<<31,$={}.hasOwnProperty,Z=[],Y=Z.pop,K=Z.push,Q=Z.push,J=Z.slice,tt=function(t,e){for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",it=rt.replace("w","w#"),at="\\["+nt+"*("+rt+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",ot=":("+rt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+at+")*)|.*)\\)|)",st=new RegExp(nt+"+","g"),ut=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ct=new RegExp("^"+nt+"*,"+nt+"*"),ft=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),lt=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ht=new RegExp(ot),dt=new RegExp("^"+it+"$"),pt={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt.replace("w","w*")+")"),ATTR:new RegExp("^"+at),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},mt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,xt=/[+~]/,_t=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),bt=function(t,e,n){var r="0x"+e-65536;return r!==r||n?e:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Tt=function(){S()};try{Q.apply(Z=J.call(B.childNodes),B.childNodes),Z[B.childNodes.length].nodeType}catch(Et){Q={apply:Z.length?function(t,e){K.apply(t,J.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}w=e.support={},E=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},S=e.setDocument=function(t){var e,n,r=t?t.ownerDocument||t:B;return r!==j&&9===r.nodeType&&r.documentElement?(j=r,I=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Tt,!1):n.attachEvent&&n.attachEvent("onunload",Tt)),D=!E(r),w.attributes=i(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=i(function(t){return t.appendChild(r.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=vt.test(r.getElementsByClassName),w.getById=i(function(t){return I.appendChild(t).id=O,!r.getElementsByName||!r.getElementsByName(O).length}),w.getById?(b.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&D){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},b.filter.ID=function(t){var e=t.replace(wt,bt);return function(t){return t.getAttribute("id")===e}}):(delete b.find.ID,b.filter.ID=function(t){var e=t.replace(wt,bt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),b.find.TAG=w.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,a=e.getElementsByTagName(t);if("*"===t){for(;n=a[i++];)1===n.nodeType&&r.push(n);return r}return a},b.find.CLASS=w.getElementsByClassName&&function(t,e){return D?e.getElementsByClassName(t):void 0},F=[],k=[],(w.qsa=vt.test(r.querySelectorAll))&&(i(function(t){I.appendChild(t).innerHTML="<a id='"+O+"'></a><select id='"+O+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&k.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||k.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+O+"-]").length||k.push("~="),t.querySelectorAll(":checked").length||k.push(":checked"),t.querySelectorAll("a#"+O+"+*").length||k.push(".#.+[+~]")}),i(function(t){var e=r.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&k.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||k.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),k.push(",.*:")})),(w.matchesSelector=vt.test(N=I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&i(function(t){w.disconnectedMatch=N.call(t,"div"),N.call(t,"[s!='']:x"),F.push("!=",ot)}),k=k.length&&new RegExp(k.join("|")),F=F.length&&new RegExp(F.join("|")),e=vt.test(I.compareDocumentPosition),P=e||vt.test(I.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},V=e?function(t,e){if(t===e)return R=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!w.sortDetached&&e.compareDocumentPosition(t)===n?t===r||t.ownerDocument===B&&P(B,t)?-1:e===r||e.ownerDocument===B&&P(B,e)?1:L?tt(L,t)-tt(L,e):0:4&n?-1:1)}:function(t,e){if(t===e)return R=!0,0;var n,i=0,a=t.parentNode,s=e.parentNode,u=[t],c=[e];if(!a||!s)return t===r?-1:e===r?1:a?-1:s?1:L?tt(L,t)-tt(L,e):0;if(a===s)return o(t,e);for(n=t;n=n.parentNode;)u.unshift(n);for(n=e;n=n.parentNode;)c.unshift(n);for(;u[i]===c[i];)i++;return i?o(u[i],c[i]):u[i]===B?-1:c[i]===B?1:0},r):j},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==j&&S(t),n=n.replace(lt,"='$1']"),w.matchesSelector&&D&&(!F||!F.test(n))&&(!k||!k.test(n)))try{var r=N.call(t,n);if(r||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(i){}return e(n,j,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==j&&S(t),P(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==j&&S(t);var n=b.attrHandle[e.toLowerCase()],r=n&&$.call(b.attrHandle,e.toLowerCase())?n(t,e,!D):void 0;return void 0!==r?r:w.attributes||!D?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],r=0,i=0;if(R=!w.detectDuplicates,L=!w.sortStable&&t.slice(0),t.sort(V),R){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return L=null,t},T=e.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=T(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=T(e);return n},b=e.selectors={cacheLength:50,createPseudo:r,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(wt,bt),t[3]=(t[3]||t[4]||t[5]||"").replace(wt,bt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return pt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ht.test(n)&&(e=A(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(wt,bt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=U[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&U(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(i){var a=e.attr(i,t);return null==a?"!="===n:n?(a+="","="===n?a===r:"!="===n?a!==r:"^="===n?r&&0===a.indexOf(r):"*="===n?r&&a.indexOf(r)>-1:"$="===n?r&&a.slice(-r.length)===r:"~="===n?(" "+a.replace(st," ")+" ").indexOf(r)>-1:"|="===n?a===r||a.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(t,e,n,r,i){var a="nth"!==t.slice(0,3),o="last"!==t.slice(-4),s="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,u){var c,f,l,h,d,p,m=a!==o?"nextSibling":"previousSibling",g=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!u&&!s;if(g){if(a){for(;m;){for(l=e;l=l[m];)if(s?l.nodeName.toLowerCase()===v:1===l.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[o?g.firstChild:g.lastChild],o&&y){for(f=g[O]||(g[O]={}),c=f[t]||[],d=c[0]===q&&c[1],h=c[0]===q&&c[2],l=d&&g.childNodes[d];l=++d&&l&&l[m]||(h=d=0)||p.pop();)if(1===l.nodeType&&++h&&l===e){f[t]=[q,d,h];break}}else if(y&&(c=(e[O]||(e[O]={}))[t])&&c[0]===q)h=c[1];else for(;(l=++d&&l&&l[m]||(h=d=0)||p.pop())&&((s?l.nodeName.toLowerCase()!==v:1!==l.nodeType)||!++h||(y&&((l[O]||(l[O]={}))[t]=[q,h]),l!==e)););return h-=i,h===r||h%r===0&&h/r>=0}}},PSEUDO:function(t,n){var i,a=b.pseudos[t]||b.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return a[O]?a(n):a.length>1?(i=[t,t,"",n],b.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,e){for(var r,i=a(t,n),o=i.length;o--;)r=tt(t,i[o]),t[r]=!(e[r]=i[o])}):function(t){return a(t,0,i)}):a}},pseudos:{not:r(function(t){var e=[],n=[],i=C(t.replace(ut,"$1"));return i[O]?r(function(t,e,n,r){for(var a,o=i(t,null,r,[]),s=t.length;s--;)(a=o[s])&&(t[s]=!(e[s]=a))}):function(t,r,a){return e[0]=t,i(e,null,a,n),e[0]=null,!n.pop()}}),has:r(function(t){return function(n){return e(t,n).length>0}}),contains:r(function(t){return t=t.replace(wt,bt),function(e){return(e.textContent||e.innerText||T(e)).indexOf(t)>-1}}),lang:r(function(t){return dt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(wt,bt).toLowerCase(),function(e){var n;do if(n=D?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===I},focus:function(t){return t===j.activeElement&&(!j.hasFocus||j.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!b.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return mt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,n){return[0>n?n+e:n]}),even:c(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:c(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:c(function(t,e,n){for(var r=0>n?n+e:n;--r>=0;)t.push(r);return t}),gt:c(function(t,e,n){for(var r=0>n?n+e:n;++r<e;)t.push(r);return t})}},b.pseudos.nth=b.pseudos.eq;for(_ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[_]=s(_);for(_ in{submit:!0,reset:!0})b.pseudos[_]=u(_);return l.prototype=b.filters=b.pseudos,b.setFilters=new l,A=e.tokenize=function(t,n){var r,i,a,o,s,u,c,f=W[t+" "];if(f)return n?0:f.slice(0);for(s=t,u=[],c=b.preFilter;s;){(!r||(i=ct.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),u.push(a=[])),r=!1,(i=ft.exec(s))&&(r=i.shift(),a.push({value:r,type:i[0].replace(ut," ")}),s=s.slice(r.length));for(o in b.filter)!(i=pt[o].exec(s))||c[o]&&!(i=c[o](i))||(r=i.shift(),a.push({value:r,type:o,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?e.error(t):W(t,u).slice(0)},C=e.compile=function(t,e){var n,r=[],i=[],a=G[t+" "];if(!a){for(e||(e=A(t)),n=e.length;n--;)a=y(e[n]),a[O]?r.push(a):i.push(a);a=G(t,x(i,r)),a.selector=t}return a},z=e.select=function(t,e,n,r){var i,a,o,s,u,c="function"==typeof t&&t,l=!r&&A(t=c.selector||t);if(n=n||[],1===l.length){if(a=l[0]=l[0].slice(0),a.length>2&&"ID"===(o=a[0]).type&&w.getById&&9===e.nodeType&&D&&b.relative[a[1].type]){if(e=(b.find.ID(o.matches[0].replace(wt,bt),e)||[])[0],!e)return n;c&&(e=e.parentNode),t=t.slice(a.shift().value.length)}for(i=pt.needsContext.test(t)?0:a.length;i--&&(o=a[i],!b.relative[s=o.type]);)if((u=b.find[s])&&(r=u(o.matches[0].replace(wt,bt),xt.test(a[0].type)&&f(e.parentNode)||e))){if(a.splice(i,1),t=r.length&&h(a),!t)return Q.apply(n,r),n;break}}return(c||C(t,l))(r,e,!D,n,xt.test(t)&&f(e.parentNode)||e),n},w.sortStable=O.split("").sort(V).join("")===O,w.detectDuplicates=!!R,S(),w.sortDetached=i(function(t){return 1&t.compareDocumentPosition(j.createElement("div"))}),i(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||a("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&i(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||a("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),i(function(t){return null==t.getAttribute("disabled")})||a(et,function(t,e,n){var r;return n?void 0:t[e]===!0?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),e}(e);tt.find=at,tt.expr=at.selectors,tt.expr[":"]=tt.expr.pseudos,tt.unique=at.uniqueSort,tt.text=at.getText,tt.isXMLDoc=at.isXML,tt.contains=at.contains;var ot=tt.expr.match.needsContext,st=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ut=/^.[^:#\[\.,]*$/;tt.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?tt.find.matchesSelector(r,t)?[r]:[]:tt.find.matches(t,tt.grep(e,function(t){return 1===t.nodeType}))},tt.fn.extend({find:function(t){var e,n=this.length,r=[],i=this;if("string"!=typeof t)return this.pushStack(tt(t).filter(function(){for(e=0;n>e;e++)if(tt.contains(i[e],this))return!0}));for(e=0;n>e;e++)tt.find(t,i[e],r);return r=this.pushStack(n>1?tt.unique(r):r),r.selector=this.selector?this.selector+" "+t:t,r},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&ot.test(t)?tt(t):t||[],!1).length}});var ct,ft=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,lt=tt.fn.init=function(t,e){var n,r;if(!t)return this;if("string"==typeof t){if(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:ft.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||ct).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof tt?e[0]:e,tt.merge(this,tt.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:Q,!0)),st.test(n[1])&&tt.isPlainObject(e))for(n in e)tt.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return r=Q.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=Q,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):tt.isFunction(t)?"undefined"!=typeof ct.ready?ct.ready(t):t(tt):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),tt.makeArray(t,this))};lt.prototype=tt.fn,ct=tt(Q);var ht=/^(?:parents|prev(?:Until|All))/,dt={children:!0,contents:!0,next:!0,prev:!0};tt.extend({dir:function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&tt(t).is(n))break;r.push(t)}return r},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),tt.fn.extend({has:function(t){var e=tt(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(tt.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,r=0,i=this.length,a=[],o=ot.test(t)||"string"!=typeof t?tt(t,e||this.context):0;i>r;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&tt.find.matchesSelector(n,t))){a.push(n);break}return this.pushStack(a.length>1?tt.unique(a):a)},index:function(t){return t?"string"==typeof t?X.call(tt(t),this[0]):X.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1;
},add:function(t,e){return this.pushStack(tt.unique(tt.merge(this.get(),tt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),tt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return tt.dir(t,"parentNode")},parentsUntil:function(t,e,n){return tt.dir(t,"parentNode",n)},next:function(t){return a(t,"nextSibling")},prev:function(t){return a(t,"previousSibling")},nextAll:function(t){return tt.dir(t,"nextSibling")},prevAll:function(t){return tt.dir(t,"previousSibling")},nextUntil:function(t,e,n){return tt.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return tt.dir(t,"previousSibling",n)},siblings:function(t){return tt.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return tt.sibling(t.firstChild)},contents:function(t){return t.contentDocument||tt.merge([],t.childNodes)}},function(t,e){tt.fn[t]=function(n,r){var i=tt.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=tt.filter(r,i)),this.length>1&&(dt[t]||tt.unique(i),ht.test(t)&&i.reverse()),this.pushStack(i)}});var pt=/\S+/g,mt={};tt.Callbacks=function(t){t="string"==typeof t?mt[t]||o(t):tt.extend({},t);var e,n,r,i,a,s,u=[],c=!t.once&&[],f=function(o){for(e=t.memory&&o,n=!0,s=i||0,i=0,a=u.length,r=!0;u&&a>s;s++)if(u[s].apply(o[0],o[1])===!1&&t.stopOnFalse){e=!1;break}r=!1,u&&(c?c.length&&f(c.shift()):e?u=[]:l.disable())},l={add:function(){if(u){var n=u.length;!function o(e){tt.each(e,function(e,n){var r=tt.type(n);"function"===r?t.unique&&l.has(n)||u.push(n):n&&n.length&&"string"!==r&&o(n)})}(arguments),r?a=u.length:e&&(i=n,f(e))}return this},remove:function(){return u&&tt.each(arguments,function(t,e){for(var n;(n=tt.inArray(e,u,n))>-1;)u.splice(n,1),r&&(a>=n&&a--,s>=n&&s--)}),this},has:function(t){return t?tt.inArray(t,u)>-1:!(!u||!u.length)},empty:function(){return u=[],a=0,this},disable:function(){return u=c=e=void 0,this},disabled:function(){return!u},lock:function(){return c=void 0,e||l.disable(),this},locked:function(){return!c},fireWith:function(t,e){return!u||n&&!c||(e=e||[],e=[t,e.slice?e.slice():e],r?c.push(e):f(e)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!n}};return l},tt.extend({Deferred:function(t){var e=[["resolve","done",tt.Callbacks("once memory"),"resolved"],["reject","fail",tt.Callbacks("once memory"),"rejected"],["notify","progress",tt.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var t=arguments;return tt.Deferred(function(n){tt.each(e,function(e,a){var o=tt.isFunction(t[e])&&t[e];i[a[1]](function(){var t=o&&o.apply(this,arguments);t&&tt.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a[0]+"With"](this===r?n.promise():this,o?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?tt.extend(t,r):r}},i={};return r.pipe=r.then,tt.each(e,function(t,a){var o=a[2],s=a[3];r[a[1]]=o.add,s&&o.add(function(){n=s},e[1^t][2].disable,e[2][2].lock),i[a[0]]=function(){return i[a[0]+"With"](this===i?r:this,arguments),this},i[a[0]+"With"]=o.fireWith}),r.promise(i),t&&t.call(i,i),i},when:function(t){var e,n,r,i=0,a=W.call(arguments),o=a.length,s=1!==o||t&&tt.isFunction(t.promise)?o:0,u=1===s?t:tt.Deferred(),c=function(t,n,r){return function(i){n[t]=this,r[t]=arguments.length>1?W.call(arguments):i,r===e?u.notifyWith(n,r):--s||u.resolveWith(n,r)}};if(o>1)for(e=new Array(o),n=new Array(o),r=new Array(o);o>i;i++)a[i]&&tt.isFunction(a[i].promise)?a[i].promise().done(c(i,r,a)).fail(u.reject).progress(c(i,n,e)):--s;return s||u.resolveWith(r,a),u.promise()}});var gt;tt.fn.ready=function(t){return tt.ready.promise().done(t),this},tt.extend({isReady:!1,readyWait:1,holdReady:function(t){t?tt.readyWait++:tt.ready(!0)},ready:function(t){(t===!0?--tt.readyWait:tt.isReady)||(tt.isReady=!0,t!==!0&&--tt.readyWait>0||(gt.resolveWith(Q,[tt]),tt.fn.triggerHandler&&(tt(Q).triggerHandler("ready"),tt(Q).off("ready"))))}}),tt.ready.promise=function(t){return gt||(gt=tt.Deferred(),"complete"===Q.readyState?setTimeout(tt.ready):(Q.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1))),gt.promise(t)},tt.ready.promise();var vt=tt.access=function(t,e,n,r,i,a,o){var s=0,u=t.length,c=null==n;if("object"===tt.type(n)){i=!0;for(s in n)tt.access(t,e,s,n[s],!0,a,o)}else if(void 0!==r&&(i=!0,tt.isFunction(r)||(o=!0),c&&(o?(e.call(t,r),e=null):(c=e,e=function(t,e,n){return c.call(tt(t),n)})),e))for(;u>s;s++)e(t[s],n,o?r:r.call(t[s],s,e(t[s],n)));return i?t:c?e.call(t):u?e(t[0],n):a};tt.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},u.uid=1,u.accepts=tt.acceptData,u.prototype={key:function(t){if(!u.accepts(t))return 0;var e={},n=t[this.expando];if(!n){n=u.uid++;try{e[this.expando]={value:n},Object.defineProperties(t,e)}catch(r){e[this.expando]=n,tt.extend(t,e)}}return this.cache[n]||(this.cache[n]={}),n},set:function(t,e,n){var r,i=this.key(t),a=this.cache[i];if("string"==typeof e)a[e]=n;else if(tt.isEmptyObject(a))tt.extend(this.cache[i],e);else for(r in e)a[r]=e[r];return a},get:function(t,e){var n=this.cache[this.key(t)];return void 0===e?n:n[e]},access:function(t,e,n){var r;return void 0===e||e&&"string"==typeof e&&void 0===n?(r=this.get(t,e),void 0!==r?r:this.get(t,tt.camelCase(e))):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r,i,a=this.key(t),o=this.cache[a];if(void 0===e)this.cache[a]={};else{tt.isArray(e)?r=e.concat(e.map(tt.camelCase)):(i=tt.camelCase(e),e in o?r=[e,i]:(r=i,r=r in o?[r]:r.match(pt)||[])),n=r.length;for(;n--;)delete o[r[n]]}},hasData:function(t){return!tt.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var yt=new u,xt=new u,_t=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,wt=/([A-Z])/g;tt.extend({hasData:function(t){return xt.hasData(t)||yt.hasData(t)},data:function(t,e,n){return xt.access(t,e,n)},removeData:function(t,e){xt.remove(t,e)},_data:function(t,e,n){return yt.access(t,e,n)},_removeData:function(t,e){yt.remove(t,e)}}),tt.fn.extend({data:function(t,e){var n,r,i,a=this[0],o=a&&a.attributes;if(void 0===t){if(this.length&&(i=xt.get(a),1===a.nodeType&&!yt.get(a,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&(r=o[n].name,0===r.indexOf("data-")&&(r=tt.camelCase(r.slice(5)),c(a,r,i[r])));yt.set(a,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each(function(){xt.set(this,t)}):vt(this,function(e){var n,r=tt.camelCase(t);if(a&&void 0===e){if(n=xt.get(a,t),void 0!==n)return n;if(n=xt.get(a,r),void 0!==n)return n;if(n=c(a,r,void 0),void 0!==n)return n}else this.each(function(){var n=xt.get(this,r);xt.set(this,r,e),-1!==t.indexOf("-")&&void 0!==n&&xt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){xt.remove(this,t)})}}),tt.extend({queue:function(t,e,n){var r;return t?(e=(e||"fx")+"queue",r=yt.get(t,e),n&&(!r||tt.isArray(n)?r=yt.access(t,e,tt.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=tt.queue(t,e),r=n.length,i=n.shift(),a=tt._queueHooks(t,e),o=function(){tt.dequeue(t,e)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete a.stop,i.call(t,o,a)),!r&&a&&a.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return yt.get(t,n)||yt.access(t,n,{empty:tt.Callbacks("once memory").add(function(){yt.remove(t,[e+"queue",n])})})}}),tt.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?tt.queue(this[0],t):void 0===e?this:this.each(function(){var n=tt.queue(this,t,e);tt._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&tt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){tt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=tt.Deferred(),a=this,o=this.length,s=function(){--r||i.resolveWith(a,[a])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)n=yt.get(a[o],t+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(e)}});var bt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Tt=["Top","Right","Bottom","Left"],Et=function(t,e){return t=e||t,"none"===tt.css(t,"display")||!tt.contains(t.ownerDocument,t)},At=/^(?:checkbox|radio)$/i;!function(){var t=Q.createDocumentFragment(),e=t.appendChild(Q.createElement("div")),n=Q.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),K.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",K.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Ct="undefined";K.focusinBubbles="onfocusin"in e;var zt=/^key/,Mt=/^(?:mouse|pointer|contextmenu)|click/,Lt=/^(?:focusinfocus|focusoutblur)$/,Rt=/^([^.]*)(?:\.(.+)|)$/;tt.event={global:{},add:function(t,e,n,r,i){var a,o,s,u,c,f,l,h,d,p,m,g=yt.get(t);if(g)for(n.handler&&(a=n,n=a.handler,i=a.selector),n.guid||(n.guid=tt.guid++),(u=g.events)||(u=g.events={}),(o=g.handle)||(o=g.handle=function(e){return typeof tt!==Ct&&tt.event.triggered!==e.type?tt.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(pt)||[""],c=e.length;c--;)s=Rt.exec(e[c])||[],d=m=s[1],p=(s[2]||"").split(".").sort(),d&&(l=tt.event.special[d]||{},d=(i?l.delegateType:l.bindType)||d,l=tt.event.special[d]||{},f=tt.extend({type:d,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&tt.expr.match.needsContext.test(i),namespace:p.join(".")},a),(h=u[d])||(h=u[d]=[],h.delegateCount=0,l.setup&&l.setup.call(t,r,p,o)!==!1||t.addEventListener&&t.addEventListener(d,o,!1)),l.add&&(l.add.call(t,f),f.handler.guid||(f.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,f):h.push(f),tt.event.global[d]=!0)},remove:function(t,e,n,r,i){var a,o,s,u,c,f,l,h,d,p,m,g=yt.hasData(t)&&yt.get(t);if(g&&(u=g.events)){for(e=(e||"").match(pt)||[""],c=e.length;c--;)if(s=Rt.exec(e[c])||[],d=m=s[1],p=(s[2]||"").split(".").sort(),d){for(l=tt.event.special[d]||{},d=(r?l.delegateType:l.bindType)||d,h=u[d]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=h.length;a--;)f=h[a],!i&&m!==f.origType||n&&n.guid!==f.guid||s&&!s.test(f.namespace)||r&&r!==f.selector&&("**"!==r||!f.selector)||(h.splice(a,1),f.selector&&h.delegateCount--,l.remove&&l.remove.call(t,f));o&&!h.length&&(l.teardown&&l.teardown.call(t,p,g.handle)!==!1||tt.removeEvent(t,d,g.handle),delete u[d])}else for(d in u)tt.event.remove(t,d+e[c],n,r,!0);tt.isEmptyObject(u)&&(delete g.handle,yt.remove(t,"events"))}},trigger:function(t,n,r,i){var a,o,s,u,c,f,l,h=[r||Q],d=Y.call(t,"type")?t.type:t,p=Y.call(t,"namespace")?t.namespace.split("."):[];if(o=s=r=r||Q,3!==r.nodeType&&8!==r.nodeType&&!Lt.test(d+tt.event.triggered)&&(d.indexOf(".")>=0&&(p=d.split("."),d=p.shift(),p.sort()),c=d.indexOf(":")<0&&"on"+d,t=t[tt.expando]?t:new tt.Event(d,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=p.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:tt.makeArray(n,[t]),l=tt.event.special[d]||{},i||!l.trigger||l.trigger.apply(r,n)!==!1)){if(!i&&!l.noBubble&&!tt.isWindow(r)){for(u=l.delegateType||d,Lt.test(u+d)||(o=o.parentNode);o;o=o.parentNode)h.push(o),s=o;s===(r.ownerDocument||Q)&&h.push(s.defaultView||s.parentWindow||e)}for(a=0;(o=h[a++])&&!t.isPropagationStopped();)t.type=a>1?u:l.bindType||d,f=(yt.get(o,"events")||{})[t.type]&&yt.get(o,"handle"),f&&f.apply(o,n),f=c&&o[c],f&&f.apply&&tt.acceptData(o)&&(t.result=f.apply(o,n),t.result===!1&&t.preventDefault());return t.type=d,i||t.isDefaultPrevented()||l._default&&l._default.apply(h.pop(),n)!==!1||!tt.acceptData(r)||c&&tt.isFunction(r[d])&&!tt.isWindow(r)&&(s=r[c],s&&(r[c]=null),tt.event.triggered=d,r[d](),tt.event.triggered=void 0,s&&(r[c]=s)),t.result}},dispatch:function(t){t=tt.event.fix(t);var e,n,r,i,a,o=[],s=W.call(arguments),u=(yt.get(this,"events")||{})[t.type]||[],c=tt.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,t)!==!1){for(o=tt.event.handlers.call(this,t,u),e=0;(i=o[e++])&&!t.isPropagationStopped();)for(t.currentTarget=i.elem,n=0;(a=i.handlers[n++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(a.namespace))&&(t.handleObj=a,t.data=a.data,r=((tt.event.special[a.origType]||{}).handle||a.handler).apply(i.elem,s),void 0!==r&&(t.result=r)===!1&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,r,i,a,o=[],s=e.delegateCount,u=t.target;if(s&&u.nodeType&&(!t.button||"click"!==t.type))for(;u!==this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==t.type){for(r=[],n=0;s>n;n++)a=e[n],i=a.selector+" ",void 0===r[i]&&(r[i]=a.needsContext?tt(i,this).index(u)>=0:tt.find(i,this,null,[u]).length),r[i]&&r.push(a);r.length&&o.push({elem:u,handlers:r})}return s<e.length&&o.push({elem:this,handlers:e.slice(s)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,r,i,a=e.button;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||Q,r=n.documentElement,i=n.body,t.pageX=e.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),t.which||void 0===a||(t.which=1&a?1:2&a?3:4&a?2:0),t}},fix:function(t){if(t[tt.expando])return t;var e,n,r,i=t.type,a=t,o=this.fixHooks[i];for(o||(this.fixHooks[i]=o=Mt.test(i)?this.mouseHooks:zt.test(i)?this.keyHooks:{}),r=o.props?this.props.concat(o.props):this.props,t=new tt.Event(a),e=r.length;e--;)n=r[e],t[n]=a[n];return t.target||(t.target=Q),3===t.target.nodeType&&(t.target=t.target.parentNode),o.filter?o.filter(t,a):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==h()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&tt.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return tt.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,r){var i=tt.extend(new tt.Event,n,{type:t,isSimulated:!0,originalEvent:{}});r?tt.event.trigger(i,null,e):tt.event.dispatch.call(e,i),i.isDefaultPrevented()&&n.preventDefault()}},tt.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)},tt.Event=function(t,e){return this instanceof tt.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?f:l):this.type=t,e&&tt.extend(this,e),this.timeStamp=t&&t.timeStamp||tt.now(),void(this[tt.expando]=!0)):new tt.Event(t,e)},tt.Event.prototype={isDefaultPrevented:l,isPropagationStopped:l,isImmediatePropagationStopped:l,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=f,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=f,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=f,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},tt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){tt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,a=t.handleObj;return(!i||i!==r&&!tt.contains(r,i))&&(t.type=a.origType,n=a.handler.apply(this,arguments),t.type=e),n}}}),K.focusinBubbles||tt.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){tt.event.simulate(e,t.target,tt.event.fix(t),!0)};tt.event.special[e]={setup:function(){var r=this.ownerDocument||this,i=yt.access(r,e);i||r.addEventListener(t,n,!0),yt.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=yt.access(r,e)-1;i?yt.access(r,e,i):(r.removeEventListener(t,n,!0),yt.remove(r,e))}}}),tt.fn.extend({on:function(t,e,n,r,i){var a,o;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=void 0);for(o in t)this.on(o,e,n,t[o],i);return this}if(null==n&&null==r?(r=e,n=e=void 0):null==r&&("string"==typeof e?(r=n,n=void 0):(r=n,n=e,e=void 0)),r===!1)r=l;else if(!r)return this;return 1===i&&(a=r,r=function(t){return tt().off(t),a.apply(this,arguments)},r.guid=a.guid||(a.guid=tt.guid++)),this.each(function(){tt.event.add(this,t,r,n,e)})},one:function(t,e,n,r){return this.on(t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,tt(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return(e===!1||"function"==typeof e)&&(n=e,e=void 0),n===!1&&(n=l),this.each(function(){tt.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){tt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?tt.event.trigger(t,e,n,!0):void 0}});var St=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,jt=/<([\w:]+)/,It=/<|&#?\w+;/,Dt=/<(?:script|style|link)/i,kt=/checked\s*(?:[^=]|=\s*.checked.)/i,Ft=/^$|\/(?:java|ecma)script/i,Nt=/^true\/(.*)/,Pt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ot={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ot.optgroup=Ot.option,Ot.tbody=Ot.tfoot=Ot.colgroup=Ot.caption=Ot.thead,Ot.th=Ot.td,tt.extend({clone:function(t,e,n){var r,i,a,o,s=t.cloneNode(!0),u=tt.contains(t.ownerDocument,t);if(!(K.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||tt.isXMLDoc(t)))for(o=y(s),a=y(t),r=0,i=a.length;i>r;r++)x(a[r],o[r]);if(e)if(n)for(a=a||y(t),o=o||y(s),r=0,i=a.length;i>r;r++)v(a[r],o[r]);else v(t,s);return o=y(s,"script"),o.length>0&&g(o,!u&&y(t,"script")),s},buildFragment:function(t,e,n,r){for(var i,a,o,s,u,c,f=e.createDocumentFragment(),l=[],h=0,d=t.length;d>h;h++)if(i=t[h],i||0===i)if("object"===tt.type(i))tt.merge(l,i.nodeType?[i]:i);else if(It.test(i)){for(a=a||f.appendChild(e.createElement("div")),o=(jt.exec(i)||["",""])[1].toLowerCase(),s=Ot[o]||Ot._default,a.innerHTML=s[1]+i.replace(St,"<$1></$2>")+s[2],c=s[0];c--;)a=a.lastChild;tt.merge(l,a.childNodes),a=f.firstChild,a.textContent=""}else l.push(e.createTextNode(i));for(f.textContent="",h=0;i=l[h++];)if((!r||-1===tt.inArray(i,r))&&(u=tt.contains(i.ownerDocument,i),a=y(f.appendChild(i),"script"),u&&g(a),n))for(c=0;i=a[c++];)Ft.test(i.type||"")&&n.push(i);return f},cleanData:function(t){for(var e,n,r,i,a=tt.event.special,o=0;void 0!==(n=t[o]);o++){if(tt.acceptData(n)&&(i=n[yt.expando],i&&(e=yt.cache[i]))){if(e.events)for(r in e.events)a[r]?tt.event.remove(n,r):tt.removeEvent(n,r,e.handle);yt.cache[i]&&delete yt.cache[i]}delete xt.cache[n[xt.expando]]}}}),tt.fn.extend({text:function(t){return vt(this,function(t){return void 0===t?tt.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=d(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=d(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,r=t?tt.filter(t,this):this,i=0;null!=(n=r[i]);i++)e||1!==n.nodeType||tt.cleanData(y(n)),n.parentNode&&(e&&tt.contains(n.ownerDocument,n)&&g(y(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(tt.cleanData(y(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return tt.clone(this,t,e)})},html:function(t){return vt(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Dt.test(t)&&!Ot[(jt.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(St,"<$1></$2>");try{for(;r>n;n++)e=this[n]||{},1===e.nodeType&&(tt.cleanData(y(e,!1)),e.innerHTML=t);e=0}catch(i){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,tt.cleanData(y(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=G.apply([],t);var n,r,i,a,o,s,u=0,c=this.length,f=this,l=c-1,h=t[0],d=tt.isFunction(h);if(d||c>1&&"string"==typeof h&&!K.checkClone&&kt.test(h))return this.each(function(n){var r=f.eq(n);d&&(t[0]=h.call(this,n,r.html())),r.domManip(t,e)});if(c&&(n=tt.buildFragment(t,this[0].ownerDocument,!1,this),r=n.firstChild,1===n.childNodes.length&&(n=r),r)){for(i=tt.map(y(n,"script"),p),a=i.length;c>u;u++)o=n,u!==l&&(o=tt.clone(o,!0,!0),a&&tt.merge(i,y(o,"script"))),e.call(this[u],o,u);if(a)for(s=i[i.length-1].ownerDocument,tt.map(i,m),u=0;a>u;u++)o=i[u],Ft.test(o.type||"")&&!yt.access(o,"globalEval")&&tt.contains(s,o)&&(o.src?tt._evalUrl&&tt._evalUrl(o.src):tt.globalEval(o.textContent.replace(Pt,"")))}return this}}),tt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){tt.fn[t]=function(t){for(var n,r=[],i=tt(t),a=i.length-1,o=0;a>=o;o++)n=o===a?this:this.clone(!0),tt(i[o])[e](n),V.apply(r,n.get());return this.pushStack(r)}});var Bt,qt={},Ht=/^margin/,Ut=new RegExp("^("+bt+")(?!px)[a-z%]+$","i"),Wt=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)};!function(){function t(){o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o.innerHTML="",i.appendChild(a);var t=e.getComputedStyle(o,null);n="1%"!==t.top,r="4px"===t.width,i.removeChild(a)}var n,r,i=Q.documentElement,a=Q.createElement("div"),o=Q.createElement("div");o.style&&(o.style.backgroundClip="content-box",o.cloneNode(!0).style.backgroundClip="",K.clearCloneStyle="content-box"===o.style.backgroundClip,a.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",a.appendChild(o),e.getComputedStyle&&tt.extend(K,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==r&&t(),r},reliableMarginRight:function(){var t,n=o.appendChild(Q.createElement("div"));return n.style.cssText=o.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",o.style.width="1px",i.appendChild(a),t=!parseFloat(e.getComputedStyle(n,null).marginRight),i.removeChild(a),o.removeChild(n),t}}))}(),tt.swap=function(t,e,n,r){var i,a,o={};for(a in e)o[a]=t.style[a],t.style[a]=e[a];i=n.apply(t,r||[]);for(a in e)t.style[a]=o[a];return i};var Gt=/^(none|table(?!-c[ea]).+)/,Vt=new RegExp("^("+bt+")(.*)$","i"),Xt=new RegExp("^([+-])=("+bt+")","i"),$t={position:"absolute",visibility:"hidden",display:"block"},Zt={letterSpacing:"0",fontWeight:"400"},Yt=["Webkit","O","Moz","ms"];tt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=b(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,a,o,s=tt.camelCase(e),u=t.style;return e=tt.cssProps[s]||(tt.cssProps[s]=E(u,s)),o=tt.cssHooks[e]||tt.cssHooks[s],void 0===n?o&&"get"in o&&void 0!==(i=o.get(t,!1,r))?i:u[e]:(a=typeof n,"string"===a&&(i=Xt.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(tt.css(t,e)),a="number"),null!=n&&n===n&&("number"!==a||tt.cssNumber[s]||(n+="px"),K.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),o&&"set"in o&&void 0===(n=o.set(t,n,r))||(u[e]=n)),void 0)}},css:function(t,e,n,r){var i,a,o,s=tt.camelCase(e);return e=tt.cssProps[s]||(tt.cssProps[s]=E(t.style,s)),o=tt.cssHooks[e]||tt.cssHooks[s],o&&"get"in o&&(i=o.get(t,!0,n)),void 0===i&&(i=b(t,e,r)),"normal"===i&&e in Zt&&(i=Zt[e]),""===n||n?(a=parseFloat(i),n===!0||tt.isNumeric(a)?a||0:i):i}}),tt.each(["height","width"],function(t,e){tt.cssHooks[e]={get:function(t,n,r){return n?Gt.test(tt.css(t,"display"))&&0===t.offsetWidth?tt.swap(t,$t,function(){return z(t,e,r)}):z(t,e,r):void 0},set:function(t,n,r){var i=r&&Wt(t);return A(t,n,r?C(t,e,r,"border-box"===tt.css(t,"boxSizing",!1,i),i):0)}}}),tt.cssHooks.marginRight=T(K.reliableMarginRight,function(t,e){return e?tt.swap(t,{display:"inline-block"},b,[t,"marginRight"]):void 0}),tt.each({margin:"",padding:"",border:"Width"},function(t,e){tt.cssHooks[t+e]={expand:function(n){for(var r=0,i={},a="string"==typeof n?n.split(" "):[n];4>r;r++)i[t+Tt[r]+e]=a[r]||a[r-2]||a[0];return i}},Ht.test(t)||(tt.cssHooks[t+e].set=A)}),tt.fn.extend({css:function(t,e){return vt(this,function(t,e,n){var r,i,a={},o=0;if(tt.isArray(e)){for(r=Wt(t),i=e.length;i>o;o++)a[e[o]]=tt.css(t,e[o],!1,r);return a}return void 0!==n?tt.style(t,e,n):tt.css(t,e)},t,e,arguments.length>1)},show:function(){return M(this,!0)},hide:function(){return M(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Et(this)?tt(this).show():tt(this).hide()})}}),tt.Tween=L,L.prototype={constructor:L,init:function(t,e,n,r,i,a){this.elem=t,this.prop=n,this.easing=i||"swing",this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=a||(tt.cssNumber[n]?"":"px")},cur:function(){var t=L.propHooks[this.prop];return t&&t.get?t.get(this):L.propHooks._default.get(this)},run:function(t){var e,n=L.propHooks[this.prop];return this.options.duration?this.pos=e=tt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):L.propHooks._default.set(this),this}},L.prototype.init.prototype=L.prototype,L.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=tt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){tt.fx.step[t.prop]?tt.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[tt.cssProps[t.prop]]||tt.cssHooks[t.prop])?tt.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},L.propHooks.scrollTop=L.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},tt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},tt.fx=L.prototype.init,tt.fx.step={};var Kt,Qt,Jt=/^(?:toggle|show|hide)$/,te=new RegExp("^(?:([+-])=|)("+bt+")([a-z%]*)$","i"),ee=/queueHooks$/,ne=[I],re={"*":[function(t,e){var n=this.createTween(t,e),r=n.cur(),i=te.exec(e),a=i&&i[3]||(tt.cssNumber[t]?"":"px"),o=(tt.cssNumber[t]||"px"!==a&&+r)&&te.exec(tt.css(n.elem,t)),s=1,u=20;if(o&&o[3]!==a){a=a||o[3],i=i||[],o=+r||1;do s=s||".5",o/=s,tt.style(n.elem,t,o+a);while(s!==(s=n.cur()/r)&&1!==s&&--u)}return i&&(o=n.start=+o||+r||0,n.unit=a,n.end=i[1]?o+(i[1]+1)*i[2]:+i[2]),n}]};tt.Animation=tt.extend(k,{tweener:function(t,e){tt.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,r=0,i=t.length;i>r;r++)n=t[r],re[n]=re[n]||[],re[n].unshift(e)},prefilter:function(t,e){e?ne.unshift(t):ne.push(t)}}),tt.speed=function(t,e,n){var r=t&&"object"==typeof t?tt.extend({},t):{complete:n||!n&&e||tt.isFunction(t)&&t,duration:t,easing:n&&e||e&&!tt.isFunction(e)&&e};return r.duration=tt.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in tt.fx.speeds?tt.fx.speeds[r.duration]:tt.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){tt.isFunction(r.old)&&r.old.call(this),r.queue&&tt.dequeue(this,r.queue)},r},tt.fn.extend({fadeTo:function(t,e,n,r){return this.filter(Et).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=tt.isEmptyObject(t),a=tt.speed(e,n,r),o=function(){var e=k(this,tt.extend({},t),a);(i||yt.get(this,"finish"))&&e.stop(!0)};return o.finish=o,i||a.queue===!1?this.each(o):this.queue(a.queue,o)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",a=tt.timers,o=yt.get(this);if(i)o[i]&&o[i].stop&&r(o[i]);else for(i in o)o[i]&&o[i].stop&&ee.test(i)&&r(o[i]);for(i=a.length;i--;)a[i].elem!==this||null!=t&&a[i].queue!==t||(a[i].anim.stop(n),e=!1,a.splice(i,1));(e||!n)&&tt.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=yt.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],a=tt.timers,o=r?r.length:0;for(n.finish=!0,tt.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=a.length;e--;)a[e].elem===this&&a[e].queue===t&&(a[e].anim.stop(!0),a.splice(e,1));for(e=0;o>e;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),tt.each(["toggle","show","hide"],function(t,e){var n=tt.fn[e];tt.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(S(e,!0),t,r,i)}}),tt.each({slideDown:S("show"),slideUp:S("hide"),slideToggle:S("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){tt.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),tt.timers=[],tt.fx.tick=function(){var t,e=0,n=tt.timers;for(Kt=tt.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||tt.fx.stop(),Kt=void 0},tt.fx.timer=function(t){tt.timers.push(t),t()?tt.fx.start():tt.timers.pop()},tt.fx.interval=13,tt.fx.start=function(){Qt||(Qt=setInterval(tt.fx.tick,tt.fx.interval))},tt.fx.stop=function(){clearInterval(Qt),Qt=null},tt.fx.speeds={slow:600,fast:200,_default:400},tt.fn.delay=function(t,e){return t=tt.fx?tt.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var r=setTimeout(e,t);n.stop=function(){clearTimeout(r)}})},function(){var t=Q.createElement("input"),e=Q.createElement("select"),n=e.appendChild(Q.createElement("option"));t.type="checkbox",K.checkOn=""!==t.value,K.optSelected=n.selected,e.disabled=!0,K.optDisabled=!n.disabled,t=Q.createElement("input"),t.value="t",t.type="radio",K.radioValue="t"===t.value}();var ie,ae,oe=tt.expr.attrHandle;tt.fn.extend({attr:function(t,e){return vt(this,tt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){tt.removeAttr(this,t)})}}),tt.extend({attr:function(t,e,n){var r,i,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return typeof t.getAttribute===Ct?tt.prop(t,e,n):(1===a&&tt.isXMLDoc(t)||(e=e.toLowerCase(),r=tt.attrHooks[e]||(tt.expr.match.bool.test(e)?ae:ie)),void 0===n?r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=tt.find.attr(t,e),
null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):void tt.removeAttr(t,e))},removeAttr:function(t,e){var n,r,i=0,a=e&&e.match(pt);if(a&&1===t.nodeType)for(;n=a[i++];)r=tt.propFix[n]||n,tt.expr.match.bool.test(n)&&(t[r]=!1),t.removeAttribute(n)},attrHooks:{type:{set:function(t,e){if(!K.radioValue&&"radio"===e&&tt.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),ae={set:function(t,e,n){return e===!1?tt.removeAttr(t,n):t.setAttribute(n,n),n}},tt.each(tt.expr.match.bool.source.match(/\w+/g),function(t,e){var n=oe[e]||tt.find.attr;oe[e]=function(t,e,r){var i,a;return r||(a=oe[e],oe[e]=i,i=null!=n(t,e,r)?e.toLowerCase():null,oe[e]=a),i}});var se=/^(?:input|select|textarea|button)$/i;tt.fn.extend({prop:function(t,e){return vt(this,tt.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[tt.propFix[t]||t]})}}),tt.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,n){var r,i,a,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return a=1!==o||!tt.isXMLDoc(t),a&&(e=tt.propFix[e]||e,i=tt.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||se.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),K.optSelected||(tt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),tt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){tt.propFix[this.toLowerCase()]=this});var ue=/[\t\r\n\f]/g;tt.fn.extend({addClass:function(t){var e,n,r,i,a,o,s="string"==typeof t&&t,u=0,c=this.length;if(tt.isFunction(t))return this.each(function(e){tt(this).addClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(pt)||[];c>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(ue," "):" ")){for(a=0;i=e[a++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");o=tt.trim(r),n.className!==o&&(n.className=o)}return this},removeClass:function(t){var e,n,r,i,a,o,s=0===arguments.length||"string"==typeof t&&t,u=0,c=this.length;if(tt.isFunction(t))return this.each(function(e){tt(this).removeClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(pt)||[];c>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(ue," "):"")){for(a=0;i=e[a++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");o=t?tt.trim(r):"",n.className!==o&&(n.className=o)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):tt.isFunction(t)?this.each(function(n){tt(this).toggleClass(t.call(this,n,this.className,e),e)}):this.each(function(){if("string"===n)for(var e,r=0,i=tt(this),a=t.match(pt)||[];e=a[r++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else(n===Ct||"boolean"===n)&&(this.className&&yt.set(this,"__className__",this.className),this.className=this.className||t===!1?"":yt.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(ue," ").indexOf(e)>=0)return!0;return!1}});var ce=/\r/g;tt.fn.extend({val:function(t){var e,n,r,i=this[0];{if(arguments.length)return r=tt.isFunction(t),this.each(function(n){var i;1===this.nodeType&&(i=r?t.call(this,n,tt(this).val()):t,null==i?i="":"number"==typeof i?i+="":tt.isArray(i)&&(i=tt.map(i,function(t){return null==t?"":t+""})),e=tt.valHooks[this.type]||tt.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))});if(i)return e=tt.valHooks[i.type]||tt.valHooks[i.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(ce,""):null==n?"":n)}}}),tt.extend({valHooks:{option:{get:function(t){var e=tt.find.attr(t,"value");return null!=e?e:tt.trim(tt.text(t))}},select:{get:function(t){for(var e,n,r=t.options,i=t.selectedIndex,a="select-one"===t.type||0>i,o=a?null:[],s=a?i+1:r.length,u=0>i?s:a?i:0;s>u;u++)if(n=r[u],(n.selected||u===i)&&(K.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!tt.nodeName(n.parentNode,"optgroup"))){if(e=tt(n).val(),a)return e;o.push(e)}return o},set:function(t,e){for(var n,r,i=t.options,a=tt.makeArray(e),o=i.length;o--;)r=i[o],(r.selected=tt.inArray(r.value,a)>=0)&&(n=!0);return n||(t.selectedIndex=-1),a}}}}),tt.each(["radio","checkbox"],function(){tt.valHooks[this]={set:function(t,e){return tt.isArray(e)?t.checked=tt.inArray(tt(t).val(),e)>=0:void 0}},K.checkOn||(tt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),tt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){tt.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),tt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var fe=tt.now(),le=/\?/;tt.parseJSON=function(t){return JSON.parse(t+"")},tt.parseXML=function(t){var e,n;if(!t||"string"!=typeof t)return null;try{n=new DOMParser,e=n.parseFromString(t,"text/xml")}catch(r){e=void 0}return(!e||e.getElementsByTagName("parsererror").length)&&tt.error("Invalid XML: "+t),e};var he=/#.*$/,de=/([?&])_=[^&]*/,pe=/^(.*?):[ \t]*([^\r\n]*)$/gm,me=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ge=/^(?:GET|HEAD)$/,ve=/^\/\//,ye=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,xe={},_e={},we="*/".concat("*"),be=e.location.href,Te=ye.exec(be.toLowerCase())||[];tt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:be,type:"GET",isLocal:me.test(Te[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":we,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":tt.parseJSON,"text xml":tt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?P(P(t,tt.ajaxSettings),e):P(tt.ajaxSettings,t)},ajaxPrefilter:F(xe),ajaxTransport:F(_e),ajax:function(t,e){function n(t,e,n,o){var u,f,v,y,_,b=e;2!==x&&(x=2,s&&clearTimeout(s),r=void 0,a=o||"",w.readyState=t>0?4:0,u=t>=200&&300>t||304===t,n&&(y=O(l,w,n)),y=B(l,y,w,u),u?(l.ifModified&&(_=w.getResponseHeader("Last-Modified"),_&&(tt.lastModified[i]=_),_=w.getResponseHeader("etag"),_&&(tt.etag[i]=_)),204===t||"HEAD"===l.type?b="nocontent":304===t?b="notmodified":(b=y.state,f=y.data,v=y.error,u=!v)):(v=b,(t||!b)&&(b="error",0>t&&(t=0))),w.status=t,w.statusText=(e||b)+"",u?p.resolveWith(h,[f,b,w]):p.rejectWith(h,[w,b,v]),w.statusCode(g),g=void 0,c&&d.trigger(u?"ajaxSuccess":"ajaxError",[w,l,u?f:v]),m.fireWith(h,[w,b]),c&&(d.trigger("ajaxComplete",[w,l]),--tt.active||tt.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,i,a,o,s,u,c,f,l=tt.ajaxSetup({},e),h=l.context||l,d=l.context&&(h.nodeType||h.jquery)?tt(h):tt.event,p=tt.Deferred(),m=tt.Callbacks("once memory"),g=l.statusCode||{},v={},y={},x=0,_="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===x){if(!o)for(o={};e=pe.exec(a);)o[e[1].toLowerCase()]=e[2];e=o[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===x?a:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return x||(t=y[n]=y[n]||t,v[t]=e),this},overrideMimeType:function(t){return x||(l.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>x)for(e in t)g[e]=[g[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||_;return r&&r.abort(e),n(0,e),this}};if(p.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,l.url=((t||l.url||be)+"").replace(he,"").replace(ve,Te[1]+"//"),l.type=e.method||e.type||l.method||l.type,l.dataTypes=tt.trim(l.dataType||"*").toLowerCase().match(pt)||[""],null==l.crossDomain&&(u=ye.exec(l.url.toLowerCase()),l.crossDomain=!(!u||u[1]===Te[1]&&u[2]===Te[2]&&(u[3]||("http:"===u[1]?"80":"443"))===(Te[3]||("http:"===Te[1]?"80":"443")))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=tt.param(l.data,l.traditional)),N(xe,l,e,w),2===x)return w;c=tt.event&&l.global,c&&0===tt.active++&&tt.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!ge.test(l.type),i=l.url,l.hasContent||(l.data&&(i=l.url+=(le.test(i)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=de.test(i)?i.replace(de,"$1_="+fe++):i+(le.test(i)?"&":"?")+"_="+fe++)),l.ifModified&&(tt.lastModified[i]&&w.setRequestHeader("If-Modified-Since",tt.lastModified[i]),tt.etag[i]&&w.setRequestHeader("If-None-Match",tt.etag[i])),(l.data&&l.hasContent&&l.contentType!==!1||e.contentType)&&w.setRequestHeader("Content-Type",l.contentType),w.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+we+"; q=0.01":""):l.accepts["*"]);for(f in l.headers)w.setRequestHeader(f,l.headers[f]);if(l.beforeSend&&(l.beforeSend.call(h,w,l)===!1||2===x))return w.abort();_="abort";for(f in{success:1,error:1,complete:1})w[f](l[f]);if(r=N(_e,l,e,w)){w.readyState=1,c&&d.trigger("ajaxSend",[w,l]),l.async&&l.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},l.timeout));try{x=1,r.send(v,n)}catch(b){if(!(2>x))throw b;n(-1,b)}}else n(-1,"No Transport");return w},getJSON:function(t,e,n){return tt.get(t,e,n,"json")},getScript:function(t,e){return tt.get(t,void 0,e,"script")}}),tt.each(["get","post"],function(t,e){tt[e]=function(t,n,r,i){return tt.isFunction(n)&&(i=i||r,r=n,n=void 0),tt.ajax({url:t,type:e,dataType:i,data:n,success:r})}}),tt._evalUrl=function(t){return tt.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},tt.fn.extend({wrapAll:function(t){var e;return tt.isFunction(t)?this.each(function(e){tt(this).wrapAll(t.call(this,e))}):(this[0]&&(e=tt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return tt.isFunction(t)?this.each(function(e){tt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=tt(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=tt.isFunction(t);return this.each(function(n){tt(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){tt.nodeName(this,"body")||tt(this).replaceWith(this.childNodes)}).end()}}),tt.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},tt.expr.filters.visible=function(t){return!tt.expr.filters.hidden(t)};var Ee=/%20/g,Ae=/\[\]$/,Ce=/\r?\n/g,ze=/^(?:submit|button|image|reset|file)$/i,Me=/^(?:input|select|textarea|keygen)/i;tt.param=function(t,e){var n,r=[],i=function(t,e){e=tt.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=tt.ajaxSettings&&tt.ajaxSettings.traditional),tt.isArray(t)||t.jquery&&!tt.isPlainObject(t))tt.each(t,function(){i(this.name,this.value)});else for(n in t)q(n,t[n],e,i);return r.join("&").replace(Ee,"+")},tt.fn.extend({serialize:function(){return tt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=tt.prop(this,"elements");return t?tt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!tt(this).is(":disabled")&&Me.test(this.nodeName)&&!ze.test(t)&&(this.checked||!At.test(t))}).map(function(t,e){var n=tt(this).val();return null==n?null:tt.isArray(n)?tt.map(n,function(t){return{name:e.name,value:t.replace(Ce,"\r\n")}}):{name:e.name,value:n.replace(Ce,"\r\n")}}).get()}}),tt.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var Le=0,Re={},Se={0:200,1223:204},je=tt.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var t in Re)Re[t]()}),K.cors=!!je&&"withCredentials"in je,K.ajax=je=!!je,tt.ajaxTransport(function(t){var e;return K.cors||je&&!t.crossDomain?{send:function(n,r){var i,a=t.xhr(),o=++Le;if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(i in t.xhrFields)a[i]=t.xhrFields[i];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)a.setRequestHeader(i,n[i]);e=function(t){return function(){e&&(delete Re[o],e=a.onload=a.onerror=null,"abort"===t?a.abort():"error"===t?r(a.status,a.statusText):r(Se[a.status]||a.status,a.statusText,"string"==typeof a.responseText?{text:a.responseText}:void 0,a.getAllResponseHeaders()))}},a.onload=e(),a.onerror=e("error"),e=Re[o]=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(s){if(e)throw s}},abort:function(){e&&e()}}:void 0}),tt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return tt.globalEval(t),t}}}),tt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),tt.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(r,i){e=tt("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),Q.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Ie=[],De=/(=)\?(?=&|$)|\?\?/;tt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ie.pop()||tt.expando+"_"+fe++;return this[t]=!0,t}}),tt.ajaxPrefilter("json jsonp",function(t,n,r){var i,a,o,s=t.jsonp!==!1&&(De.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&De.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=tt.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(De,"$1"+i):t.jsonp!==!1&&(t.url+=(le.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return o||tt.error(i+" was not called"),o[0]},t.dataTypes[0]="json",a=e[i],e[i]=function(){o=arguments},r.always(function(){e[i]=a,t[i]&&(t.jsonpCallback=n.jsonpCallback,Ie.push(i)),o&&tt.isFunction(a)&&a(o[0]),o=a=void 0}),"script"):void 0}),tt.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||Q;var r=st.exec(t),i=!n&&[];return r?[e.createElement(r[1])]:(r=tt.buildFragment([t],e,i),i&&i.length&&tt(i).remove(),tt.merge([],r.childNodes))};var ke=tt.fn.load;tt.fn.load=function(t,e,n){if("string"!=typeof t&&ke)return ke.apply(this,arguments);var r,i,a,o=this,s=t.indexOf(" ");return s>=0&&(r=tt.trim(t.slice(s)),t=t.slice(0,s)),tt.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),o.length>0&&tt.ajax({url:t,type:i,dataType:"html",data:e}).done(function(t){a=arguments,o.html(r?tt("<div>").append(tt.parseHTML(t)).find(r):t)}).complete(n&&function(t,e){o.each(n,a||[t.responseText,e,t])}),this},tt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){tt.fn[e]=function(t){return this.on(e,t)}}),tt.expr.filters.animated=function(t){return tt.grep(tt.timers,function(e){return t===e.elem}).length};var Fe=e.document.documentElement;tt.offset={setOffset:function(t,e,n){var r,i,a,o,s,u,c,f=tt.css(t,"position"),l=tt(t),h={};"static"===f&&(t.style.position="relative"),s=l.offset(),a=tt.css(t,"top"),u=tt.css(t,"left"),c=("absolute"===f||"fixed"===f)&&(a+u).indexOf("auto")>-1,c?(r=l.position(),o=r.top,i=r.left):(o=parseFloat(a)||0,i=parseFloat(u)||0),tt.isFunction(e)&&(e=e.call(t,n,s)),null!=e.top&&(h.top=e.top-s.top+o),null!=e.left&&(h.left=e.left-s.left+i),"using"in e?e.using.call(t,h):l.css(h)}},tt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){tt.offset.setOffset(this,t,e)});var e,n,r=this[0],i={top:0,left:0},a=r&&r.ownerDocument;if(a)return e=a.documentElement,tt.contains(e,r)?(typeof r.getBoundingClientRect!==Ct&&(i=r.getBoundingClientRect()),n=H(a),{top:i.top+n.pageYOffset-e.clientTop,left:i.left+n.pageXOffset-e.clientLeft}):i},position:function(){if(this[0]){var t,e,n=this[0],r={top:0,left:0};return"fixed"===tt.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),tt.nodeName(t[0],"html")||(r=t.offset()),r.top+=tt.css(t[0],"borderTopWidth",!0),r.left+=tt.css(t[0],"borderLeftWidth",!0)),{top:e.top-r.top-tt.css(n,"marginTop",!0),left:e.left-r.left-tt.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Fe;t&&!tt.nodeName(t,"html")&&"static"===tt.css(t,"position");)t=t.offsetParent;return t||Fe})}}),tt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var r="pageYOffset"===n;tt.fn[t]=function(i){return vt(this,function(t,i,a){var o=H(t);return void 0===a?o?o[n]:t[i]:void(o?o.scrollTo(r?e.pageXOffset:a,r?a:e.pageYOffset):t[i]=a)},t,i,arguments.length,null)}}),tt.each(["top","left"],function(t,e){tt.cssHooks[e]=T(K.pixelPosition,function(t,n){return n?(n=b(t,e),Ut.test(n)?tt(t).position()[e]+"px":n):void 0})}),tt.each({Height:"height",Width:"width"},function(t,e){tt.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){tt.fn[r]=function(r,i){var a=arguments.length&&(n||"boolean"!=typeof r),o=n||(r===!0||i===!0?"margin":"border");return vt(this,function(e,n,r){var i;return tt.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+t],i["scroll"+t],e.body["offset"+t],i["offset"+t],i["client"+t])):void 0===r?tt.css(e,n,o):tt.style(e,n,r,o)},e,a?r:void 0,a,null)}})}),tt.fn.size=function(){return this.length},tt.fn.andSelf=tt.fn.addBack,"function"==typeof t&&t.amd&&t("jquery",[],function(){return tt});var Ne=e.jQuery,Pe=e.$;return tt.noConflict=function(t){return e.$===tt&&(e.$=Pe),t&&e.jQuery===tt&&(e.jQuery=Ne),tt},typeof n===Ct&&(e.jQuery=e.$=tt),tt})},{}],27:[function(e,n,r){(function(e){(function(){function i(t,e){return t.set(e[0],e[1]),t}function a(t,e){return t.add(e),t}function o(t,e,n){var r=n.length;switch(r){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function s(t,e,n,r){for(var i=-1,a=t.length;++i<a;){var o=t[i];e(r,o,n(o),t)}return r}function u(t,e){for(var n=-1,r=t.length,i=-1,a=e.length,o=Array(r+a);++n<r;)o[n]=t[n];for(;++i<a;)o[n++]=e[i];return o}function c(t,e){for(var n=-1,r=t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function f(t,e){for(var n=t.length;n--&&e(t[n],n,t)!==!1;);return t}function l(t,e){for(var n=-1,r=t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function h(t,e){for(var n=-1,r=t.length,i=-1,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[++i]=o)}return a}function d(t,e){return!!t.length&&T(t,e,0)>-1}function p(t,e,n){for(var r=-1,i=t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function m(t,e){for(var n=-1,r=t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function g(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function v(t,e,n,r){var i=-1,a=t.length;for(r&&a&&(n=t[++i]);++i<a;)n=e(n,t[i],i,t);return n}function y(t,e,n,r){var i=t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function x(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function _(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],o=e(a);if(null!=o&&(s===K?o===o:n(o,s)))var s=o,u=a}return u}function w(t,e,n,r){var i;return n(t,function(t,n,a){return e(t,n,a)?(i=r?n:t,!1):void 0}),i}function b(t,e,n){for(var r=t.length,i=n?r:-1;n?i--:++i<r;)if(e(t[i],i,t))return i;return-1}function T(t,e,n){if(e!==e)return B(t,n);for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function E(t,e,n,r,i){return i(t,function(t,i,a){n=r?(r=!1,t):e(n,t,i,a)}),n}function A(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function C(t,e){for(var n,r=-1,i=t.length;++r<i;){var a=e(t[r]);a!==K&&(n=n===K?a:n+a)}return n}function z(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function M(t,e){return m(e,function(e){return[e,t[e]]})}function L(t){return function(e){return t(e)}}function R(t,e){return m(e,function(e){return t[e]})}function S(t,e){for(var n=-1,r=t.length;++n<r&&T(e,t[n],0)>-1;);return n}function j(t,e){for(var n=t.length;n--&&T(e,t[n],0)>-1;);return n}function I(t){return t&&t.Object===Object?t:null}function D(t,e){if(t!==e){var n=null===t,r=t===K,i=t===t,a=null===e,o=e===K,s=e===e;if(t>e&&!a||!i||n&&!o&&s||r&&s)return 1;if(e>t&&!n||!s||a&&!r&&i||o&&i)return-1}return 0}function k(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,o=i.length,s=n.length;++r<o;){var u=D(i[r],a[r]);if(u){if(r>=s)return u;var c=n[r];return u*("desc"==c?-1:1)}}return t.index-e.index}function F(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&r++;return r}function N(t){return bn[t]}function P(t){return Tn[t]}function O(t){return"\\"+Cn[t]}function B(t,e,n){for(var r=t.length,i=e+(n?0:-1);n?i--:++i<r;){var a=t[i];if(a!==a)return i}return-1}function q(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function H(t,e){return t="number"==typeof t||ze.test(t)?+t:-1,e=null==e?bt:e,t>-1&&t%1==0&&e>t}function U(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function W(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function G(t,e){for(var n=-1,r=t.length,i=-1,a=[];++n<r;){var o=t[n];(o===e||o===Mt)&&(t[n]=Mt,a[++i]=n)}return a}function V(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function X(t){if(!t||!pn.test(t))return t.length;for(var e=dn.lastIndex=0;dn.test(t);)e++;return e}function $(t){return t.match(dn)}function Z(t){return En[t]}function Y(t){function e(t){if(Oo(t)&&!bf(t)&&!(t instanceof I)){if(t instanceof r)return t;if(Wu.call(t,"__wrapped__"))return Ii(t)}return new r(t)}function n(){}function r(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=K}function I(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=At,this.__views__=[]}function ze(){var t=new I(this.__wrapped__);return t.__actions__=Pr(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Pr(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Pr(this.__views__),t}function Se(){if(this.__filtered__){var t=new I(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function je(){var t=this.__wrapped__.value(),e=this.__dir__,n=bf(t),r=0>e,i=n?t.length:0,a=gi(0,i,this.__views__),o=a.start,s=a.end,u=s-o,c=r?s:o-1,f=this.__iteratees__,l=f.length,h=0,d=mc(u,this.__takeCount__);if(!n||mt>i||i==u&&d==u)return Cr(t,this.__actions__);var p=[];t:for(;u--&&d>h;){c+=e;for(var m=-1,g=t[c];++m<l;){var v=f[m],y=v.iteratee,x=v.type,_=y(g);if(x==vt)g=_;else if(!_){if(x==gt)continue t;break t}}p[h++]=g}return p}function Ie(){}function De(t,e){return Fe(t,e)&&delete t[e]}function ke(t,e){if(bc){var n=t[e];return n===_t?K:n}return Wu.call(t,e)?t[e]:K}function Fe(t,e){return bc?t[e]!==K:Wu.call(t,e)}function Ne(t,e,n){t[e]=bc&&n===K?_t:n}function Pe(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Oe(){this.__data__={hash:new Ie,map:xc?new xc:[],string:new Ie}}function Be(t){var e=this.__data__;return Ei(t)?De("string"==typeof t?e.string:e.hash,t):xc?e.map["delete"](t):Je(e.map,t)}function qe(t){var e=this.__data__;return Ei(t)?ke("string"==typeof t?e.string:e.hash,t):xc?e.map.get(t):tn(e.map,t)}function He(t){var e=this.__data__;return Ei(t)?Fe("string"==typeof t?e.string:e.hash,t):xc?e.map.has(t):en(e.map,t)}function Ue(t,e){var n=this.__data__;return Ei(t)?Ne("string"==typeof t?n.string:n.hash,t,e):xc?n.map.set(t,e):rn(n.map,t,e),this}function We(t){var e=-1,n=t?t.length:0;for(this.__data__=new Pe;++e<n;)this.push(t[e])}function Ge(t,e){var n=t.__data__;if(Ei(e)){var r=n.__data__,i="string"==typeof e?r.string:r.hash;return i[e]===_t}return n.has(e)}function Ve(t){var e=this.__data__;if(Ei(t)){var n=e.__data__,r="string"==typeof t?n.string:n.hash;r[t]=_t}else e.set(t,_t)}function Xe(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function $e(){this.__data__={array:[],map:null}}function Ze(t){var e=this.__data__,n=e.array;return n?Je(n,t):e.map["delete"](t)}function Ye(t){var e=this.__data__,n=e.array;return n?tn(n,t):e.map.get(t)}function Ke(t){var e=this.__data__,n=e.array;return n?en(n,t):e.map.has(t)}function Qe(t,e){var n=this.__data__,r=n.array;r&&(r.length<mt-1?rn(r,t,e):(n.array=null,n.map=new Pe(r)));var i=n.map;return i&&i.set(t,e),this}function Je(t,e){var n=nn(t,e);if(0>n)return!1;var r=t.length-1;return n==r?t.pop():uc.call(t,n,1),!0}function tn(t,e){var n=nn(t,e);return 0>n?K:t[n][1]}function en(t,e){return nn(t,e)>-1}function nn(t,e){for(var n=t.length;n--;)if(_o(t[n][0],e))return n;return-1}function rn(t,e,n){var r=nn(t,e);0>r?t.push([e,n]):t[r][1]=n}function an(t,e,n,r){return t===K||_o(t,Hu[n])&&!Wu.call(r,n)?e:t}function on(t,e,n){(n!==K&&!_o(t[e],n)||"number"==typeof e&&n===K&&!(e in t))&&(t[e]=n)}function sn(t,e,n){var r=t[e];Wu.call(t,e)&&_o(r,n)&&(n!==K||e in t)||(t[e]=n)}function un(t,e,n,r){return Sc(t,function(t,i,a){e(r,t,n(t),a)}),r}function cn(t,e){return t&&Or(e,As(e),t)}function fn(t,e){for(var n=-1,r=null==t,i=e.length,a=Array(i);++n<i;)a[n]=r?K:bs(t,e[n]);return a}function ln(t){return Co(t)?t:[]}function dn(t){return"function"==typeof t?t:pu}function bn(t){return bf(t)?t:ji(t)}function Tn(t,e,n){return t===t&&(n!==K&&(t=n>=t?t:n),e!==K&&(t=t>=e?t:e)),t}function En(t,e,n,r,i,a){var o;if(n&&(o=i?n(t,r,i,a):n(t)),o!==K)return o;if(!Po(t))return t;var s=bf(t);if(s){if(o=yi(t),!e)return Pr(t,o)}else{var u=mi(t),f=u==Dt||u==kt;if(Tf(t))return Lr(t,e);if(u==Pt||u==Lt||f&&!i){if(q(t))return i?t:{};if(o=xi(f?{}:t),!e)return qr(t,cn(o,t))}else{if(!wn[u])return i?t:{};o=_i(t,u,e)}}a||(a=new Xe);var l=a.get(t);return l?l:(a.set(t,o),(s?c:On)(t,function(r,i){sn(o,i,En(r,e,n,i,t,a))}),s?o:qr(t,o))}function An(t){var e=As(t),n=e.length;return function(r){if(null==r)return!n;for(var i=n;i--;){var a=e[i],o=t[a],s=r[a];if(s===K&&!(a in Object(r))||!o(s))return!1}return!0}}function Cn(t){return Po(t)?ac(t):{}}function Ln(t,e,n){if("function"!=typeof t)throw new Bu(xt);return sc(function(){t.apply(K,n)},e)}function Rn(t,e,n,r){var i=-1,a=d,o=!0,s=t.length,u=[],c=e.length;if(!s)return u;n&&(e=m(e,L(n))),r?(a=p,o=!1):e.length>=mt&&(a=Ge,o=!1,e=new We(e));t:for(;++i<s;){var f=t[i],l=n?n(f):f;if(o&&l===l){for(var h=c;h--;)if(e[h]===l)continue t;u.push(f)}else a(e,l,r)||u.push(f)}return u}function jn(t,e){var n=!0;return Sc(t,function(t,r,i){return n=!!e(t,r,i)}),n}function In(t,e,n,r){var i=t.length;for(n=ss(n),0>n&&(n=-n>i?0:i+n),r=r===K||r>i?i:ss(r),0>r&&(r+=i),r=n>r?0:us(r);r>n;)t[n++]=e;return t}function Dn(t,e){var n=[];return Sc(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function kn(t,e,n,r){r||(r=[]);for(var i=-1,a=t.length;++i<a;){var o=t[i];e>0&&Co(o)&&(n||bf(o)||To(o))?e>1?kn(o,e-1,n,r):g(r,o):n||(r[r.length]=o)}return r}function Pn(t,e){return null==t?t:Ic(t,e,Cs)}function On(t,e){return t&&Ic(t,e,As)}function Bn(t,e){return t&&Dc(t,e,As)}function qn(t,e){return h(e,function(e){return ko(t[e])})}function Hn(t,e){e=Ti(e,t)?[e+""]:bn(e);for(var n=0,r=e.length;null!=t&&r>n;)t=t[e[n++]];return n&&n==r?t:K}function Un(t,e){return Wu.call(t,e)||"object"==typeof t&&e in t&&null===nc(t)}function Wn(t,e){return e in Object(t)}function Gn(t,e,n){return t>=mc(e,n)&&t<pc(e,n)}function Vn(t,e,n){for(var r=n?p:d,i=t.length,a=i,o=Array(i),s=[];a--;){var u=t[a];a&&e&&(u=m(u,L(e))),o[a]=!n&&(e||u.length>=120)?new We(a&&u):K}u=t[0];var c=-1,f=u.length,l=o[0];t:for(;++c<f;){var h=u[c],g=e?e(h):h;if(!(l?Ge(l,g):r(s,g,n))){for(var a=i;--a;){var v=o[a];if(!(v?Ge(v,g):r(t[a],g,n)))continue t}l&&l.push(g),s.push(h)}}return s}function Xn(t,e,n,r){return On(t,function(t,i,a){e(r,n(t),i,a)}),r}function $n(t,e,n){Ti(e,t)||(e=bn(e),t=Ri(t,e),e=Ki(e));var r=null==t?t:t[e];return null==r?K:o(r,t,n)}function Zn(t,e,n,r,i){return t===e?!0:null==t||null==e||!Po(t)&&!Oo(e)?t!==t&&e!==e:Yn(t,e,Zn,n,r,i)}function Yn(t,e,n,r,i,a){var o=bf(t),s=bf(e),u=Rt,c=Rt;o||(u=mi(t),u==Lt?u=Pt:u!=Pt&&(o=ts(t))),s||(c=mi(e),c==Lt?c=Pt:c!=Pt&&(s=ts(e)));var f=u==Pt&&!q(t),l=c==Pt&&!q(e),h=u==c;if(h&&!o&&!f)return ui(t,e,u,n,r,i);var d=i&ft;if(!d){var p=f&&Wu.call(t,"__wrapped__"),m=l&&Wu.call(e,"__wrapped__");if(p||m)return n(p?t.value():t,m?e.value():e,r,i,a)}return h?(a||(a=new Xe),(o?si:ci)(t,e,n,r,i,a)):!1}function Kn(t,e,n,r){var i=n.length,a=i,o=!r;if(null==t)return!a;for(t=Object(t);i--;){var s=n[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=n[i];var u=s[0],c=t[u],f=s[1];if(o&&s[2]){if(c===K&&!(u in t))return!1}else{var l=new Xe,h=r?r(c,f,u,t,e,l):K;if(!(h===K?Zn(f,c,r,ct|ft,l):h))return!1}}return!0}function Qn(t){var e=typeof t;return"function"==e?t:null==t?pu:"object"==e?bf(t)?rr(t[0],t[1]):nr(t):bu(t)}function Jn(t){return dc(Object(t))}function tr(t){t=null==t?t:Object(t);var e=[];for(var n in t)e.push(n);return e}function er(t,e){var n=-1,r=Ao(t)?Array(t.length):[];return Sc(t,function(t,i,a){r[++n]=e(t,i,a)}),r}function nr(t){var e=hi(t);if(1==e.length&&e[0][2]){var n=e[0][0],r=e[0][1];return function(t){return null==t?!1:t[n]===r&&(r!==K||n in Object(t))}}return function(n){return n===t||Kn(n,t,e)}}function rr(t,e){return function(n){var r=bs(n,t);return r===K&&r===e?Es(n,t):Zn(e,r,K,ct|ft)}}function ir(t,e,n,r,i){if(t!==e){var a=bf(e)||ts(e)?K:Cs(e);c(a||e,function(o,s){if(a&&(s=o,o=e[s]),Po(o))i||(i=new Xe),ar(t,e,s,n,ir,r,i);else{var u=r?r(t[s],o,s+"",t,e,i):K;u===K&&(u=o),on(t,s,u)}})}}function ar(t,e,n,r,i,a,o){var s=t[n],u=e[n],c=o.get(u);if(c)return void on(t,n,c);var f=a?a(s,u,n+"",t,e,o):K,l=f===K;l&&(f=u,bf(u)||ts(u)?bf(s)?f=s:Co(s)?f=Pr(s):(l=!1,f=En(u,!0)):$o(u)||To(u)?To(s)?f=fs(s):!Po(s)||r&&ko(s)?(l=!1,f=En(u,!0)):f=s:l=!1),o.set(u,f),l&&i(f,u,r,a,o),on(t,n,f)}function or(t,e,n){var r=-1,i=li();e=m(e.length?e:Array(1),function(t){return i(t)});var a=er(t,function(t,n,i){var a=m(e,function(e){return e(t)});return{criteria:a,index:++r,value:t}});return A(a,function(t,e){return k(t,e,n)})}function sr(t,e){return t=Object(t),v(e,function(e,n){return n in t&&(e[n]=t[n]),e},{})}function ur(t,e){var n={};return Pn(t,function(t,r){e(t,r)&&(n[r]=t)}),n}function cr(t){return function(e){return null==e?K:e[t]}}function fr(t){return function(e){return Hn(e,t)}}function lr(t,e){return hr(t,e)}function hr(t,e,n){var r=-1,i=e.length,a=t;for(n&&(a=m(t,function(t){return n(t)}));++r<i;)for(var o=0,s=e[r],u=n?n(s):s;(o=T(a,u,o))>-1;)a!==t&&uc.call(a,o,1),uc.call(t,o,1);return t}function dr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(r==n||i!=a){var a=i;if(H(i))uc.call(t,i,1);else if(Ti(i,t))delete t[i];else{var o=bn(i),s=Ri(t,o);null!=s&&delete s[Ki(o)]}}}return t}function pr(t,e){return t+fc(vc()*(e-t+1))}function mr(t,e,n,r){for(var i=-1,a=pc(cc((e-t)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=t,t+=n;return o}function gr(t,e,n,r){e=Ti(e,t)?[e+""]:bn(e);for(var i=-1,a=e.length,o=a-1,s=t;null!=s&&++i<a;){var u=e[i];if(Po(s)){var c=n;if(i!=o){var f=s[u];c=r?r(f,u,s):K,c===K&&(c=null==f?H(e[i+1])?[]:{}:f)}sn(s,u,c)}s=s[u]}return t}function vr(t,e,n){var r=-1,i=t.length;0>e&&(e=-e>i?0:i+e),n=n>i?i:n,0>n&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}
function yr(t,e){var n;return Sc(t,function(t,r,i){return n=e(t,r,i),!n}),!!n}function xr(t,e,n){var r=0,i=t?t.length:r;if("number"==typeof e&&e===e&&zt>=i){for(;i>r;){var a=r+i>>>1,o=t[a];(n?e>=o:e>o)&&null!==o?r=a+1:i=a}return i}return _r(t,e,pu,n)}function _r(t,e,n,r){e=n(e);for(var i=0,a=t?t.length:0,o=e!==e,s=null===e,u=e===K;a>i;){var c=fc((i+a)/2),f=n(t[c]),l=f!==K,h=f===f;if(o)var d=h||r;else d=s?h&&l&&(r||null!=f):u?h&&(r||l):null==f?!1:r?e>=f:e>f;d?i=c+1:a=c}return mc(a,Ct)}function wr(t){return br(t)}function br(t,e){for(var n=0,r=t.length,i=t[0],a=e?e(i):i,o=a,s=0,u=[i];++n<r;)i=t[n],a=e?e(i):i,_o(a,o)||(o=a,u[++s]=i);return u}function Tr(t,e,n){var r=-1,i=d,a=t.length,o=!0,s=[],u=s;if(n)o=!1,i=p;else if(a>=mt){var c=e?null:Fc(t);if(c)return V(c);o=!1,i=Ge,u=new We}else u=e?[]:s;t:for(;++r<a;){var f=t[r],l=e?e(f):f;if(o&&l===l){for(var h=u.length;h--;)if(u[h]===l)continue t;e&&u.push(l),s.push(f)}else i(u,l,n)||(u!==s&&u.push(l),s.push(f))}return s}function Er(t,e){e=Ti(e,t)?[e+""]:bn(e),t=Ri(t,e);var n=Ki(e);return null!=t&&Ts(t,n)?delete t[n]:!0}function Ar(t,e,n,r){for(var i=t.length,a=r?i:-1;(r?a--:++a<i)&&e(t[a],a,t););return n?vr(t,r?0:a,r?a+1:i):vr(t,r?a+1:0,r?i:a)}function Cr(t,e){var n=t;return n instanceof I&&(n=n.value()),v(e,function(t,e){return e.func.apply(e.thisArg,g([t],e.args))},n)}function zr(t,e,n){for(var r=-1,i=t.length;++r<i;)var a=a?g(Rn(a,t[r],e,n),Rn(t[r],a,e,n)):t[r];return a&&a.length?Tr(a,e,n):[]}function Mr(t,e,n){for(var r=-1,i=t.length,a=e.length,o={};++r<i;)n(o,t[r],a>r?e[r]:K);return o}function Lr(t,e){if(e)return t.slice();var n=t.constructor,r=new n(t.length);return t.copy(r),r}function Rr(t){var e=t.constructor,n=new e(t.byteLength),r=new Ju(n);return r.set(new Ju(t)),n}function Sr(t){var e=t.constructor;return v(W(t),i,new e)}function jr(t){var e=t.constructor,n=new e(t.source,we.exec(t));return n.lastIndex=t.lastIndex,n}function Ir(t){var e=t.constructor;return v(V(t),a,new e)}function Dr(t){return Qu?Object(Mc.call(t)):{}}function kr(t,e){var n=t.buffer,r=e?Rr(n):n,i=t.constructor;return new i(r,t.byteOffset,t.length)}function Fr(t,e,n,r){for(var i=-1,a=t.length,o=n.length,s=-1,u=e.length,c=pc(a-o,0),f=Array(u+c),l=!r;++s<u;)f[s]=e[s];for(;++i<o;)(l||a>i)&&(f[n[i]]=t[i]);for(;c--;)f[s++]=t[i++];return f}function Nr(t,e,n,r){for(var i=-1,a=t.length,o=-1,s=n.length,u=-1,c=e.length,f=pc(a-s,0),l=Array(f+c),h=!r;++i<f;)l[i]=t[i];for(var d=i;++u<c;)l[d+u]=e[u];for(;++o<s;)(h||a>i)&&(l[d+n[o]]=t[i++]);return l}function Pr(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function Or(t,e,n){return Br(t,e,n)}function Br(t,e,n,r){n||(n={});for(var i=-1,a=e.length;++i<a;){var o=e[i],s=r?r(n[o],t[o],o,n,t):t[o];sn(n,o,s)}return n}function qr(t,e){return Or(t,Oc(t),e)}function Hr(t,e){return function(n,r){var i=bf(n)?s:un,a=e?e():{};return i(n,t,li(r),a)}}function Ur(t){return co(function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:K,o=i>2?n[2]:K;for(a="function"==typeof a?(i--,a):K,o&&bi(n[0],n[1],o)&&(a=3>i?K:a,i=1),e=Object(e);++r<i;){var s=n[r];s&&t(e,s,r,a)}return e})}function Wr(t,e){return function(n,r){if(null==n)return n;if(!Ao(n))return t(n,r);for(var i=n.length,a=e?i:-1,o=Object(n);(e?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}function Gr(t){return function(e,n,r){for(var i=-1,a=Object(e),o=r(e),s=o.length;s--;){var u=o[t?s:++i];if(n(a[u],u,a)===!1)break}return e}}function Vr(t,e,n){function r(){var e=this&&this!==Fn&&this instanceof r?a:t;return e.apply(i?n:this,arguments)}var i=e&J,a=Zr(t);return r}function Xr(t){return function(e){e=hs(e);var n=pn.test(e)?$(e):K,r=n?n[0]:e.charAt(0),i=n?n.slice(1).join(""):e.slice(1);return r[t]()+i}}function $r(t){return function(e){return v(fu(Ws(e)),t,"")}}function Zr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Cn(t.prototype),r=t.apply(n,e);return Po(r)?r:n}}function Yr(t,e,n){function r(){for(var a=arguments.length,s=Array(a),u=a,c=pi(r);u--;)s[u]=arguments[u];var f=3>a&&s[0]!==c&&s[a-1]!==c?[]:G(s,c);if(a-=f.length,n>a)return ii(t,e,Qr,r.placeholder,K,s,f,K,K,n-a);var l=this&&this!==Fn&&this instanceof r?i:t;return o(l,this,s)}var i=Zr(t);return r}function Kr(t){return co(function(e){e=kn(e,1);var n=e.length,i=n,a=r.prototype.thru;for(t&&e.reverse();i--;){var o=e[i];if("function"!=typeof o)throw new Bu(xt);if(a&&!s&&"wrapper"==fi(o))var s=new r([],!0)}for(i=s?i:n;++i<n;){o=e[i];var u=fi(o),c="wrapper"==u?Nc(o):K;s=c&&Ai(c[0])&&c[1]==(ot|nt|it|st)&&!c[4].length&&1==c[9]?s[fi(c[0])].apply(s,c[3]):1==o.length&&Ai(o)?s[u]():s.thru(o)}return function(){var t=arguments,r=t[0];if(s&&1==t.length&&bf(r)&&r.length>=mt)return s.plant(r).value();for(var i=0,a=n?e[i].apply(this,t):r;++i<n;)a=e[i].call(this,a);return a}})}function Qr(t,e,n,r,i,a,o,s,u,c){function f(){for(var v=arguments.length,y=v,x=Array(v);y--;)x[y]=arguments[y];if(p)var _=pi(f),w=F(x,_);if(r&&(x=Fr(x,r,i,p)),a&&(x=Nr(x,a,o,p)),v-=w,p&&c>v){var b=G(x,_);return ii(t,e,Qr,f.placeholder,n,x,b,s,u,c-v)}var T=h?n:this,E=d?T[t]:t;return v=x.length,s?x=Si(x,s):m&&v>1&&x.reverse(),l&&v>u&&(x.length=u),this&&this!==Fn&&this instanceof f&&(E=g||Zr(E)),E.apply(T,x)}var l=e&ot,h=e&J,d=e&tt,p=e&(nt|rt),m=e&ut,g=d?K:Zr(t);return f}function Jr(t,e){return function(n,r){return Xn(n,t,e(r),{})}}function ti(t){return co(function(e){return e=m(kn(e,1),li()),co(function(n){var r=this;return t(e,function(t){return o(t,r,n)})})})}function ei(t,e,n){e=ss(e);var r=X(t);if(!e||r>=e)return"";var i=e-r;n=n===K?" ":n+"";var a=Qs(n,cc(i/X(n)));return pn.test(n)?$(a).slice(0,i).join(""):a.slice(0,i)}function ni(t,e,n,r){function i(){for(var e=-1,u=arguments.length,c=-1,f=r.length,l=Array(f+u),h=this&&this!==Fn&&this instanceof i?s:t;++c<f;)l[c]=r[c];for(;u--;)l[c++]=arguments[++e];return o(h,a?n:this,l)}var a=e&J,s=Zr(t);return i}function ri(t){return function(e,n,r){return r&&"number"!=typeof r&&bi(e,n,r)&&(n=r=K),e=cs(e),e=e===e?e:0,n===K?(n=e,e=0):n=cs(n)||0,r=r===K?n>e?1:-1:cs(r)||0,mr(e,n,r,t)}}function ii(t,e,n,r,i,a,o,s,u,c){var f=e&nt,l=s?Pr(s):K,h=f?o:K,d=f?K:o,p=f?a:K,m=f?K:a;e|=f?it:at,e&=~(f?at:it),e&et||(e&=~(J|tt));var g=[t,e,i,p,h,m,d,l,u,c],v=n.apply(K,g);return Ai(t)&&Bc(v,g),v.placeholder=r,v}function ai(t){var e=Pu[t];return function(t,n){if(t=cs(t),n=ss(n)){var r=(hs(t)+"e").split("e"),i=e(r[0]+"e"+(+r[1]+n));return r=(hs(i)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return e(t)}}function oi(t,e,n,r,i,a,o,s){var u=e&tt;if(!u&&"function"!=typeof t)throw new Bu(xt);var c=r?r.length:0;if(c||(e&=~(it|at),r=i=K),o=o===K?o:pc(ss(o),0),s=s===K?s:ss(s),c-=i?i.length:0,e&at){var f=r,l=i;r=i=K}var h=u?K:Nc(t),d=[t,e,n,r,i,f,l,a,o,s];if(h&&Mi(d,h),t=d[0],e=d[1],n=d[2],r=d[3],i=d[4],s=d[9]=null==d[9]?u?0:t.length:pc(d[9]-c,0),!s&&e&(nt|rt)&&(e&=~(nt|rt)),e&&e!=J)p=e==nt||e==rt?Yr(t,e,s):e!=it&&e!=(J|it)||i.length?Qr.apply(K,d):ni(t,e,n,r);else var p=Vr(t,e,n);var m=h?kc:Bc;return m(p,d)}function si(t,e,n,r,i,a){var o=-1,s=i&ft,u=i&ct,c=t.length,f=e.length;if(c!=f&&!(s&&f>c))return!1;var l=a.get(t);if(l)return l==e;var h=!0;for(a.set(t,e);++o<c;){var d=t[o],p=e[o];if(r)var m=s?r(p,d,o,e,t,a):r(d,p,o,t,e,a);if(m!==K){if(m)continue;h=!1;break}if(u){if(!x(e,function(t){return d===t||n(d,t,r,i,a)})){h=!1;break}}else if(d!==p&&!n(d,p,r,i,a)){h=!1;break}}return a["delete"](t),h}function ui(t,e,n,r,i,a){switch(n){case Gt:return t.byteLength==e.byteLength&&r(new Ju(t),new Ju(e))?!0:!1;case St:case jt:return+t==+e;case It:return t.name==e.name&&t.message==e.message;case Nt:return t!=+t?e!=+e:t==+e;case Ot:case qt:return t==e+"";case Ft:var o=W;case Bt:var s=a&ft;return o||(o=V),(s||t.size==e.size)&&r(o(t),o(e),i,a|ct);case Ht:return!!Qu&&Mc.call(t)==Mc.call(e)}return!1}function ci(t,e,n,r,i,a){var o=i&ft,s=As(t),u=s.length,c=As(e),f=c.length;if(u!=f&&!o)return!1;for(var l=u;l--;){var h=s[l];if(!(o?h in e:Un(e,h)))return!1}var d=a.get(t);if(d)return d==e;var p=!0;a.set(t,e);for(var m=o;++l<u;){h=s[l];var g=t[h],v=e[h];if(r)var y=o?r(v,g,h,e,t,a):r(g,v,h,t,e,a);if(!(y===K?g===v||n(g,v,r,i,a):y)){p=!1;break}m||(m="constructor"==h)}if(p&&!m){var x=t.constructor,_=e.constructor;x!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof x&&x instanceof x&&"function"==typeof _&&_ instanceof _)&&(p=!1)}return a["delete"](t),p}function fi(t){for(var e=t.name+"",n=Rc[e],r=Wu.call(Rc,e)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==t)return i.name}return e}function li(){var t=e.iteratee||mu;return t=t===mu?Qn:t,arguments.length?t(arguments[0],arguments[1]):t}function hi(t){for(var e=Ds(t),n=e.length;n--;)e[n][2]=zi(e[n][1]);return e}function di(t,e){var n=null==t?K:t[e];return Wo(n)?n:K}function pi(t){var n=Wu.call(e,"placeholder")?e:t;return n.placeholder}function mi(t){return Xu.call(t)}function gi(t,e,n){for(var r=-1,i=n.length;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":t+=o;break;case"dropRight":e-=o;break;case"take":e=mc(e,t+o);break;case"takeRight":t=pc(t,e-o)}}return{start:t,end:e}}function vi(t,e,n){if(null==t)return!1;var r=n(t,e);r||Ti(e)||(e=bn(e),t=Ri(t,e),null!=t&&(e=Ki(e),r=n(t,e)));var i=t?t.length:K;return r||!!i&&No(i)&&H(e,i)&&(bf(t)||Qo(t)||To(t))}function yi(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&Wu.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function xi(t){return ko(t.constructor)&&!Ci(t)?Cn(nc(t)):{}}function _i(t,e,n){var r=t.constructor;switch(e){case Gt:return Rr(t);case St:case jt:return new r(+t);case Vt:case Xt:case $t:case Zt:case Yt:case Kt:case Qt:case Jt:case te:return kr(t,n);case Ft:return Sr(t);case Nt:case qt:return new r(t);case Ot:return jr(t);case Bt:return Ir(t);case Ht:return Dr(t)}}function wi(t){var e=t?t.length:K;return No(e)&&(bf(t)||Qo(t)||To(t))?z(e,String):null}function bi(t,e,n){if(!Po(n))return!1;var r=typeof e;return("number"==r?Ao(n)&&H(e,n.length):"string"==r&&e in n)?_o(n[e],t):!1}function Ti(t,e){return"number"==typeof t?!0:!bf(t)&&(he.test(t)||!le.test(t)||null!=e&&t in Object(e))}function Ei(t){var e=typeof t;return"number"==e||"boolean"==e||"string"==e&&"__proto__"!=t||null==t}function Ai(t){var n=fi(t),r=e[n];if("function"!=typeof r||!(n in I.prototype))return!1;if(t===r)return!0;var i=Nc(r);return!!i&&t===i[0]}function Ci(t){var e=t&&t.constructor,n=ko(e)&&e.prototype||Hu;return t===n}function zi(t){return t===t&&!Po(t)}function Mi(t,e){var n=t[1],r=e[1],i=n|r,a=(J|tt|ot)>i,o=r==ot&&n==nt||r==ot&&n==st&&t[7].length<=e[8]||r==(ot|st)&&e[7].length<=e[8]&&n==nt;if(!a&&!o)return t;r&J&&(t[2]=e[2],i|=n&J?0:et);var s=e[3];if(s){var u=t[3];t[3]=u?Fr(u,s,e[4]):Pr(s),t[4]=u?G(t[3],Mt):Pr(e[4])}return s=e[5],s&&(u=t[5],t[5]=u?Nr(u,s,e[6]):Pr(s),t[6]=u?G(t[5],Mt):Pr(e[6])),s=e[7],s&&(t[7]=Pr(s)),r&ot&&(t[8]=null==t[8]?e[8]:mc(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function Li(t,e,n,r,i,a){return Po(t)&&Po(e)&&(a.set(e,t),ir(t,e,K,Li,a)),t}function Ri(t,e){return 1==e.length?t:bs(t,vr(e,0,-1))}function Si(t,e){for(var n=t.length,r=mc(e.length,n),i=Pr(t);r--;){var a=e[r];t[r]=H(a,n)?i[a]:K}return t}function ji(t){var e=[];return hs(t).replace(de,function(t,n,r,i){e.push(r?i.replace(xe,"$1"):n||t)}),e}function Ii(t){if(t instanceof I)return t.clone();var e=new r(t.__wrapped__,t.__chain__);return e.__actions__=Pr(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function Di(t,e){e=pc(ss(e),0);var n=t?t.length:0;if(!n||1>e)return[];for(var r=0,i=-1,a=Array(cc(n/e));n>r;)a[++i]=vr(t,r,r+=e);return a}function ki(t){for(var e=-1,n=t?t.length:0,r=-1,i=[];++e<n;){var a=t[e];a&&(i[++r]=a)}return i}function Fi(t,e,n){var r=t?t.length:0;return r?(e=n||e===K?1:ss(e),vr(t,0>e?0:e,r)):[]}function Ni(t,e,n){var r=t?t.length:0;return r?(e=n||e===K?1:ss(e),e=r-e,vr(t,0,0>e?0:e)):[]}function Pi(t,e){return t&&t.length?Ar(t,li(e,3),!0,!0):[]}function Oi(t,e){return t&&t.length?Ar(t,li(e,3),!0):[]}function Bi(t,e,n,r){var i=t?t.length:0;return i?(n&&"number"!=typeof n&&bi(t,e,n)&&(n=0,r=i),In(t,e,n,r)):[]}function qi(t,e){return t&&t.length?b(t,li(e,3)):-1}function Hi(t,e){return t&&t.length?b(t,li(e,3),!0):-1}function Ui(t){var e=t?t.length:0;return e?kn(t,1):[]}function Wi(t){var e=t?t.length:0;return e?kn(t,wt):[]}function Gi(t,e){var n=t?t.length:0;return n?(e=e===K?1:ss(e),kn(t,e)):[]}function Vi(t){for(var e=-1,n=t?t.length:0,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r}function Xi(t){return t?t[0]:K}function $i(t,e,n){var r=t?t.length:0;return r?(n=ss(n),0>n&&(n=pc(r+n,0)),T(t,e,n)):-1}function Zi(t){return Ni(t,1)}function Yi(t,e){return t?hc.call(t,e):""}function Ki(t){var e=t?t.length:0;return e?t[e-1]:K}function Qi(t,e,n){var r=t?t.length:0;if(!r)return-1;var i=r;if(n!==K&&(i=ss(n),i=(0>i?pc(r+i,0):mc(i,r-1))+1),e!==e)return B(t,i,!0);for(;i--;)if(t[i]===e)return i;return-1}function Ji(t,e){return t&&t.length&&e&&e.length?lr(t,e):t}function ta(t,e,n){return t&&t.length&&e&&e.length?hr(t,e,li(n)):t}function ea(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],a=t.length;for(e=li(e,3);++r<a;){var o=t[r];e(o,r,t)&&(n.push(o),i.push(r))}return dr(t,i),n}function na(t){return t?yc.call(t):t}function ra(t,e,n){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&bi(t,e,n)?(e=0,n=r):(e=null==e?0:ss(e),n=n===K?r:ss(n)),vr(t,e,n)):[]}function ia(t,e){return xr(t,e)}function aa(t,e,n){return _r(t,e,li(n))}function oa(t,e){var n=t?t.length:0;if(n){var r=xr(t,e);if(n>r&&_o(t[r],e))return r}return-1}function sa(t,e){return xr(t,e,!0)}function ua(t,e,n){return _r(t,e,li(n),!0)}function ca(t,e){var n=t?t.length:0;if(n){var r=xr(t,e,!0)-1;if(_o(t[r],e))return r}return-1}function fa(t){return t&&t.length?wr(t):[]}function la(t,e){return t&&t.length?br(t,li(e)):[]}function ha(t){return Fi(t,1)}function da(t,e,n){return t&&t.length?(e=n||e===K?1:ss(e),vr(t,0,0>e?0:e)):[]}function pa(t,e,n){var r=t?t.length:0;return r?(e=n||e===K?1:ss(e),e=r-e,vr(t,0>e?0:e,r)):[]}function ma(t,e){return t&&t.length?Ar(t,li(e,3),!1,!0):[]}function ga(t,e){return t&&t.length?Ar(t,li(e,3)):[]}function va(t){return t&&t.length?Tr(t):[]}function ya(t,e){return t&&t.length?Tr(t,li(e)):[]}function xa(t,e){return t&&t.length?Tr(t,K,e):[]}function _a(t){if(!t||!t.length)return[];var e=0;return t=h(t,function(t){return Co(t)?(e=pc(t.length,e),!0):void 0}),z(e,function(e){return m(t,cr(e))})}function wa(t,e){if(!t||!t.length)return[];var n=_a(t);return null==e?n:m(n,function(t){return o(e,K,t)})}function ba(t,e){return Mr(t||[],e||[],sn)}function Ta(t,e){return Mr(t||[],e||[],gr)}function Ea(t){var n=e(t);return n.__chain__=!0,n}function Aa(t,e){return e(t),t}function Ca(t,e){return e(t)}function za(){return Ea(this)}function Ma(){return new r(this.value(),this.__chain__)}function La(t){return this.map(t).flatten()}function Ra(){this.__values__===K&&(this.__values__=os(this.value()));var t=this.__index__>=this.__values__.length,e=t?K:this.__values__[this.__index__++];return{done:t,value:e}}function Sa(){return this}function ja(t){for(var e,r=this;r instanceof n;){var i=Ii(r);i.__index__=0,i.__values__=K,e?a.__wrapped__=i:e=i;var a=i;r=r.__wrapped__}return a.__wrapped__=t,e}function Ia(){var t=this.__wrapped__;if(t instanceof I){var e=t;return this.__actions__.length&&(e=new I(this)),e=e.reverse(),e.__actions__.push({func:Ca,args:[na],thisArg:K}),new r(e,this.__chain__)}return this.thru(na)}function Da(){return Cr(this.__wrapped__,this.__actions__)}function ka(t,e,n){var r=bf(t)?l:jn;return n&&bi(t,e,n)&&(e=K),r(t,li(e,3))}function Fa(t,e){var n=bf(t)?h:Dn;return n(t,li(e,3))}function Na(t,e){if(e=li(e,3),bf(t)){var n=b(t,e);return n>-1?t[n]:K}return w(t,e,Sc)}function Pa(t,e){if(e=li(e,3),bf(t)){var n=b(t,e,!0);return n>-1?t[n]:K}return w(t,e,jc)}function Oa(t,e){return kn(Ua(t,e),1)}function Ba(t,e){return"function"==typeof e&&bf(t)?c(t,e):Sc(t,dn(e))}function qa(t,e){return"function"==typeof e&&bf(t)?f(t,e):jc(t,dn(e))}function Ha(t,e,n,r){t=Ao(t)?t:Ps(t),n=n&&!r?ss(n):0;var i=t.length;return 0>n&&(n=pc(i+n,0)),Qo(t)?i>=n&&t.indexOf(e,n)>-1:!!i&&T(t,e,n)>-1}function Ua(t,e){var n=bf(t)?m:er;return n(t,li(e,3))}function Wa(t,e,n,r){return null==t?[]:(bf(e)||(e=null==e?[]:[e]),n=r?K:n,bf(n)||(n=null==n?[]:[n]),or(t,e,n))}function Ga(t,e,n){var r=bf(t)?v:E,i=arguments.length<3;return r(t,li(e,4),n,i,Sc)}function Va(t,e,n){var r=bf(t)?y:E,i=arguments.length<3;return r(t,li(e,4),n,i,jc)}function Xa(t,e){var n=bf(t)?h:Dn;return e=li(e,3),n(t,function(t,n,r){return!e(t,n,r)})}function $a(t){var e=Ao(t)?t:Ps(t),n=e.length;return n>0?e[pr(0,n-1)]:K}function Za(t,e){var n=-1,r=os(t),i=r.length,a=i-1;for(e=Tn(ss(e),0,i);++n<e;){var o=pr(n,a),s=r[o];r[o]=r[n],r[n]=s}return r.length=e,r}function Ya(t){return Za(t,At)}function Ka(t){if(null==t)return 0;if(Ao(t)){var e=t.length;return e&&Qo(t)?X(t):e}return As(t).length}function Qa(t,e,n){var r=bf(t)?x:yr;return n&&bi(t,e,n)&&(e=K),r(t,li(e,3))}function Ja(t,e){if("function"!=typeof e)throw new Bu(xt);return t=ss(t),function(){return--t<1?e.apply(this,arguments):void 0}}function to(t,e,n){return e=n?K:e,e=t&&null==e?t.length:e,oi(t,ot,K,K,K,K,e)}function eo(t,e){var n;if("function"!=typeof e)throw new Bu(xt);return t=ss(t),function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=K),n}}function no(t,e,n){e=n?K:e;var r=oi(t,nt,K,K,K,K,K,e);return r.placeholder=no.placeholder,r}function ro(t,e,n){e=n?K:e;var r=oi(t,rt,K,K,K,K,K,e);return r.placeholder=ro.placeholder,r}function io(t,e,n){function r(){p&&tc(p),f&&tc(f),g=0,c=f=d=p=m=K}function i(e,n){n&&tc(n),f=p=m=K,e&&(g=df(),l=t.apply(d,c),p||f||(c=d=K))}function a(){var t=e-(df()-h);0>=t||t>e?i(m,f):p=sc(a,t)}function o(){return(p&&m||f&&x)&&(l=t.apply(d,c)),r(),l}function s(){i(x,p)}function u(){if(c=arguments,h=df(),d=this,m=x&&(p||!v),y===!1)var n=v&&!p;else{g||f||v||(g=h);var r=y-(h-g),i=(0>=r||r>y)&&(v||f);i?(f&&(f=tc(f)),g=h,l=t.apply(d,c)):f||(f=sc(s,r))}return i&&p?p=tc(p):p||e===y||(p=sc(a,e)),n&&(i=!0,l=t.apply(d,c)),!i||p||f||(c=d=K),l}var c,f,l,h,d,p,m,g=0,v=!1,y=!1,x=!0;if("function"!=typeof t)throw new Bu(xt);return e=cs(e)||0,Po(n)&&(v=!!n.leading,y="maxWait"in n&&pc(cs(n.maxWait)||0,e),x="trailing"in n?!!n.trailing:x),u.cancel=r,u.flush=o,u}function ao(t){return oi(t,ut)}function oo(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new Bu(xt);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o),o};return n.cache=new oo.Cache,n}function so(t){if("function"!=typeof t)throw new Bu(xt);return function(){return!t.apply(this,arguments)}}function uo(t){return eo(2,t)}function co(t,e){if("function"!=typeof t)throw new Bu(xt);return e=pc(e===K?t.length-1:ss(e),0),function(){for(var n=arguments,r=-1,i=pc(n.length-e,0),a=Array(i);++r<i;)a[r]=n[e+r];switch(e){case 0:return t.call(this,a);case 1:return t.call(this,n[0],a);case 2:return t.call(this,n[0],n[1],a)}var s=Array(e+1);for(r=-1;++r<e;)s[r]=n[r];return s[e]=a,o(t,this,s)}}function fo(t,e){if("function"!=typeof t)throw new Bu(xt);return e=e===K?0:pc(ss(e),0),co(function(n){var r=n[e],i=n.slice(0,e);return r&&g(i,r),o(t,this,i)})}function lo(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new Bu(xt);return Po(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),io(t,e,{leading:r,maxWait:e,trailing:i})}function ho(t){return to(t,1)}function po(t,e){return e=null==e?pu:e,xf(e,t)}function mo(){if(!arguments.length)return[];var t=arguments[0];return bf(t)?t:[t]}function go(t){return En(t)}function vo(t,e){return En(t,!1,e)}function yo(t){return En(t,!0)}function xo(t,e){return En(t,!0,e)}function _o(t,e){return t===e||t!==t&&e!==e}function wo(t,e){return t>e}function bo(t,e){return t>=e}function To(t){return Co(t)&&Wu.call(t,"callee")&&(!oc.call(t,"callee")||Xu.call(t)==Lt)}function Eo(t){return Oo(t)&&Xu.call(t)==Gt}function Ao(t){return null!=t&&!("function"==typeof t&&ko(t))&&No(Pc(t))}function Co(t){return Oo(t)&&Ao(t)}function zo(t){return t===!0||t===!1||Oo(t)&&Xu.call(t)==St}function Mo(t){return Oo(t)&&Xu.call(t)==jt}function Lo(t){return!!t&&1===t.nodeType&&Oo(t)&&!$o(t)}function Ro(t){if(Ao(t)&&(bf(t)||Qo(t)||ko(t.splice)||To(t)))return!t.length;for(var e in t)if(Wu.call(t,e))return!1;return!0}function So(t,e){return Zn(t,e)}function jo(t,e,n){n="function"==typeof n?n:K;var r=n?n(t,e):K;return r===K?Zn(t,e,n):!!r}function Io(t){return Oo(t)?Xu.call(t)==It||"string"==typeof t.message&&"string"==typeof t.name:!1}function Do(t){return"number"==typeof t&&lc(t)}function ko(t){var e=Po(t)?Xu.call(t):"";return e==Dt||e==kt}function Fo(t){return"number"==typeof t&&t==ss(t)}function No(t){return"number"==typeof t&&t>-1&&t%1==0&&bt>=t}function Po(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Oo(t){return!!t&&"object"==typeof t}function Bo(t){return Oo(t)&&mi(t)==Ft}function qo(t,e){return t===e||Kn(t,e,hi(e))}function Ho(t,e,n){return n="function"==typeof n?n:K,Kn(t,e,hi(e),n)}function Uo(t){return Xo(t)&&t!=+t}function Wo(t){return null==t?!1:ko(t)?Zu.test(Uu.call(t)):Oo(t)&&(q(t)?Zu:Ae).test(t)}function Go(t){return null===t}function Vo(t){return null==t}function Xo(t){return"number"==typeof t||Oo(t)&&Xu.call(t)==Nt}function $o(t){if(!Oo(t)||Xu.call(t)!=Pt||q(t))return!1;var e=nc(t);if(null===e)return!0;var n=e.constructor;return"function"==typeof n&&n instanceof n&&Uu.call(n)==Vu}function Zo(t){return Po(t)&&Xu.call(t)==Ot}function Yo(t){return Fo(t)&&t>=-bt&&bt>=t}function Ko(t){return Oo(t)&&mi(t)==Bt}function Qo(t){return"string"==typeof t||!bf(t)&&Oo(t)&&Xu.call(t)==qt}function Jo(t){return"symbol"==typeof t||Oo(t)&&Xu.call(t)==Ht}function ts(t){return Oo(t)&&No(t.length)&&!!_n[Xu.call(t)]}function es(t){return t===K}function ns(t){return Oo(t)&&mi(t)==Ut}function rs(t){return Oo(t)&&Xu.call(t)==Wt}function is(t,e){return e>t}function as(t,e){return e>=t}function os(t){if(!t)return[];if(Ao(t))return Qo(t)?$(t):Pr(t);if(ic&&t[ic])return U(t[ic]());var e=mi(t),n=e==Ft?W:e==Bt?V:Ps;return n(t)}function ss(t){if(!t)return 0===t?t:0;if(t=cs(t),t===wt||t===-wt){var e=0>t?-1:1;return e*Tt}var n=t%1;return t===t?n?t-n:t:0}function us(t){return t?Tn(ss(t),0,At):0}function cs(t){if(Po(t)){var e=ko(t.valueOf)?t.valueOf():t;t=Po(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(ge,"");var n=Ee.test(t);return n||Ce.test(t)?Mn(t.slice(2),n?2:8):Te.test(t)?Et:+t}function fs(t){return Or(t,Cs(t))}function ls(t){return Tn(ss(t),-bt,bt)}function hs(t){if("string"==typeof t)return t;if(null==t)return"";if(Jo(t))return Qu?Lc.call(t):"";var e=t+"";return"0"==e&&1/t==-wt?"-0":e}function ds(t,e){var n=Cn(t);return e?cn(n,e):n}function ps(t,e){return w(t,li(e,3),On,!0)}function ms(t,e){return w(t,li(e,3),Bn,!0)}function gs(t,e){return null==t?t:Ic(t,dn(e),Cs)}function vs(t,e){return null==t?t:Dc(t,dn(e),Cs)}function ys(t,e){return t&&On(t,dn(e))}function xs(t,e){return t&&Bn(t,dn(e))}function _s(t){return null==t?[]:qn(t,As(t))}function ws(t){return null==t?[]:qn(t,Cs(t))}function bs(t,e,n){var r=null==t?K:Hn(t,e);return r===K?n:r}function Ts(t,e){return vi(t,e,Un)}function Es(t,e){return vi(t,e,Wn)}function As(t){var e=Ci(t);if(!e&&!Ao(t))return Jn(t);var n=wi(t),r=!!n,i=n||[],a=i.length;for(var o in t)!Un(t,o)||r&&("length"==o||H(o,a))||e&&"constructor"==o||i.push(o);return i}function Cs(t){for(var e=-1,n=Ci(t),r=tr(t),i=r.length,a=wi(t),o=!!a,s=a||[],u=s.length;++e<i;){var c=r[e];o&&("length"==c||H(c,u))||"constructor"==c&&(n||!Wu.call(t,c))||s.push(c)}return s}function zs(t,e){var n={};return e=li(e,3),On(t,function(t,r,i){n[e(t,r,i)]=t}),n}function Ms(t,e){var n={};return e=li(e,3),On(t,function(t,r,i){n[r]=e(t,r,i)}),n}function Ls(t,e){return e=li(e),ur(t,function(t,n){return!e(t,n)})}function Rs(t,e){return null==t?{}:ur(t,li(e))}function Ss(t,e,n){if(Ti(e,t))r=null==t?K:t[e];else{e=bn(e);var r=bs(t,e);t=Ri(t,e)}return r===K&&(r=n),ko(r)?r.call(t):r}function js(t,e,n){return null==t?t:gr(t,e,n)}function Is(t,e,n,r){return r="function"==typeof r?r:K,null==t?t:gr(t,e,n,r)}function Ds(t){return M(t,As(t))}function ks(t){return M(t,Cs(t))}function Fs(t,e,n){var r=bf(t)||ts(t);if(e=li(e,4),null==n)if(r||Po(t)){var i=t.constructor;n=r?bf(t)?new i:[]:ko(i)?Cn(nc(t)):{}}else n={};return(r?c:On)(t,function(t,r,i){return e(n,t,r,i)}),n}function Ns(t,e){return null==t?!0:Er(t,e)}function Ps(t){return t?R(t,As(t)):[]}function Os(t){return null==t?[]:R(t,Cs(t))}function Bs(t,e,n){return n===K&&(n=e,e=K),n!==K&&(n=cs(n),n=n===n?n:0),e!==K&&(e=cs(e),e=e===e?e:0),Tn(cs(t),e,n)}function qs(t,e,n){return e=cs(e)||0,n===K?(n=e,e=0):n=cs(n)||0,t=cs(t),Gn(t,e,n)}function Hs(t,e,n){if(n&&"boolean"!=typeof n&&bi(t,e,n)&&(e=n=K),n===K&&("boolean"==typeof e?(n=e,e=K):"boolean"==typeof t&&(n=t,t=K)),t===K&&e===K?(t=0,e=1):(t=cs(t)||0,e===K?(e=t,t=0):e=cs(e)||0),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=vc();return mc(t+i*(e-t+zn("1e-"+((i+"").length-1))),e)}return pr(t,e)}function Us(t){return Hf(hs(t).toLowerCase())}function Ws(t){return t=hs(t),t&&t.replace(Me,N).replace(hn,"")}function Gs(t,e,n){t=hs(t),e="string"==typeof e?e:e+"";var r=t.length;return n=n===K?r:Tn(ss(n),0,r),n-=e.length,n>=0&&t.indexOf(e,n)==n}function Vs(t){return t=hs(t),t&&se.test(t)?t.replace(ae,P):t}function Xs(t){return t=hs(t),t&&me.test(t)?t.replace(pe,"\\$&"):t}function $s(t,e,n){t=hs(t),e=ss(e);var r=X(t);if(!e||r>=e)return t;var i=(e-r)/2,a=fc(i),o=cc(i);return ei("",a,n)+t+ei("",o,n)}function Zs(t,e,n){return t=hs(t),t+ei(t,e,n)}function Ys(t,e,n){return t=hs(t),ei(t,e,n)+t}function Ks(t,e,n){return n||null==e?e=0:e&&(e=+e),t=hs(t).replace(ge,""),gc(t,e||(be.test(t)?16:10))}function Qs(t,e){t=hs(t),e=ss(e);var n="";if(!t||1>e||e>bt)return n;do e%2&&(n+=t),e=fc(e/2),t+=t;while(e);return n}function Js(){var t=arguments,e=hs(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function tu(t,e,n){return hs(t).split(e,n)}function eu(t,e,n){return t=hs(t),n=Tn(ss(n),0,t.length),t.lastIndexOf(e,n)==n}function nu(t,n,r){var i=e.templateSettings;r&&bi(t,n,r)&&(n=K),t=hs(t),n=Cf({},n,i,an);var a,o,s=Cf({},n.imports,i.imports,an),u=As(s),c=R(s,u),f=0,l=n.interpolate||Le,h="__p += '",d=Ou((n.escape||Le).source+"|"+l.source+"|"+(l===fe?_e:Le).source+"|"+(n.evaluate||Le).source+"|$","g"),p="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++xn+"]")+"\n";t.replace(d,function(e,n,r,i,s,u){return r||(r=i),h+=t.slice(f,u).replace(Re,O),n&&(a=!0,h+="' +\n__e("+n+") +\n'"),s&&(o=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),f=u+e.length,e}),h+="';\n";var m=n.variable;m||(h="with (obj) {\n"+h+"\n}\n"),h=(o?h.replace(ee,""):h).replace(ne,"$1").replace(re,"$1;"),h="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Vf(function(){return Function(u,p+"return "+h).apply(K,c)});if(g.source=h,Io(g))throw g;return g}function ru(t){return hs(t).toLowerCase()}function iu(t){return hs(t).toUpperCase()}function au(t,e,n){if(t=hs(t),!t)return t;if(n||e===K)return t.replace(ge,"");if(e+="",!e)return t;var r=$(t),i=$(e);return r.slice(S(r,i),j(r,i)+1).join("")}function ou(t,e,n){if(t=hs(t),!t)return t;if(n||e===K)return t.replace(ye,"");if(e+="",!e)return t;var r=$(t);return r.slice(0,j(r,$(e))+1).join("")}function su(t,e,n){if(t=hs(t),!t)return t;if(n||e===K)return t.replace(ve,"");if(e+="",!e)return t;var r=$(t);return r.slice(S(r,$(e))).join("")}function uu(t,e){var n=lt,r=ht;if(Po(e)){var i="separator"in e?e.separator:i;n="length"in e?ss(e.length):n,r="omission"in e?hs(e.omission):r}t=hs(t);var a=t.length;if(pn.test(t)){var o=$(t);a=o.length}if(n>=a)return t;var s=n-X(r);if(1>s)return r;var u=o?o.slice(0,s).join(""):t.slice(0,s);if(i===K)return u+r;if(o&&(s+=u.length-s),Zo(i)){if(t.slice(s).search(i)){var c,f=u;for(i.global||(i=Ou(i.source,hs(we.exec(i))+"g")),i.lastIndex=0;c=i.exec(f);)var l=c.index;u=u.slice(0,l===K?s:l)}}else if(t.indexOf(i,s)!=s){var h=u.lastIndexOf(i);h>-1&&(u=u.slice(0,h))}return u+r}function cu(t){return t=hs(t),t&&oe.test(t)?t.replace(ie,Z):t}function fu(t,e,n){return t=hs(t),e=n?K:e,e===K&&(e=vn.test(t)?gn:mn),t.match(e)||[]}function lu(t){var e=t?t.length:0,n=li();return t=e?m(t,function(t){if("function"!=typeof t[1])throw new Bu(xt);return[n(t[0]),t[1]]}):[],co(function(n){for(var r=-1;++r<e;){var i=t[r];if(o(i[0],this,n))return o(i[1],this,n)}})}function hu(t){return An(En(t,!0))}function du(t){return function(){return t}}function pu(t){return t}function mu(t){return Qn("function"==typeof t?t:En(t,!0))}function gu(t){return nr(En(t,!0))}function vu(t,e){return rr(t,En(e,!0))}function yu(t,e,n){var r=As(e),i=qn(e,r);null!=n||Po(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=qn(e,As(e)));var a=Po(n)&&"chain"in n?n.chain:!0,o=ko(t);return c(i,function(n){var r=e[n];t[n]=r,o&&(t.prototype[n]=function(){var e=this.__chain__;if(a||e){var n=t(this.__wrapped__),i=n.__actions__=Pr(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,g([this.value()],arguments))})}),t}function xu(){return Fn._===this&&(Fn._=$u),this}function _u(){}function wu(t){return t=ss(t),function(){return arguments[t]}}function bu(t){return Ti(t)?cr(t):fr(t)}function Tu(t){return function(e){return null==t?K:Hn(t,e)}}function Eu(t,e){if(t=ss(t),1>t||t>bt)return[];var n=At,r=mc(t,At);e=dn(e),t-=At;for(var i=z(r,e);++n<t;)e(n);return i}function Au(t){return bf(t)?m(t,String):ji(t)}function Cu(t){var e=++Gu;return hs(t)+e}function zu(t,e){var n;return t===K&&e===K?0:(t!==K&&(n=t),e!==K&&(n=n===K?e:n+e),n)}function Mu(t){return t&&t.length?_(t,pu,wo):K}function Lu(t,e){return t&&t.length?_(t,li(e),wo):K}function Ru(t){return Du(t)/(t?t.length:0)}function Su(t){return t&&t.length?_(t,pu,is):K}function ju(t,e){return t&&t.length?_(t,li(e),is):K}function Iu(t,e){var n;return t===K&&e===K?0:(t!==K&&(n=t),e!==K&&(n=n===K?e:n-e),n)}function Du(t){return t&&t.length?C(t,pu):0}function ku(t,e){return t&&t.length?C(t,li(e)):0}t=t?Nn.defaults({},t,Nn.pick(Fn,yn)):Fn;var Fu=t.Date,Nu=t.Error,Pu=t.Math,Ou=t.RegExp,Bu=t.TypeError,qu=t.Array.prototype,Hu=t.Object.prototype,Uu=t.Function.prototype.toString,Wu=Hu.hasOwnProperty,Gu=0,Vu=Uu.call(Object),Xu=Hu.toString,$u=Fn._,Zu=Ou("^"+Uu.call(Wu).replace(pe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Yu=Sn?t.Buffer:K,Ku=t.Reflect,Qu=t.Symbol,Ju=t.Uint8Array,tc=t.clearTimeout,ec=Ku?Ku.enumerate:K,nc=Object.getPrototypeOf,rc=Object.getOwnPropertySymbols,ic="symbol"==typeof(ic=Qu&&Qu.iterator)?ic:K,ac=Object.create,oc=Hu.propertyIsEnumerable,sc=t.setTimeout,uc=qu.splice,cc=Pu.ceil,fc=Pu.floor,lc=t.isFinite,hc=qu.join,dc=Object.keys,pc=Pu.max,mc=Pu.min,gc=t.parseInt,vc=Pu.random,yc=qu.reverse,xc=di(t,"Map"),_c=di(t,"Set"),wc=di(t,"WeakMap"),bc=di(Object,"create"),Tc=wc&&new wc,Ec=xc?Uu.call(xc):"",Ac=_c?Uu.call(_c):"",Cc=wc?Uu.call(wc):"",zc=Qu?Qu.prototype:K,Mc=Qu?zc.valueOf:K,Lc=Qu?zc.toString:K,Rc={};e.templateSettings={escape:ue,evaluate:ce,interpolate:fe,variable:"",imports:{_:e}};var Sc=Wr(On),jc=Wr(Bn,!0),Ic=Gr(),Dc=Gr(!0);ec&&!oc.call({valueOf:1},"valueOf")&&(tr=function(t){return U(ec(t))});var kc=Tc?function(t,e){return Tc.set(t,e),t}:pu,Fc=_c&&2===new _c([1,2]).size?function(t){return new _c(t)}:_u,Nc=Tc?function(t){return Tc.get(t)}:_u,Pc=cr("length"),Oc=rc||function(){return[]};(xc&&mi(new xc)!=Ft||_c&&mi(new _c)!=Bt||wc&&mi(new wc)!=Ut)&&(mi=function(t){var e=Xu.call(t),n=e==Pt?t.constructor:null,r="function"==typeof n?Uu.call(n):"";if(r)switch(r){case Ec:return Ft;case Ac:return Bt;case Cc:return Ut}return e});var Bc=function(){var t=0,e=0;return function(n,r){var i=df(),a=pt-(i-e);if(e=i,a>0){if(++t>=dt)return n}else t=0;return kc(n,r)}}(),qc=co(function(t,e){return bf(t)||(t=null==t?[]:[Object(t)]),e=kn(e,1),
u(t,e)}),Hc=co(function(t,e){return Co(t)?Rn(t,kn(e,1,!0)):[]}),Uc=co(function(t,e){var n=Ki(e);return Co(n)&&(n=K),Co(t)?Rn(t,kn(e,1,!0),li(n)):[]}),Wc=co(function(t,e){var n=Ki(e);return Co(n)&&(n=K),Co(t)?Rn(t,kn(e,1,!0),K,n):[]}),Gc=co(function(t){var e=m(t,ln);return e.length&&e[0]===t[0]?Vn(e):[]}),Vc=co(function(t){var e=Ki(t),n=m(t,ln);return e===Ki(n)?e=K:n.pop(),n.length&&n[0]===t[0]?Vn(n,li(e)):[]}),Xc=co(function(t){var e=Ki(t),n=m(t,ln);return e===Ki(n)?e=K:n.pop(),n.length&&n[0]===t[0]?Vn(n,K,e):[]}),$c=co(Ji),Zc=co(function(t,e){e=m(kn(e,1),String);var n=fn(t,e);return dr(t,e.sort(D)),n}),Yc=co(function(t){return Tr(kn(t,1,!0))}),Kc=co(function(t){var e=Ki(t);return Co(e)&&(e=K),Tr(kn(t,1,!0),li(e))}),Qc=co(function(t){var e=Ki(t);return Co(e)&&(e=K),Tr(kn(t,1,!0),K,e)}),Jc=co(function(t,e){return Co(t)?Rn(t,e):[]}),tf=co(function(t){return zr(h(t,Co))}),ef=co(function(t){var e=Ki(t);return Co(e)&&(e=K),zr(h(t,Co),li(e))}),nf=co(function(t){var e=Ki(t);return Co(e)&&(e=K),zr(h(t,Co),K,e)}),rf=co(_a),af=co(function(t){var e=t.length,n=e>1?t[e-1]:K;return n="function"==typeof n?(t.pop(),n):K,wa(t,n)}),of=co(function(t){t=kn(t,1);var e=t.length,n=e?t[0]:0,i=this.__wrapped__,a=function(e){return fn(e,t)};return!(e>1||this.__actions__.length)&&i instanceof I&&H(n)?(i=i.slice(n,+n+(e?1:0)),i.__actions__.push({func:Ca,args:[a],thisArg:K}),new r(i,this.__chain__).thru(function(t){return e&&!t.length&&t.push(K),t})):this.thru(a)}),sf=Hr(function(t,e,n){Wu.call(t,n)?++t[n]:t[n]=1}),uf=Hr(function(t,e,n){Wu.call(t,n)?t[n].push(e):t[n]=[e]}),cf=co(function(t,e,n){var r=-1,i="function"==typeof e,a=Ti(e),s=Ao(t)?Array(t.length):[];return Sc(t,function(t){var u=i?e:a&&null!=t?t[e]:K;s[++r]=u?o(u,t,n):$n(t,e,n)}),s}),ff=Hr(function(t,e,n){t[n]=e}),lf=Hr(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),hf=co(function(t,e){if(null==t)return[];var n=e.length;return n>1&&bi(t,e[0],e[1])?e=[]:n>2&&bi(e[0],e[1],e[2])&&(e.length=1),or(t,kn(e,1),[])}),df=Fu.now,pf=co(function(t,e,n){var r=J;if(n.length){var i=G(n,pi(pf));r|=it}return oi(t,r,e,n,i)}),mf=co(function(t,e,n){var r=J|tt;if(n.length){var i=G(n,pi(mf));r|=it}return oi(e,r,t,n,i)}),gf=co(function(t,e){return Ln(t,1,e)}),vf=co(function(t,e,n){return Ln(t,cs(e)||0,n)}),yf=co(function(t,e){e=m(kn(e,1),li());var n=e.length;return co(function(r){for(var i=-1,a=mc(r.length,n);++i<a;)r[i]=e[i].call(this,r[i]);return o(t,this,r)})}),xf=co(function(t,e){var n=G(e,pi(xf));return oi(t,it,K,e,n)}),_f=co(function(t,e){var n=G(e,pi(_f));return oi(t,at,K,e,n)}),wf=co(function(t,e){return oi(t,st,K,K,K,kn(e,1))}),bf=Array.isArray,Tf=Yu?function(t){return t instanceof Yu}:du(!1),Ef=Ur(function(t,e){Or(e,As(e),t)}),Af=Ur(function(t,e){Or(e,Cs(e),t)}),Cf=Ur(function(t,e,n,r){Br(e,Cs(e),t,r)}),zf=Ur(function(t,e,n,r){Br(e,As(e),t,r)}),Mf=co(function(t,e){return fn(t,kn(e,1))}),Lf=co(function(t){return t.push(K,an),o(Cf,K,t)}),Rf=co(function(t){return t.push(K,Li),o(kf,K,t)}),Sf=Jr(function(t,e,n){t[e]=n},du(pu)),jf=Jr(function(t,e,n){Wu.call(t,e)?t[e].push(n):t[e]=[n]},li),If=co($n),Df=Ur(function(t,e,n){ir(t,e,n)}),kf=Ur(function(t,e,n,r){ir(t,e,n,r)}),Ff=co(function(t,e){return null==t?{}:(e=m(kn(e,1),String),sr(t,Rn(Cs(t),e)))}),Nf=co(function(t,e){return null==t?{}:sr(t,kn(e,1))}),Pf=$r(function(t,e,n){return e=e.toLowerCase(),t+(n?Us(e):e)}),Of=$r(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Bf=$r(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),qf=Xr("toLowerCase"),Hf=Xr("toUpperCase"),Uf=$r(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Wf=$r(function(t,e,n){return t+(n?" ":"")+Us(e)}),Gf=$r(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Vf=co(function(t,e){try{return o(t,K,e)}catch(n){return Io(n)?n:new Nu(n)}}),Xf=co(function(t,e){return c(kn(e,1),function(e){t[e]=pf(t[e],t)}),t}),$f=Kr(),Zf=Kr(!0),Yf=co(function(t,e){return function(n){return $n(n,t,e)}}),Kf=co(function(t,e){return function(n){return $n(t,n,e)}}),Qf=ti(m),Jf=ti(l),tl=ti(x),el=ri(),nl=ri(!0),rl=ai("ceil"),il=ai("floor"),al=ai("round");return e.prototype=n.prototype,r.prototype=Cn(n.prototype),r.prototype.constructor=r,I.prototype=Cn(n.prototype),I.prototype.constructor=I,Ie.prototype=bc?bc(null):Hu,Pe.prototype.clear=Oe,Pe.prototype["delete"]=Be,Pe.prototype.get=qe,Pe.prototype.has=He,Pe.prototype.set=Ue,We.prototype.push=Ve,Xe.prototype.clear=$e,Xe.prototype["delete"]=Ze,Xe.prototype.get=Ye,Xe.prototype.has=Ke,Xe.prototype.set=Qe,oo.Cache=Pe,e.after=Ja,e.ary=to,e.assign=Ef,e.assignIn=Af,e.assignInWith=Cf,e.assignWith=zf,e.at=Mf,e.before=eo,e.bind=pf,e.bindAll=Xf,e.bindKey=mf,e.castArray=mo,e.chain=Ea,e.chunk=Di,e.compact=ki,e.concat=qc,e.cond=lu,e.conforms=hu,e.constant=du,e.countBy=sf,e.create=ds,e.curry=no,e.curryRight=ro,e.debounce=io,e.defaults=Lf,e.defaultsDeep=Rf,e.defer=gf,e.delay=vf,e.difference=Hc,e.differenceBy=Uc,e.differenceWith=Wc,e.drop=Fi,e.dropRight=Ni,e.dropRightWhile=Pi,e.dropWhile=Oi,e.fill=Bi,e.filter=Fa,e.flatMap=Oa,e.flatten=Ui,e.flattenDeep=Wi,e.flattenDepth=Gi,e.flip=ao,e.flow=$f,e.flowRight=Zf,e.fromPairs=Vi,e.functions=_s,e.functionsIn=ws,e.groupBy=uf,e.initial=Zi,e.intersection=Gc,e.intersectionBy=Vc,e.intersectionWith=Xc,e.invert=Sf,e.invertBy=jf,e.invokeMap=cf,e.iteratee=mu,e.keyBy=ff,e.keys=As,e.keysIn=Cs,e.map=Ua,e.mapKeys=zs,e.mapValues=Ms,e.matches=gu,e.matchesProperty=vu,e.memoize=oo,e.merge=Df,e.mergeWith=kf,e.method=Yf,e.methodOf=Kf,e.mixin=yu,e.negate=so,e.nthArg=wu,e.omit=Ff,e.omitBy=Ls,e.once=uo,e.orderBy=Wa,e.over=Qf,e.overArgs=yf,e.overEvery=Jf,e.overSome=tl,e.partial=xf,e.partialRight=_f,e.partition=lf,e.pick=Nf,e.pickBy=Rs,e.property=bu,e.propertyOf=Tu,e.pull=$c,e.pullAll=Ji,e.pullAllBy=ta,e.pullAt=Zc,e.range=el,e.rangeRight=nl,e.rearg=wf,e.reject=Xa,e.remove=ea,e.rest=co,e.reverse=na,e.sampleSize=Za,e.set=js,e.setWith=Is,e.shuffle=Ya,e.slice=ra,e.sortBy=hf,e.sortedUniq=fa,e.sortedUniqBy=la,e.split=tu,e.spread=fo,e.tail=ha,e.take=da,e.takeRight=pa,e.takeRightWhile=ma,e.takeWhile=ga,e.tap=Aa,e.throttle=lo,e.thru=Ca,e.toArray=os,e.toPairs=Ds,e.toPairsIn=ks,e.toPath=Au,e.toPlainObject=fs,e.transform=Fs,e.unary=ho,e.union=Yc,e.unionBy=Kc,e.unionWith=Qc,e.uniq=va,e.uniqBy=ya,e.uniqWith=xa,e.unset=Ns,e.unzip=_a,e.unzipWith=wa,e.values=Ps,e.valuesIn=Os,e.without=Jc,e.words=fu,e.wrap=po,e.xor=tf,e.xorBy=ef,e.xorWith=nf,e.zip=rf,e.zipObject=ba,e.zipObjectDeep=Ta,e.zipWith=af,e.extend=Af,e.extendWith=Cf,yu(e,e),e.add=zu,e.attempt=Vf,e.camelCase=Pf,e.capitalize=Us,e.ceil=rl,e.clamp=Bs,e.clone=go,e.cloneDeep=yo,e.cloneDeepWith=xo,e.cloneWith=vo,e.deburr=Ws,e.endsWith=Gs,e.eq=_o,e.escape=Vs,e.escapeRegExp=Xs,e.every=ka,e.find=Na,e.findIndex=qi,e.findKey=ps,e.findLast=Pa,e.findLastIndex=Hi,e.findLastKey=ms,e.floor=il,e.forEach=Ba,e.forEachRight=qa,e.forIn=gs,e.forInRight=vs,e.forOwn=ys,e.forOwnRight=xs,e.get=bs,e.gt=wo,e.gte=bo,e.has=Ts,e.hasIn=Es,e.head=Xi,e.identity=pu,e.includes=Ha,e.indexOf=$i,e.inRange=qs,e.invoke=If,e.isArguments=To,e.isArray=bf,e.isArrayBuffer=Eo,e.isArrayLike=Ao,e.isArrayLikeObject=Co,e.isBoolean=zo,e.isBuffer=Tf,e.isDate=Mo,e.isElement=Lo,e.isEmpty=Ro,e.isEqual=So,e.isEqualWith=jo,e.isError=Io,e.isFinite=Do,e.isFunction=ko,e.isInteger=Fo,e.isLength=No,e.isMap=Bo,e.isMatch=qo,e.isMatchWith=Ho,e.isNaN=Uo,e.isNative=Wo,e.isNil=Vo,e.isNull=Go,e.isNumber=Xo,e.isObject=Po,e.isObjectLike=Oo,e.isPlainObject=$o,e.isRegExp=Zo,e.isSafeInteger=Yo,e.isSet=Ko,e.isString=Qo,e.isSymbol=Jo,e.isTypedArray=ts,e.isUndefined=es,e.isWeakMap=ns,e.isWeakSet=rs,e.join=Yi,e.kebabCase=Of,e.last=Ki,e.lastIndexOf=Qi,e.lowerCase=Bf,e.lowerFirst=qf,e.lt=is,e.lte=as,e.max=Mu,e.maxBy=Lu,e.mean=Ru,e.min=Su,e.minBy=ju,e.noConflict=xu,e.noop=_u,e.now=df,e.pad=$s,e.padEnd=Zs,e.padStart=Ys,e.parseInt=Ks,e.random=Hs,e.reduce=Ga,e.reduceRight=Va,e.repeat=Qs,e.replace=Js,e.result=Ss,e.round=al,e.runInContext=Y,e.sample=$a,e.size=Ka,e.snakeCase=Uf,e.some=Qa,e.sortedIndex=ia,e.sortedIndexBy=aa,e.sortedIndexOf=oa,e.sortedLastIndex=sa,e.sortedLastIndexBy=ua,e.sortedLastIndexOf=ca,e.startCase=Wf,e.startsWith=eu,e.subtract=Iu,e.sum=Du,e.sumBy=ku,e.template=nu,e.times=Eu,e.toInteger=ss,e.toLength=us,e.toLower=ru,e.toNumber=cs,e.toSafeInteger=ls,e.toString=hs,e.toUpper=iu,e.trim=au,e.trimEnd=ou,e.trimStart=su,e.truncate=uu,e.unescape=cu,e.uniqueId=Cu,e.upperCase=Gf,e.upperFirst=Hf,e.each=Ba,e.eachRight=qa,e.first=Xi,yu(e,function(){var t={};return On(e,function(n,r){Wu.call(e.prototype,r)||(t[r]=n)}),t}(),{chain:!1}),e.VERSION=Q,c(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){e[t].placeholder=e}),c(["drop","take"],function(t,e){I.prototype[t]=function(n){var r=this.__filtered__;if(r&&!e)return new I(this);n=n===K?1:pc(ss(n),0);var i=this.clone();return r?i.__takeCount__=mc(n,i.__takeCount__):i.__views__.push({size:mc(n,At),type:t+(i.__dir__<0?"Right":"")}),i},I.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),c(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==gt||n==yt;I.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:li(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),c(["head","last"],function(t,e){var n="take"+(e?"Right":"");I.prototype[t]=function(){return this[n](1).value()[0]}}),c(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");I.prototype[t]=function(){return this.__filtered__?new I(this):this[n](1)}}),I.prototype.compact=function(){return this.filter(pu)},I.prototype.find=function(t){return this.filter(t).head()},I.prototype.findLast=function(t){return this.reverse().find(t)},I.prototype.invokeMap=co(function(t,e){return"function"==typeof t?new I(this):this.map(function(n){return $n(n,t,e)})}),I.prototype.reject=function(t){return t=li(t,3),this.filter(function(e){return!t(e)})},I.prototype.slice=function(t,e){t=ss(t);var n=this;return n.__filtered__&&(t>0||0>e)?new I(n):(0>t?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==K&&(e=ss(e),n=0>e?n.dropRight(-e):n.take(e-t)),n)},I.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},I.prototype.toArray=function(){return this.take(At)},On(I.prototype,function(t,n){var i=/^(?:filter|find|map|reject)|While$/.test(n),a=/^(?:head|last)$/.test(n),o=e[a?"take"+("last"==n?"Right":""):n],s=a||/^find/.test(n);o&&(e.prototype[n]=function(){var n=this.__wrapped__,u=a?[1]:arguments,c=n instanceof I,f=u[0],l=c||bf(n),h=function(t){var n=o.apply(e,g([t],u));return a&&d?n[0]:n};l&&i&&"function"==typeof f&&1!=f.length&&(c=l=!1);var d=this.__chain__,p=!!this.__actions__.length,m=s&&!d,v=c&&!p;if(!s&&l){n=v?n:new I(this);var y=t.apply(n,u);return y.__actions__.push({func:Ca,args:[h],thisArg:K}),new r(y,d)}return m&&v?t.apply(this,u):(y=this.thru(h),m?a?y.value()[0]:y.value():y)})}),c(["pop","push","shift","sort","splice","unshift"],function(t){var n=qu[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);e.prototype[t]=function(){var t=arguments;return i&&!this.__chain__?n.apply(this.value(),t):this[r](function(e){return n.apply(e,t)})}}),On(I.prototype,function(t,n){var r=e[n];if(r){var i=r.name+"",a=Rc[i]||(Rc[i]=[]);a.push({name:n,func:r})}}),Rc[Qr(K,tt).name]=[{name:"wrapper",func:K}],I.prototype.clone=ze,I.prototype.reverse=Se,I.prototype.value=je,e.prototype.at=of,e.prototype.chain=za,e.prototype.commit=Ma,e.prototype.flatMap=La,e.prototype.next=Ra,e.prototype.plant=ja,e.prototype.reverse=Ia,e.prototype.toJSON=e.prototype.valueOf=e.prototype.value=Da,ic&&(e.prototype[ic]=Sa),e}var K,Q="4.5.1",J=1,tt=2,et=4,nt=8,rt=16,it=32,at=64,ot=128,st=256,ut=512,ct=1,ft=2,lt=30,ht="...",dt=150,pt=16,mt=200,gt=1,vt=2,yt=3,xt="Expected a function",_t="__lodash_hash_undefined__",wt=1/0,bt=9007199254740991,Tt=1.7976931348623157e308,Et=NaN,At=4294967295,Ct=At-1,zt=At>>>1,Mt="__lodash_placeholder__",Lt="[object Arguments]",Rt="[object Array]",St="[object Boolean]",jt="[object Date]",It="[object Error]",Dt="[object Function]",kt="[object GeneratorFunction]",Ft="[object Map]",Nt="[object Number]",Pt="[object Object]",Ot="[object RegExp]",Bt="[object Set]",qt="[object String]",Ht="[object Symbol]",Ut="[object WeakMap]",Wt="[object WeakSet]",Gt="[object ArrayBuffer]",Vt="[object Float32Array]",Xt="[object Float64Array]",$t="[object Int8Array]",Zt="[object Int16Array]",Yt="[object Int32Array]",Kt="[object Uint8Array]",Qt="[object Uint8ClampedArray]",Jt="[object Uint16Array]",te="[object Uint32Array]",ee=/\b__p \+= '';/g,ne=/\b(__p \+=) '' \+/g,re=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ie=/&(?:amp|lt|gt|quot|#39|#96);/g,ae=/[&<>"'`]/g,oe=RegExp(ie.source),se=RegExp(ae.source),ue=/<%-([\s\S]+?)%>/g,ce=/<%([\s\S]+?)%>/g,fe=/<%=([\s\S]+?)%>/g,le=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,he=/^\w*$/,de=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,pe=/[\\^$.*+?()[\]{}|]/g,me=RegExp(pe.source),ge=/^\s+|\s+$/g,ve=/^\s+/,ye=/\s+$/,xe=/\\(\\)?/g,_e=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,we=/\w*$/,be=/^0x/i,Te=/^[-+]0x[0-9a-f]+$/i,Ee=/^0b[01]+$/i,Ae=/^\[object .+?Constructor\]$/,Ce=/^0o[0-7]+$/i,ze=/^(?:0|[1-9]\d*)$/,Me=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Le=/($^)/,Re=/['\n\r\u2028\u2029\\]/g,Se="\\ud800-\\udfff",je="\\u0300-\\u036f\\ufe20-\\ufe23",Ie="\\u20d0-\\u20f0",De="\\u2700-\\u27bf",ke="a-z\\xdf-\\xf6\\xf8-\\xff",Fe="\\xac\\xb1\\xd7\\xf7",Ne="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Pe="\\u2018\\u2019\\u201c\\u201d",Oe=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Be="A-Z\\xc0-\\xd6\\xd8-\\xde",qe="\\ufe0e\\ufe0f",He=Fe+Ne+Pe+Oe,Ue="["+Se+"]",We="["+He+"]",Ge="["+je+Ie+"]",Ve="\\d+",Xe="["+De+"]",$e="["+ke+"]",Ze="[^"+Se+He+Ve+De+ke+Be+"]",Ye="\\ud83c[\\udffb-\\udfff]",Ke="(?:"+Ge+"|"+Ye+")",Qe="[^"+Se+"]",Je="(?:\\ud83c[\\udde6-\\uddff]){2}",tn="[\\ud800-\\udbff][\\udc00-\\udfff]",en="["+Be+"]",nn="\\u200d",rn="(?:"+$e+"|"+Ze+")",an="(?:"+en+"|"+Ze+")",on=Ke+"?",sn="["+qe+"]?",un="(?:"+nn+"(?:"+[Qe,Je,tn].join("|")+")"+sn+on+")*",cn=sn+on+un,fn="(?:"+[Xe,Je,tn].join("|")+")"+cn,ln="(?:"+[Qe+Ge+"?",Ge,Je,tn,Ue].join("|")+")",hn=RegExp(Ge,"g"),dn=RegExp(Ye+"(?="+Ye+")|"+ln+cn,"g"),pn=RegExp("["+nn+Se+je+Ie+qe+"]"),mn=/[a-zA-Z0-9]+/g,gn=RegExp([en+"?"+$e+"+(?="+[We,en,"$"].join("|")+")",an+"+(?="+[We,en+rn,"$"].join("|")+")",en+"?"+rn+"+",en+"+",Ve,fn].join("|"),"g"),vn=/[a-z][A-Z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,yn=["Array","Buffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Reflect","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],xn=-1,_n={};_n[Vt]=_n[Xt]=_n[$t]=_n[Zt]=_n[Yt]=_n[Kt]=_n[Qt]=_n[Jt]=_n[te]=!0,_n[Lt]=_n[Rt]=_n[Gt]=_n[St]=_n[jt]=_n[It]=_n[Dt]=_n[Ft]=_n[Nt]=_n[Pt]=_n[Ot]=_n[Bt]=_n[qt]=_n[Ut]=!1;var wn={};wn[Lt]=wn[Rt]=wn[Gt]=wn[St]=wn[jt]=wn[Vt]=wn[Xt]=wn[$t]=wn[Zt]=wn[Yt]=wn[Ft]=wn[Nt]=wn[Pt]=wn[Ot]=wn[Bt]=wn[qt]=wn[Ht]=wn[Kt]=wn[Qt]=wn[Jt]=wn[te]=!0,wn[It]=wn[Dt]=wn[Ut]=!1;var bn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Tn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},En={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},An={"function":!0,object:!0},Cn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},zn=parseFloat,Mn=parseInt,Ln=An[typeof r]&&r&&!r.nodeType?r:K,Rn=An[typeof n]&&n&&!n.nodeType?n:K,Sn=Rn&&Rn.exports===Ln?Ln:K,jn=I(Ln&&Rn&&"object"==typeof e&&e),In=I(An[typeof self]&&self),Dn=I(An[typeof window]&&window),kn=I(An[typeof this]&&this),Fn=jn||Dn!==(kn&&kn.window)&&Dn||In||kn||Function("return this")(),Nn=Y();(Dn||In||{})._=Nn,"function"==typeof t&&"object"==typeof t.amd&&t.amd?t(function(){return Nn}):Ln&&Rn?(Sn&&((Rn.exports=Nn)._=Nn),Ln._=Nn):Fn._=Nn}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],28:[function(t,e,n){!function(){"use strict";e.exports={TileLayer:t("./layer/TileLayer"),Renderer:t("./layer/Renderer"),TileRequestor:t("./request/TileRequestor"),MetaRequestor:t("./request/MetaRequestor")}}()},{"./layer/Renderer":29,"./layer/TileLayer":30,"./request/MetaRequestor":64,"./request/TileRequestor":66}],29:[function(t,e,n){!function(){"use strict";var n=t("./html/renderer/WordCloud"),r=t("./html/renderer/WordHistogram"),i=t("./html/renderer/Heatmap"),a={WordCloud:n,WordHistogram:r,Heatmap:i};e.exports={HTML:a}}()},{"./html/renderer/Heatmap":46,"./html/renderer/WordCloud":48,"./html/renderer/WordHistogram":49}],30:[function(t,e,n){!function(){"use strict";var n=t("./core/Debug");n.TileCoord=t("./debug/TileCoord");var r=t("./core/Pending");r.Blink=t("./pending/Blink"),r.Spin=t("./pending/Spin");var i=t("./core/Image"),a=t("./core/HTML");a.Heatmap=t("./html/Heatmap"),a.TopicCount=t("./html/TopicCount"),a.TopicFrequency=t("./html/TopicFrequency"),a.TopCount=t("./html/TopCount"),a.TopFrequency=t("./html/TopFrequency");var o=t("./core/Canvas");o.Heatmap=t("./canvas/Heatmap");var s=t("./core/WebGL");s.Heatmap=t("./webgl/Heatmap"),e.exports={Debug:n,Pending:r,Image:i,HTML:a,Canvas:o,WebGL:s}}()},{"./canvas/Heatmap":31,"./core/Canvas":33,"./core/Debug":34,"./core/HTML":35,"./core/Image":36,"./core/Pending":38,"./core/WebGL":39,"./debug/TileCoord":40,"./html/Heatmap":41,"./html/TopCount":42,"./html/TopFrequency":43,"./html/TopicCount":44,"./html/TopicFrequency":45,"./pending/Blink":61,"./pending/Spin":62,"./webgl/Heatmap":63}],31:[function(t,e,n){!function(){"use strict";var n=t("lodash"),r=t("../core/Canvas"),i=t("../params/Binning"),a=t("../params/TermsFilter"),o=t("../params/PrefixFilter"),s=t("../params/Range"),u=t("../mixins/ColorRamp"),c=r.extend({includes:[i,a,o,s,u],type:"heatmap",initialize:function(){u.initialize.apply(this,arguments),r.prototype.initialize.apply(this,arguments)},extractExtrema:function(t){var e=new Float64Array(t);return{min:n.min(e),max:n.max(e)}},renderCanvas:function(t,e,n,r){var i=document.createElement("canvas");i.height=e,i.width=e;var a=i.getContext("2d"),o=a.getImageData(0,0,e,e),s=o.data,u=this,c=[0,0,0,0];return t.forEach(function(t,e){var i=u.transformValue(t,r);i=Math.max(0,Math.min(1,i)),0===i?(c[0]=0,c[1]=0,c[2]=0,c[3]=0):n(i,c),s[4*e]=c[0],s[4*e+1]=c[1],s[4*e+2]=c[2],s[4*e+3]=c[3]}),a.putImageData(o,0,0),i},renderTile:function(t,e){if(e){var n=new Float64Array(e),r=Math.sqrt(n.length),i=this.getColorRamp(),a=this.renderCanvas(n,r,i,"log"),o=t.getContext("2d");o.imageSmoothingEnabled=!1,o.drawImage(a,0,0,r,r,0,0,t.width,t.height)}}});e.exports=c}()},{"../core/Canvas":33,"../mixins/ColorRamp":50,"../params/Binning":52,"../params/PrefixFilter":55,"../params/Range":56,"../params/TermsFilter":58,lodash:27}],32:[function(t,e,n){!function(){"use strict";function n(t){var e=t[0]>.04045?Math.pow((t[0]+.055)/1.055,2.4):t[0]/12.92,n=t[1]>.04045?Math.pow((t[1]+.055)/1.055,2.4):t[1]/12.92,r=t[2]>.04045?Math.pow((t[2]+.055)/1.055,2.4):t[2]/12.92,i=.4124564*e+.3575761*n+.1804375*r,a=.2126729*e+.7151522*n+.072175*r,o=.0193339*e+.119192*n+.9503041*r;return i/=.95047,a/=1,o/=1.08883,i=i>.008856?Math.pow(i,1/3):7.787037*i+16/116,a=a>.008856?Math.pow(a,1/3):7.787037*a+16/116,o=o>.008856?Math.pow(o,1/3):7.787037*o+16/116,[116*a-16,500*(i-a),200*(a-o),t[3]]}function r(t){var e=(t[0]+16)/116,n=e+t[1]/500,r=e-t[2]/200;n=n>.206893034?n*n*n:(n-4/29)/7.787037,e=e>.206893034?e*e*e:(e-4/29)/7.787037,r=r>.206893034?r*r*r:(r-4/29)/7.787037,n=.95047*n,e=1*e,r=1.08883*r;var i=3.2404542*n+-1.5371385*e+r*-.4985314,a=n*-.969266+1.8760108*e+.041556*r,o=.0556434*n+e*-.2040259+1.0572252*r;return i=i>.00304?1.055*Math.pow(i,1/2.4)-.055:12.92*i,a=a>.00304?1.055*Math.pow(a,1/2.4)-.055:12.92*a,o=o>.00304?1.055*Math.pow(o,1/2.4)-.055:12.92*o,[Math.max(Math.min(i,1),0),Math.max(Math.min(a,1),0),Math.max(Math.min(o,1),0),t[3]]}function i(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])+(t[2]-e[2])*(t[2]-e[2])+(t[3]-e[3])*(t[3]-e[3]))}var a=t("lodash"),o={},s=200,u=function(t){var e=[],o=a.map(t,function(t){return n([t[0]/255,t[1]/255,t[2]/255,t[3]/255])}),u=a.map(o,function(t,e,n){return e>0?i(t,n[e-1]):0}),c=a.reduce(u,function(t,e){return t+e},0);u=a.map(u,function(t){return t/c});for(var f,l,h,d=0,p=0,m=0;s>m;m++)f=m/(s-1),f>d+u[p+1]&&p+1<o.length-1&&(p+=1,d+=u[p]),l=(f-d)/u[p+1],h=r([o[p][0]+(o[p+1][0]-o[p][0])*l,o[p][1]+(o[p+1][1]-o[p][1])*l,o[p][2]+(o[p+1][2]-o[p][2])*l,o[p][3]+(o[p+1][3]-o[p][3])*l]),e.push([Math.round(255*h[0]),Math.round(255*h[1]),Math.round(255*h[2]),Math.round(255*h[3])]);return e},c=u([[4,32,64,80],[8,64,129,127],[8,104,172,255],[43,140,190,255],[78,179,211,255],[123,204,196,255],[168,221,181,255],[204,235,197,255],[224,243,219,255],[247,252,240,255]]),f=u([[64,0,19,80],[128,0,38,127],[189,0,38,255],[227,26,28,255],[252,78,42,255],[253,141,60,255],[254,178,76,255],[254,217,118,255],[255,237,160,255]]),l=u([[0,64,38,80],[0,90,50,127],[35,132,67,255],[65,171,93,255],[120,198,121,255],[173,221,142,255],[217,240,163,255],[247,252,185,255],[255,255,229,255]]),h=u([[38,26,64,80],[68,47,114,127],[225,43,2,255],[2,220,1,255],[255,210,2,255],[255,255,255,255]]),d=u([[0,22,64,80],[0,57,102,127],[49,61,102,255],[225,43,2,255],[255,210,2,255],[255,255,255,255]]),p=u([[0,0,0,127],[64,64,64,255],[255,255,255,255]]),m=function(t){return function(e,n){var r=t[Math.floor(e*(s-1))];return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n}};o.cool=m(c),o.hot=m(f),o.verdant=m(l),o.spectral=m(h),o.temperature=m(d),o.grey=m(p),e.exports=o}()},{lodash:27}],33:[function(t,e,n){!function(){"use strict";var n=t("./LiveTileLayer"),r=n.extend({_createTile:function(){var t=L.DomUtil.create("canvas","leaflet-tile");return t.width=t.height=this.options.tileSize,t.onselectstart=t.onmousemove=L.Util.falseFn,t}});e.exports=r}()},{"./LiveTileLayer":37}],34:[function(t,e,n){!function(){"use strict";var n=t("./Image"),r=n.extend({initialize:function(){this._pendingTiles={},L.setOptions(this,{unloadInvisibleTiles:!0,zIndex:5e3})},redraw:function(){return this._map&&(this._reset({hard:!0}),this._update()),this},_redrawTile:function(t){var e={x:t._tilePoint.x,y:t._tilePoint.y,z:this._map._zoom};this.renderTile(t,e),this.tileDrawn(t)},_createTile:function(){var t=L.DomUtil.create("div","leaflet-tile leaflet-debug-tile");return t.width=this.options.tileSize,t.height=this.options.tileSize,t.onselectstart=L.Util.falseFn,t.onmousemove=L.Util.falseFn,t},_loadTile:function(t,e){t._layer=this,t._tilePoint=e,this._adjustTilePoint(e),this._redrawTile(t)},renderTile:function(){},tileDrawn:function(t){this._tileOnLoad.call(t)}});e.exports=r}()},{"./Image":36}],35:[function(t,e,n){!function(){"use strict";var n=t("lodash"),r=t("jquery"),i=t("./LiveTileLayer"),a=i.extend({initialize:function(t,e){i.prototype.initialize.apply(this,arguments),e.rendererClass?n.extend(this,e.rendererClass):console.warn("No `rendererClass` option found, this layer will not render any data."),L.setOptions(this,e)},onAdd:function(t){var e=this;i.prototype.onAdd.call(this,t),t.on("click",this.onClick,this),r(this._container).on("mouseover",function(t){e.onHover(t)})},onRemove:function(t){t.off("click",this.onClick),r(this._container).off("mouseover"),i.prototype.onRemove.call(this,t)},_createTile:function(){var t=L.DomUtil.create("div","leaflet-tile leaflet-html-tile");return t.width=this.options.tileSize,t.height=this.options.tileSize,t.onselectstart=L.Util.falseFn,t.onmousemove=L.Util.falseFn,t},onHover:function(){},onClick:function(){},renderTile:function(){}});e.exports=a}()},{"./LiveTileLayer":37,jquery:26,lodash:27}],36:[function(t,e,n){!function(){"use strict";var n=t("jquery"),r=L.TileLayer.extend({getOpacity:function(){return this.options.opacity},show:function(){this._hidden=!1,this._prevMap.addLayer(this)},hide:function(){this._hidden=!0,this._prevMap=this._map,this._map.removeLayer(this)},isHidden:function(){return this._hidden},setBrightness:function(t){this._brightness=t,console.log(t),n(this._container).css("-webkit-filter","brightness("+100*this._brightness+"%)"),n(this._container).css("filter","brightness("+100*this._brightness+"%)")},getBrightness:function(){return void 0!==this._brightness?this._brightness:1}});e.exports=r}()},{jquery:26}],37:[function(t,e,n){!function(){"use strict";var n=t("lodash"),r=t("./Image"),i=t("../mixins/Live"),a=r.extend({includes:[i],initialize:function(t,e){i.initialize.apply(this,arguments),L.setOptions(this,e)},onAdd:function(t){L.TileLayer.prototype.onAdd.call(this,t),t.on("zoomstart",this.clearExtrema,this)},onRemove:function(t){t.off("zoomstart",this.clearExtrema),L.TileLayer.prototype.onRemove.call(this,t)},redraw:function(){return this._map&&(this._reset({hard:!0}),this._update()),this},_createTile:function(){},_loadTile:function(t,e){t._layer=this,t._tilePoint=e,t._unadjustedTilePoint={x:e.x,y:e.y},this._adjustTilePoint(e),this._redrawTile(t)},_adjustTileKey:function(t){var e=t.split(":"),n=parseInt(e[0],10),r=parseInt(e[1],10),i={x:n,y:r};return this._adjustTilePoint(i),i.x+":"+i.y+":"+i.z},_removeTile:function(t){var e=this._adjustTileKey(t),r=this._cache[e];delete r.tiles[t],0===n.keys(r.tiles).length&&delete this._cache[e],L.TileLayer.prototype._removeTile.call(this,t)},_redrawTile:function(t){var e=this,r=this._cache,i={x:t._tilePoint.x,y:t._tilePoint.y,z:this._map._zoom},a=i.x+":"+i.y+":"+i.z,o=t._unadjustedTilePoint.x+":"+t._unadjustedTilePoint.y,s=r[a];s?s.isPending?s.tiles[o]=t:(s.tiles[o]=t,e.renderTile(t,s.data),e.tileDrawn(t)):(r[a]={isPending:!0,tiles:{},data:null},r[a].tiles[o]=t,this.requestTile(i,function(t){var i=r[a];i&&(i.isPending=!1,i.data=t,t&&e.updateExtrema(t)?e.redraw():n.forIn(i.tiles,function(n){e.renderTile(n,t),e.tileDrawn(n)}))}))},tileDrawn:function(t){this._tileOnLoad.call(t)},requestTile:function(){},renderTile:function(){}});e.exports=a}()},{"../mixins/Live":51,"./Image":36,lodash:27}],38:[function(t,e,n){!function(){"use strict";var n=t("jquery"),r=t("./Image"),i=r.extend({initialize:function(){this._pendingTiles={},L.setOptions(this,{unloadInvisibleTiles:!0,zIndex:5e3})},increment:function(t){var e=this._getTileHash(t);if(void 0===this._pendingTiles[e]){this._pendingTiles[e]=1;var n=this._getTilesWithHash(e);n.forEach(function(t){this._redrawTile(t)},this)}else this._pendingTiles[e]++},decrement:function(t){var e=this._getTileHash(t);if(this._pendingTiles[e]--,0===this._pendingTiles[e]){delete this._pendingTiles[e];var n=this._getTilesWithHash(e);n.forEach(function(t){this._redrawTile(t)},this)}},redraw:function(){return this._map&&(this._reset({hard:!0}),this._update()),this},_getTileClass:function(t){return"pending-"+t},_getTileHash:function(t){return t.z+"-"+t.x+"-"+t.y},_getTilesWithHash:function(t){var e=this._getTileClass(t),r=[];return n(this._container).find("."+e).each(function(){r.push(this)}),r},_redrawTile:function(t){var e={x:t._tilePoint.x,y:t._tilePoint.y,z:this._map._zoom},r=this._getTileHash(e);n(t).addClass(this._getTileClass(r)),this._pendingTiles[r]>0?this.renderTile(t,e):t.innerHTML="",this.tileDrawn(t)},_createTile:function(){var t=L.DomUtil.create("div","leaflet-tile leaflet-pending-tile");return t.width=this.options.tileSize,t.height=this.options.tileSize,t.onselectstart=L.Util.falseFn,t.onmousemove=L.Util.falseFn,t},_loadTile:function(t,e){t._layer=this,t._tilePoint=e,this._adjustTilePoint(e),this._redrawTile(t)},renderTile:function(){},tileDrawn:function(t){this._tileOnLoad.call(t)}});e.exports=i}()},{"./Image":36,jquery:26}],39:[function(t,e,n){!function(){"use strict";var n=t("lodash"),r=t("alfador"),i=t("esper"),a=t("../mixins/Live"),o=L.Class.extend({includes:[L.Mixin.Events,a],options:{minZoom:0,maxZoom:18,zoomOffset:0,opacity:1,shaders:{vert:null,frag:null},unloadInvisibleTiles:L.Browser.mobile,updateWhenIdle:L.Browser.mobile},initialize:function(t,e){a.initialize.apply(this,arguments),e=L.setOptions(this,e),e.bounds&&(e.bounds=L.latLngBounds(e.bounds))},getOpacity:function(){return this.options.opacity},show:function(){this._hidden=!1,this._prevMap.addLayer(this)},hide:function(){this._hidden=!0,this._prevMap=this._map,this._map.removeLayer(this)},isHidden:function(){return this._hidden},onAdd:function(t){this._map=t,this._animated=t._zoomAnimated,this._initCanvas(),t._panes.tilePane.appendChild(this._canvas),this._initGL(),t.on({resize:this._resize,viewreset:this._reset,moveend:this._update,zoomstart:this.clearExtrema},this),t.options.zoomAnimation&&L.Browser.any3d&&t.on({zoomstart:this._enableZooming,zoomanim:this._animateZoom,zoomend:this._disableZooming},this),this.options.updateWhenIdle||(this._limitedUpdate=L.Util.limitExecByInterval(this._update,150,this),t.on("move",this._limitedUpdate,this)),this._reset(),this._update()},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){t.getPanes().tilePane.removeChild(this._canvas),t.off({resize:this._resize,viewreset:this._reset,moveend:this._update,zoomstart:this.clearExtrema},this),t.options.zoomAnimation&&t.off({zoomstart:this._enableZooming,zoomanim:this._animateZoom,zoomend:this._disableZooming}),this.options.updateWhenIdle||t.off("move",this._limitedUpdate),this._map=null,this._animated=null,this._gl=null,this._canvas=null,this._viewport=null,this._initialized=!1,this._isZooming=!1,this._cache={}},_enableZooming:function(){this._isZooming=!0},_disableZooming:function(){this._isZooming=!1,this._clearBackBuffer()},bringToFront:function(){var t=this._map._panes.tilePane;return this._canvas&&(t.appendChild(this._canvas),this._setAutoZIndex(t,Math.max)),this},bringToBack:function(){var t=this._map._panes.tilePane;return this._canvas&&(t.insertBefore(this._canvas,t.firstChild),this._setAutoZIndex(t,Math.min)),this},_setAutoZIndex:function(t,e){var n,r,i,a=t.children,o=-e(1/0,-(1/0));for(r=0,i=a.length;i>r;r++)a[r]!==this._canvas&&(n=parseInt(a[r].style.zIndex,10),isNaN(n)||(o=e(o,n)));this.options.zIndex=this._canvas.style.zIndex=(isFinite(o)?o:0)+e(1,-1)},setOpacity:function(t){return this.options.opacity=t,this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},_updateZIndex:function(){this._canvas&&void 0!==this.options.zIndex&&(this._canvas.style.zIndex=this.options.zIndex)},_reset:function(t){var e=this;n.forIn(this._tiles,function(t){e.fire("tileunload",{tile:t})}),this._tiles={},this._tilesToLoad=0,this._animated&&t&&t.hard&&this._clearBackBuffer()},_update:function(){if(this._map){var t=this._map,e=t.getPixelBounds(),n=t.getZoom(),r=this._getTileSize();if(!(n>this.options.maxZoom||n<this.options.minZoom)){var i=L.bounds(e.min.divideBy(r)._floor(),e.max.divideBy(r)._floor());this._addTilesFromCenterOut(i),this.options.unloadInvisibleTiles&&this._removeOtherTiles(i)}}},_addTilesFromCenterOut:function(t){var e,n,r,i=[],a=t.getCenter();for(e=t.min.y;e<=t.max.y;e++)for(n=t.min.x;n<=t.max.x;n++)r=new L.Point(n,e),this._tileShouldBeLoaded(r)&&i.push(r);var o=i.length;if(0!==o)for(i.sort(function(t,e){return t.distanceTo(a)-e.distanceTo(a)}),this._tilesToLoad||this.fire("loading"),this._tilesToLoad+=o,n=0;o>n;n++)this._addTile(i[n])},_tileShouldBeLoaded:function(t){if(t.x+":"+t.y in this._tiles)return!1;var e=this.options;if(!e.continuousWorld){var n=this._getWrapTileNum();if(e.noWrap&&(t.x<0||t.x>=n.x)||t.y<0||t.y>=n.y)return!1}if(e.bounds){var r=this._getTileSize(),i=t.multiplyBy(r),a=i.add([r,r]),o=this._map.unproject(i),s=this._map.unproject(a);if(e.continuousWorld||e.noWrap||(o=o.wrap(),s=s.wrap()),!e.bounds.intersects([o,s]))return!1}return!0},_removeOtherTiles:function(t){var e=this;n.forIn(this._tiles,function(n,r){
var i=r.split(":"),a=parseInt(i[0],10),o=parseInt(i[1],10);(a<t.min.x||a>t.max.x||o<t.min.y||o>t.max.y)&&e._removeTile(r)})},_getTileSize:function(){var t=this._map,e=t.getZoom()+this.options.zoomOffset,n=this.options.maxNativeZoom,r=256;return n&&e>n&&(r=Math.round(t.getZoomScale(e)/t.getZoomScale(n)*r)),r},redraw:function(){return this._map&&(this._reset({hard:!0}),this._update()),this},_createTile:function(){return{}},_addTile:function(t){var e=this._createTile();this._tiles[t.x+":"+t.y]=e,this._loadTile(e,t)},_loadTile:function(t,e){t._layer=this,t._tilePoint=e,t._unadjustedTilePoint={x:e.x,y:e.y},this._adjustTilePoint(e),this._redrawTile(t)},_adjustTileKey:function(t){var e=t.split(":"),n=parseInt(e[0],10),r=parseInt(e[1],10),i={x:n,y:r};return this._adjustTilePoint(i),i.x+":"+i.y+":"+i.z},_getZoomForUrl:function(){var t=this.options,e=this._map.getZoom();return t.zoomReverse&&(e=t.maxZoom-e),e+=t.zoomOffset,t.maxNativeZoom?Math.min(e,t.maxNativeZoom):e},_getTilePos:function(t){var e=this._map.getPixelOrigin(),n=this._getTileSize();return t.multiplyBy(n).subtract(e)},_getWrapTileNum:function(){var t=this._map.options.crs,e=t.getSize(this._map.getZoom());return e.divideBy(this._getTileSize())._floor()},_adjustTilePoint:function(t){var e=this._getWrapTileNum();this.options.continuousWorld||this.options.noWrap||(t.x=(t.x%e.x+e.x)%e.x),this.options.tms&&(t.y=e.y-t.y-1),t.z=this._getZoomForUrl()},_removeTile:function(t){var e=this._adjustTileKey(t),r=this._cache[e];delete r.tiles[t],0===n.keys(r.tiles).length&&delete this._cache[e];var i=this._tiles[t];this.fire("tileunload",{tile:i}),delete this._tiles[t]},_tileLoaded:function(){this._tilesToLoad--,this._animated&&L.DomUtil.addClass(this._canvas,"leaflet-zoom-animated"),this._tilesToLoad||(this.fire("load"),this._animated&&(clearTimeout(this._clearBufferTimer),this._clearBufferTimer=setTimeout(L.bind(this._clearBackBuffer,this),500)))},_tileOnLoad:function(){var t=this._layer;L.DomUtil.addClass(this,"leaflet-tile-loaded"),t.fire("tileload",{tile:this}),t._tileLoaded()},_tileOnError:function(){var t=this._layer;t.fire("tileerror",{tile:this}),t._tileLoaded()},_encodeFloatAsUint8:function(t){return new Uint8Array([(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t])},_createDataTexture:function(t){for(var e=new Float64Array(t),n=Math.sqrt(e.length),r=new ArrayBuffer(n*n*4),a=new Uint8Array(r),o=0;n*n>o;o++){var s=this._encodeFloatAsUint8(e[o]);a[4*o]=s[0],a[4*o+1]=s[1],a[4*o+2]=s[2],a[4*o+3]=s[3]}return new i.Texture2D({height:n,width:n,data:a,format:"RGBA",type:"UNSIGNED_BYTE",wrap:"CLAMP_TO_EDGE",filter:"NEAREST",invertY:!0})},_redrawTile:function(t){var e=this,n=this._cache,r={x:t._tilePoint.x,y:t._tilePoint.y,z:this._map._zoom},i=r.x+":"+r.y+":"+r.z,a=t._unadjustedTilePoint.x+":"+t._unadjustedTilePoint.y,o=n[i];o?o.tiles[a]=t:(n[i]={isPending:!0,tiles:{},data:null},n[i].tiles[a]=t,this.requestTile(r,function(t){var r=n[i];r&&(r.isPending=!1,null!==t&&(e.updateExtrema(t),r.data=e._createDataTexture(t)))}))},_initGL:function(){var t=this,e=this._gl=i.WebGLContext.get(this._canvas);return e?(e.clearColor(0,0,0,0),e.enable(e.BLEND),e.blendFunc(e.SRC_ALPHA,e.ONE),e.disable(e.DEPTH_TEST),t._renderable=new i.Renderable({vertices:{0:[[0,-256],[256,-256],[256,0],[0,0]],1:[[0,0],[1,0],[1,1],[0,1]]},indices:[0,1,2,0,2,3]}),void(this._shader=new i.Shader({vert:this.options.shaders.vert,frag:this.options.shaders.frag},function(){var e=t._canvas.width,n=t._canvas.height;t._viewport=new i.Viewport({width:e,height:n}),t._initialized=!0,t._draw()}))):void console.error("Unable to acquire a WebGL context.")},_initCanvas:function(){this._canvas=L.DomUtil.create("canvas","leaflet-webgl-layer leaflet-layer");var t=this._map.getSize();this._canvas.width=t.x,this._canvas.height=t.y;var e=this._map.options.zoomAnimation&&L.Browser.any3d;L.DomUtil.addClass(this._canvas,"leaflet-zoom-"+(e?"animated":"hide"))},_getProjection:function(){var t=this._map.getPixelBounds(),e=256*Math.pow(2,this._map.getZoom());return r.Mat44.ortho(t.min.x,t.max.x,e-t.max.y,e-t.min.y,-1,1)},_clearBackBuffer:function(){if(this._gl){var t=this._gl;t.clear(t.COLOR_BUFFER_BIT)}},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._getCenterOffset(t.center)._multiplyBy(-e).subtract(this._map._getMapPanePos());this._canvas.style[L.DomUtil.TRANSFORM]=L.DomUtil.getTranslateString(n)+" scale("+e+")"},_resize:function(t){var e=t.newSize.x,n=t.newSize.y;this._initialized&&this._viewport.resize(e,n)},_draw:function(){if(this._initialized&&this._gl){if(!this.isHidden()){if(!this._isZooming){var t=this._map.containerPointToLayerPoint([0,0]);L.DomUtil.setPosition(this._canvas,t)}this._beforeDraw(),this.beforeDraw(),this.draw(),this.afterDraw(),this._afterDraw()}requestAnimationFrame(this._draw.bind(this))}},beforeDraw:function(){},_beforeDraw:function(){this._viewport.push(),this._shader.push(),this._shader.setUniform("uProjectionMatrix",this._getProjection()),this._shader.setUniform("uOpacity",this.getOpacity()),this._shader.setUniform("uTextureSampler",0)},afterDraw:function(){},_afterDraw:function(){this._shader.pop(),this._viewport.pop()},draw:function(){var t=this,e=256*Math.pow(2,this._map.getZoom());n.forIn(this._cache,function(i){!i.isPending&&i.data&&(i.data.push(0),n.forIn(i.tiles,function(n,i){var a=i.split(":"),o=parseInt(a[0],10),s=parseInt(a[1],10),u=new r.Mat44.translation([256*o,e-256*s,0]);t._shader.setUniform("uModelMatrix",u),t._renderable.draw()}))})},requestTile:function(){}});e.exports=o}()},{"../mixins/Live":51,alfador:9,esper:22,lodash:27}],40:[function(t,e,n){!function(){"use strict";var n=t("jquery"),r=t("../core/Debug"),i=r.extend({renderTile:function(t,e){n(t).empty(),n(t).append('<div style="top:0; left:0;">'+e.z+", "+e.x+", "+e.y+"</div>")}});e.exports=i}()},{"../core/Debug":34,jquery:26}],41:[function(t,e,n){!function(){"use strict";var n=t("../core/HTML"),r=t("../params/Binning"),i=t("../params/TermsFilter"),a=t("../params/PrefixFilter"),o=t("../params/Range"),s=t("../mixins/ColorRamp"),u=n.extend({includes:[r,i,a,o,s],type:"heatmap",initialize:function(){s.initialize.apply(this,arguments),n.prototype.initialize.apply(this,arguments)}});e.exports=u}()},{"../core/HTML":35,"../mixins/ColorRamp":50,"../params/Binning":52,"../params/PrefixFilter":55,"../params/Range":56,"../params/TermsFilter":58}],42:[function(t,e,n){!function(){"use strict";var n=t("../core/HTML"),r=t("../params/Tiling"),i=t("../params/TermsFilter"),a=t("../params/PrefixFilter"),o=t("../params/TopTerms"),s=t("../params/Range"),u=t("../params/Histogram"),c=n.extend({includes:[r,o,i,a,s,u],type:"top_count"});e.exports=c}()},{"../core/HTML":35,"../params/Histogram":54,"../params/PrefixFilter":55,"../params/Range":56,"../params/TermsFilter":58,"../params/Tiling":59,"../params/TopTerms":60}],43:[function(t,e,n){!function(){"use strict";var n=t("../core/HTML"),r=t("../params/Tiling"),i=t("../params/TopTerms"),a=t("../params/TermsFilter"),o=t("../params/PrefixFilter"),s=t("../params/Range"),u=t("../params/DateHistogram"),c=t("../params/Histogram"),f=n.extend({includes:[r,i,a,o,s,u,c],type:"top_frequency"});e.exports=f}()},{"../core/HTML":35,"../params/DateHistogram":53,"../params/Histogram":54,"../params/PrefixFilter":55,"../params/Range":56,"../params/TermsFilter":58,"../params/Tiling":59,"../params/TopTerms":60}],44:[function(t,e,n){!function(){"use strict";var n=t("../core/HTML"),r=t("../params/Tiling"),i=t("../params/TermsAgg"),a=t("../params/Range"),o=t("../params/Histogram"),s=n.extend({includes:[r,i,a,o],type:"topic_count"});e.exports=s}()},{"../core/HTML":35,"../params/Histogram":54,"../params/Range":56,"../params/TermsAgg":57,"../params/Tiling":59}],45:[function(t,e,n){!function(){"use strict";var n=t("../core/HTML"),r=t("../params/Tiling"),i=t("../params/TermsAgg"),a=t("../params/Range"),o=t("../params/DateHistogram"),s=t("../params/Histogram"),u=n.extend({includes:[r,i,a,o,s],type:"topic_frequency"});e.exports=u}()},{"../core/HTML":35,"../params/DateHistogram":53,"../params/Histogram":54,"../params/Range":56,"../params/TermsAgg":57,"../params/Tiling":59}],46:[function(t,e,n){!function(){"use strict";var n=t("jquery"),r=t("lodash"),i=256;e.exports={onClick:function(t){var e=n(t.originalEvent.target);n(".heatmap-pixel").removeClass("highlight"),e.addClass("highlight")},extractExtrema:function(t){var e=new Float64Array(t);return{min:r.min(e),max:r.max(e)}},renderTile:function(t,e){if(e){var n=new Float64Array(e),r=Math.sqrt(n.length),a=this.getColorRamp(),o=i/r,s=this,u=[0,0,0,0],c="";n.forEach(function(t,e){var n=e%r,i=Math.floor(e/r),f=s.transformValue(t,"log");if(f=Math.max(0,Math.min(1,f)),0!==f){a(f,u);var l="rgba("+u[0]+","+u[1]+","+u[2]+","+u[3]/255+")";c+='<div class="heatmap-pixel" style="height:'+o+"px;width:"+o+"px;left:"+n*o+"px;top:"+i*o+"px;background-color:"+l+';"></div>'}}),t.innerHTML=c}}}}()},{jquery:26,lodash:27}],47:[function(t,e,n){!function(){"use strict";function t(t,e){t=void 0!==t?t:-1,e=void 0!==e?e:1;var n=[.25*e,.5*e,.75*e],r=[-.25*t,-.5*t,-.75*t];return function(t){var e,i;0>t?(e="neg-",i=r):(e="pos-",i=n);var a=Math.abs(t);return a>i[2]?e+"4":a>i[1]?e+"3":a>i[0]?e+"2":e+"1"}}function n(t){if(!t)return 0;var e=t[i]?t[i]:0,n=t[a]?t[a]:0,r=t[o]?t[o]:0;return e+n+r}function r(t){if(!t)return 0;var e=t[i]?t[i]:0,n=t[a]?t[a]:0,r=t[o]?t[o]:0,s=e+n+r;return 0!==s?(e-r)/s:0}var i="1",a="0",o="-1";e.exports={getClassFunc:t,getTotal:n,getAvg:r}}()},{}],48:[function(t,e,n){!function(){"use strict";var n=t("jquery"),r=t("lodash"),i=t("./Sentiment"),a=i.getClassFunc(-1,1),o=256,s=o/2,u=24,c=10,f="log",l=15,h=10,d=20,p=1,m=function(t){var e=2*Math.PI,n=e*t.radius,r=t.arcLength>n/10?n/10:t.arcLength,i=r/t.radius,a=t.t+i;return a>e&&(a%=e,t.radius=t.radius+t.radiusInc),t.t=a,t.x=t.radius*Math.cos(a),t.y=t.radius*Math.sin(a),t},g=function(t,e){return 2*Math.abs(t.x-e.x)<t.width+e.width&&2*Math.abs(t.y-e.y)<t.height+e.height},v=function(t,e){return t.x+t.width/2>e.x+e.width/2||t.x-t.width/2<e.x-e.width/2||t.y+t.height/2>e.y+e.height/2||t.y-t.height/2<e.y-e.height/2},y=function(t,e,n,r){var i,a={x:t.x,y:t.y,height:e.height,width:e.width};for(i=0;i<n.length;i++)if(g(a,n[i]))return!0;return v(a,r)?(t.collisions++,t.arcLength=t.radius,!0):!1};e.exports={onHover:function(t){var e=n(t.originalEvent.target);n(".word-cloud-label").removeClass("hover");var r=e.attr("data-word");r&&n(".word-cloud-label[data-word="+r+"]").addClass("hover")},onClick:function(t){var e=n(t.originalEvent.target);n(".word-cloud-label").removeClass("highlight");var r=e.attr("data-word");r?(n(this._container).addClass("highlight"),n(".word-cloud-label[data-word="+r+"]").addClass("highlight"),this.highlight=r):(n(this._container).removeClass("highlight"),this.highlight=null)},_measureWords:function(t,e){t=t.sort(function(t,e){return e.count-t.count}).slice(0,l);var r='<div style="height:256px; width:256px;">',i=this;t.forEach(function(t){t.percent=i.transformValue(t.count,e),t.fontSize=h+t.percent*(d-h),r+='<div class="word-cloud-label" style="visibility:hidden;font-size:'+t.fontSize+'px;">'+t.text+"</div>"}),r+="</div>";var a=n(r);return n("body").append(a),a.children().each(function(e){t[e].width=this.offsetWidth,t[e].height=this.offsetHeight}),a.remove(),t},_createWordCloud:function(t){var e={width:o-2*c,height:o-2*u,x:0,y:0},n=[];return t=this._measureWords(t,f),t.forEach(function(t){for(var r={radius:1,radiusInc:5,arcLength:10,x:0,y:0,t:0,collisions:0};r.collisions<p;)if(r=m(r),!y(r,t,n,e)){n.push({text:t.text,fontSize:t.fontSize,percent:10*Math.round(100*t.percent/10),x:r.x,y:r.y,width:t.width,height:t.height,sentiment:t.sentiment,avg:t.avg});break}}),n},extractExtrema:function(t){var e=r.map(t,function(t){return r.isNumber(t)?t:i.getTotal(t)});return{min:r.min(e),max:r.max(e)}},renderTile:function(t,e){if(e&&!r.isEmpty(e)){var n=this.highlight,o=r.map(e,function(t,e){if(r.isNumber(t))return{count:t,text:e};var n=i.getTotal(t),o=i.getAvg(t);return{count:n,text:e,avg:o,sentiment:a(o)}});if(0!==o.length){var u=this._createWordCloud(o),c="";u.forEach(function(t){var e=["word-cloud-label","word-cloud-label-"+t.percent,t.text===n?"highlight":"",t.sentiment?t.sentiment:""].join(" "),r=["font-size:"+t.fontSize+"px","left:"+(s+t.x-t.width/2)+"px","top:"+(s+t.y-t.height/2)+"px","width:"+t.width+"px","height:"+t.height+"px"].join(";");c+='<div class="'+e+'"style="'+r+'"data-sentiment="'+t.avg+'"data-word="'+t.text+'">'+t.text+"</div>"}),t.innerHTML=c}}}}}()},{"./Sentiment":47,jquery:26,lodash:27}],49:[function(t,e,n){!function(){"use strict";var n=t("jquery"),r=t("lodash"),i=t("./Sentiment"),a=i.getClassFunc(-1,1),o=256,s=o/2,u="log",c=8,f=16,l=22,h=function(t){return null!==t&&r.isNumber(t)},d=function(t){return h(t)?t:i.getTotal(t)},p=function(t){return void 0!==t?a(t):""},m=function(t){return h(t)?{count:t}:{count:i.getTotal(t),avg:i.getAvg(t)}},g=function(t){if(void 0!==t[0].avg){var e=r.sumBy(t,function(t){return t.avg});return e/t.length}},v=function(t,e){var n=r.map(t,m),i=g(n),a=r.maxBy(n,function(t){return t.count}).count,o=r.sumBy(n,function(t){return t.count});return{topic:e,frequencies:n,max:a,total:o,avg:i}};e.exports={onHover:function(t){var e=n(t.originalEvent.target);n(".word-histogram-entry").removeClass("hover");var r=e.attr("data-word");r&&n(".word-histogram-entry[data-word="+r+"]").addClass("hover")},onClick:function(t){var e=n(t.originalEvent.target);n(".word-histogram-entry").removeClass("highlight");var r=e.attr("data-word");r?(n(this._container).addClass("highlight"),n(".word-histogram-entry[data-word="+r+"]").addClass("highlight"),this.highlight=r):(n(this._container).removeClass("highlight"),this.highlight=null)},extractExtrema:function(t){var e=r.map(t,function(t){return r.sumBy(t,d)});return{min:r.min(e),max:r.max(e)}},renderTile:function(t,e){if(e&&!r.isEmpty(e)){var i=this.highlight,a=r.map(e,v).sort(function(t,e){return e.total-t.total}),o=Math.min(a.length,c),h=n('<div class="word-histograms" style="display:inline-block;"></div>'),d=0,m=this;a.slice(0,o).forEach(function(t){var e=t.topic,r=t.frequencies,a=t.max,o=t.total,s=t.avg,c=p(s),g=e===i?"highlight":"",v=m.transformValue(o,u),y=10*Math.round(100*v/10),x=f+v*(l-f);d+=x;var _=n('<div class="word-histogram-entry '+g+'" data-sentiment="'+s+'"data-word="'+e+'"style="height:'+x+'px;"></div>'),w=n('<div class="word-histogram-left"data-sentiment="'+s+'"data-word="'+e+'"></div>'),b="calc("+100/r.length+"%)";r.forEach(function(t){var n,r,i=t.count,o=t.avg,s=p(o),u=0!==a?i/a*100:0,c=0===u?"hidden":"",f=10*Math.round(u/10),l=["word-histogram-bar","word-histogram-bar-"+f,s+"-fill"].join(" ");3>u/100*x?(n="3px",r="calc(100% - 3px)"):(n=u+"%",r=100-u+"%"),w.append('<div class="'+l+'"data-word="'+e+'"style="visibility:'+c+";width:"+b+";height:"+n+";top:"+r+';"></div>')}),_.append(w);var T=["word-histogram-label","word-histogram-label-"+y,c].join(" "),E=n('<div class="word-histogram-right"><div class="'+T+'"data-sentiment="'+s+'"data-word="'+e+'"style="font-size:'+x+"px;line-height:"+x+"px;height:"+x+'px">'+e+"</div></div>");_.append(E),h.append(_)}),h.css("top",s-d/2),t.innerHTML=h[0].outerHTML}}}}()},{"./Sentiment":47,jquery:26,lodash:27}],50:[function(t,e,n){!function(){"use strict";var n=t("../color/ColorRampFuncs"),r=function(t){var e=n[t.toLowerCase()];return e&&(this._colorRamp=e),this},i=function(){return this._colorRamp},a=function(){this._colorRamp=n.verdant};e.exports={initialize:a,setColorRamp:r,getColorRamp:i}}()},{"../color/ColorRampFuncs":32}],51:[function(t,e,n){!function(){"use strict";var n=t("lodash"),r=Number.MAX_VALUE,i=0,a=function(){this._extrema={min:r,max:i},this._cache={}},o=function(){return this._extrema},s=function(t){this._range.min=t.min,this._range.max=t.max},u=function(){return this._range?this._range:{min:this._range.min,max:this._range.max}},c=function(t){var e=this.extractExtrema(t),n=!1;return e.min<this._extrema.min&&(n=!0,this._extrema.min=e.min),e.max>this._extrema.max&&(n=!0,this._extrema.max=e.max),n},f=function(t){return{min:n.min(t),max:n.max(t)}},l=function(t,e){var n,r=this._extrema.min,i=this._extrema.max,a=Math.max(Math.min(t,i),r);if("log"===e){var o=Math.log10(r||1),s=Math.log10(i||1),u=1/(s-o||1);n=(Math.log10(a||1)-o)*u}else{var c=i-r;n=(a-r)/c}var f=this._range.min,l=this._range.max;return(n-f)/(l-f)},h=function(t){return this._meta=t,this},d=function(){return this._meta},p=function(t){this._params=t},m=function(){return this._params},g=function(t){this._meta=t,this._params={binning:{}},this._range={min:0,max:1},this.clearExtrema()};e.exports={initialize:g,setMeta:h,getMeta:d,setParams:p,getParams:m,clearExtrema:a,getExtrema:o,updateExtrema:c,extractExtrema:f,setValueRange:s,getValueRange:u,transformValue:l}}()},{lodash:27}],52:[function(t,e,n){!function(){"use strict";var n=t("./Tiling"),r=function(t){return t!==this._params.binning.resolution&&(this._params.binning.resolution=t,this.clearExtrema()),this},i=function(){return this._params.binning.resolution};e.exports={setXField:n.setXField,getXField:n.getXField,setYField:n.setYField,getYField:n.getYField,setResolution:r,getResolution:i}}()},{"./Tiling":59}],53:[function(t,e,n){!function(){"use strict";var t=function(t,e,n,r){return t?void 0===e?void console.warn("DateHistogram `from` are missing from argument. Ignoring command."):void 0===n?void console.warn("DateHistogram `to` are missing from argument. Ignoring command."):(this._params.date_histogram={field:t,from:e,to:n,interval:r},this.clearExtrema(),this):void console.warn("DateHistogram `field` is missing from argument. Ignoring command.")},n=function(){return this._params.date_histogram};e.exports={setDateHistogram:t,getDateHistogram:n}}()},{}],54:[function(t,e,n){!function(){"use strict";var t=function(t,e){return t?e?(this._params.histogram={field:t,interval:e},this.clearExtrema(),this):void console.warn("Histogram `interval` are missing from argument. Ignoring command."):void console.warn("Histogram `field` is missing from argument. Ignoring command.")},n=function(){return this._params.histogram};e.exports={setHistogram:t,getHistogram:n}}()},{}],55:[function(t,e,n){!function(){"use strict";var n=t("lodash"),r=function(t,e){if(t){if("string"===t.type)return!0;console.warn("Field `"+e+"` is not of type `string` in meta data. Ignoring command.")}else console.warn("Field `"+e+"` is not recognized in meta data. Ignoring command.");return!1},i=function(t){return t=n.map(t,function(t){return t.toLowerCase()}),t.sort(function(t,e){return e>t?-1:t>e?1:0}),t},a=function(t,e){if(!t)return void console.warn("PrefixFilter `field` is missing from argument. Ignoring command.");if(void 0===e)return void console.warn("PrefixFilter `prefixes` are missing from argument. Ignoring command.");var a=this._meta[t];if(r(a,t)){var o=n.find(this._params.prefixes_filter,function(e){return e.field===t});if(o)return void console.warn("Range with `field` of `"+t+"` already exists, used `updateRange` instead.");this._params.prefixes_filter.push({field:t,prefixes:i(e)}),this.clearExtrema()}return this},o=function(t,e){var r=n.find(this._params.prefixes_filter,function(e){return e.field===t});return r?(void 0!==e&&(r.prefixes=i(e),this.clearExtrema()),this):void console.warn("Range with `field` of `"+t+"` does not exist. Ignoring command.")},s=function(t){var e=n.find(this._params.prefixes_filter,function(e){return e.field===t});return e?(this._params.prefixes_filter=n.filter(this._params.prefixes_filter,function(e){return e.field!==t}),this.clearExtrema(),this):void console.warn("Range with `field` of `"+t+"` does not exist. Ignoring command.")},u=function(){return this._params.prefixes_filter};e.exports={addPrefixFilter:a,updatePrefixFilter:o,removePrefixFilter:s,getPrefixFilter:u}}()},{lodash:27}],56:[function(t,e,n){!function(){"use strict";var n=t("lodash"),r=function(t,e){if(t){if(t.extrema)return!0;console.warn("Field `"+e+"` is not ordinal in meta data. Ignoring command.")}else console.warn("Field `"+e+"` is not recognized in meta data. Ignoring command.");return!1},i=function(t,e,i){if(!t)return void console.warn("Range `field` is missing from argument. Ignoring command.");if(void 0===e)return void console.warn("Range `from` is missing from argument. Ignoring command.");if(void 0===i)return void console.warn("Range `to` is missing from argument. Ignoring command.");var a=this._meta[t];if(r(a,t)){var o=n.find(this._params.range,function(e){return e.field===t});if(o)return void console.warn("Range with `field` of `"+t+"` already exists, used `updateRange` instead.");this._params.range.push({field:t,from:e,to:i}),this.clearExtrema()}return this},a=function(t,e,r){var i=n.find(this._params.range,function(e){return e.field===t});if(!i)return void console.warn("Range with `field` of `"+t+"` does not exist. Ignoring command.");var a=!1;return void 0!==e&&(a=!0,i.from=e),void 0!==r&&(a=!0,i.to=r),a&&this.clearExtrema(),this},o=function(t){var e=n.find(this._params.range,function(e){return e.field===t});return e?(this._params.range=n.filter(this._params.range,function(e){return e.field!==t}),this.clearExtrema(),this):void console.warn("Range with `field` of `"+t+"` does not exist. Ignoring command.")},s=function(){return this._params.range};e.exports={addRange:i,updateRange:a,removeRange:o,getRange:s}}()},{lodash:27}],57:[function(t,e,n){!function(){"use strict";var n=t("lodash"),r=function(t,e){if(t){if("string"===t.type)return!0;console.warn("Field `"+e+"` is not of type `string` in meta data. Ignoring command.")}else console.warn("Field `"+e+"` is not recognized in meta data. Ignoring command.");return!1},i=function(t){return t=n.map(t,function(t){return t.toLowerCase()}),t.sort(function(t,e){return e>t?-1:t>e?1:0}),t},a=function(t,e){if(!t)return void console.warn("TermsAgg `field` is missing from argument. Ignoring command.");if(void 0===e)return void console.warn("TermsAgg `terms` are missing from argument. Ignoring command.");var n=this._meta[t];return r(n,t)&&(this._params.terms_agg={field:t,terms:i(e)},this.clearExtrema()),this},o=function(){return this._params.terms_agg};e.exports={setTermsAgg:a,getTermsAgg:o}}()},{lodash:27}],58:[function(t,e,n){!function(){"use strict";var n=t("lodash"),r=function(t,e){if(t){if("string"===t.type)return!0;console.warn("Field `"+e+"` is not of type `string` in meta data. Ignoring command.")}else console.warn("Field `"+e+"` is not recognized in meta data. Ignoring command.");return!1},i=function(t){return t=n.map(t,function(t){return t.toLowerCase()}),t.sort(function(t,e){return e>t?-1:t>e?1:0}),t},a=function(t,e){if(!t)return void console.warn("TermsFilter `field` is missing from argument. Ignoring command.");if(void 0===e)return void console.warn("TermsFilter `terms` are missing from argument. Ignoring command.");var a=this._meta[t];if(r(a,t)){var o=n.find(this._params.terms_filter,function(e){return e.field===t});if(o)return void console.warn("TermsFilter with `field` of `"+t+"` already exists, used `updateRange` instead.");this._params.terms_filter.push({field:t,terms:i(e)}),this.clearExtrema()}return this},o=function(t,e){var r=n.find(this._params.terms_filter,function(e){return e.field===t});return r?(void 0!==e&&(r.terms=i(e),this.clearExtrema()),this):void console.warn("Range with `field` of `"+t+"` does not exist. Ignoring command.")},s=function(t){var e=n.find(this._params.terms_filter,function(e){return e.field===t});return e?(this._params.terms_filter=n.filter(this._params.terms_filter,function(e){return e.field!==t}),this.clearExtrema(),this):void console.warn("Range with `field` of `"+t+"` does not exist. Ignoring command.")},u=function(){return this._params.terms_filter};e.exports={addTermsFilter:a,updateTermsFilter:o,removeTermsFilter:s,getTermsFilter:u}}()},{lodash:27}],59:[function(t,e,n){!function(){"use strict";var t="pixel.x",n="pixel.y",r=function(t,e){if(t){if(t.extrema)return!0;console.warn("Field `"+e+"` is not ordinal in meta data. Ignoring command.")}else console.warn("Field `"+e+"` is not recognized in meta data. Ignoring command.");return!1},i=function(e){if(e!==this._params.binning.x)if(e===t)this._params.binning.x=void 0,this._params.binning.left=void 0,this._params.binning.right=void 0,this.clearExtrema();else{var n=this._meta[e];r(n,e)&&(this._params.binning.x=e,this._params.binning.left=n.extrema.min,this._params.binning.right=n.extrema.max,this.clearExtrema())}return this},a=function(){return this._params.binning.x},o=function(t){if(t!==this._params.binning.y)if(t===n)this._params.binning.y=void 0,this._params.binning.bottom=void 0,this._params.binning.top=void 0,this.clearExtrema();else{var e=this._meta[t];r(e,t)&&(this._params.binning.y=t,this._params.binning.bottom=e.extrema.min,this._params.binning.top=e.extrema.max,this.clearExtrema())}return this},s=function(){return this._params.binning.y};e.exports={setXField:i,getXField:a,setYField:o,getYField:s,DEFAULT_X_FIELD:t,DEFAULT_Y_FIELD:n}}()},{}],60:[function(t,e,n){!function(){"use strict";var t=function(t,e){if(t){if("string"===t.type)return!0;console.warn("Field `"+e+"` is not of type `string` in meta data. Ignoring command.")}else console.warn("Field `"+e+"` is not recognized in meta data. Ignoring command.");return!1},n=function(e,n){if(!e)return void console.warn("TopTerms `field` is missing from argument. Ignoring command.");var r=this._meta[e];return t(r,e)&&(this._params.top_terms={field:e,size:n},this.clearExtrema()),this},r=function(){return this._params.top_terms};e.exports={setTopTerms:n,getTopTerms:r}}()},{}],61:[function(t,e,n){!function(){"use strict";var n=t("jquery"),r=t("../core/Pending"),i=r.extend({renderTile:function(t){n(t).empty(),n(t).append('<div class="blinking blinking-tile" style="animation-delay:'+-(1200*Math.random())+'ms;"></div>')}});e.exports=i}()},{"../core/Pending":38,jquery:26}],62:[function(t,e,n){!function(){"use strict";var n=t("../core/Pending"),r=n.extend({renderTile:function(t){var e=-(1200*Math.random())+"ms";t.innerHTML='<div class="vertical-centered-box blinking" style="animation-delay:'+e+'"><div class="content"><div class="loader-circle"></div><div class="loader-line-mask" style="animation-delay:'+e+'"><div class="loader-line"></div></div></div></div>'}});e.exports=r}()},{"../core/Pending":38}],63:[function(t,e,n){!function(){"use strict";var n=t("lodash"),r=t("../core/WebGL"),i=t("../params/Binning"),a=t("../params/TermsFilter"),o=t("../params/PrefixFilter"),s=t("../params/Range"),u=t("../mixins/ColorRamp"),c=r.extend({includes:[i,a,o,s,u],type:"heatmap",options:{shaders:{vert:"../../shaders/heatmap.vert",frag:"../../shaders/heatmap.frag"}},initialize:function(){u.initialize.apply(this,arguments),r.prototype.initialize.apply(this,arguments)},extractExtrema:function(t){var e=new Float64Array(t);return{min:n.min(e),max:n.max(e)}},beforeDraw:function(){var t=this.getColorRamp(),e=[0,0,0,0];this._shader.setUniform("uMin",this.getExtrema().min),this._shader.setUniform("uMax",this.getExtrema().max),this._shader.setUniform("uColorRampFrom",t(0,e)),this._shader.setUniform("uColorRampTo",t(1,e))}});e.exports=c}()},{"../core/WebGL":39,"../mixins/ColorRamp":50,"../params/Binning":52,"../params/PrefixFilter":55,"../params/Range":56,"../params/TermsFilter":58,lodash:27}],64:[function(t,e,n){!function(){"use strict";function n(){r.apply(this,arguments)}var r=t("./Requestor");n.prototype=Object.create(r.prototype),n.prototype.getHash=function(t){return t.type+"-"+t.index+"-"+t.store},n.prototype.getURL=function(t){return"meta/"+t.type+"/"+t.endpoint+"/"+t.index+"/"+t.store},e.exports=n}()},{"./Requestor":65}],65:[function(t,e,n){!function(){"use strict";function n(){var t,e=window.location;return t="https:"===e.protocol?"wss:":"ws:",t+"//"+e.host+e.pathname}function r(t,e){var r=this;this.requests={},this.socket=new WebSocket(n()+t),this.socket.onopen=e,this.socket.onmessage=function(t){var e=JSON.parse(t.data),n=r.getHash(e),i=r.requests[n];delete r.requests[n],e.success?i.resolve(r.getURL(e),e):i.reject(e)},this.socket.onclose=function(){console.warn("Websocket connection closed.")}}var i=t("jquery");r.prototype.getHash=function(){},r.prototype.getURL=function(){},r.prototype.get=function(t){var e=this.getHash(t),n=this.requests[e];return n?n.promise():(n=this.requests[e]=i.Deferred(),this.socket.send(JSON.stringify(t)),n.promise())},e.exports=r}()},{jquery:26}],66:[function(t,e,n){!function(){"use strict";function n(){i.apply(this,arguments)}var r=t("lodash"),i=t("./Requestor");n.prototype=Object.create(i.prototype),n.prototype.getHash=function(t){var e=t.coord,n=[];return r.forIn(t.params,function(t,e){if(t){var i=[e];r.forIn(t,function(t,e){void 0!==t&&null!==t&&i.push(e.toLowerCase()+"="+t)}),i.sort(),n.push(i.join(","))}}),n.sort(),t.type+"-"+t.index+"-"+t.store+"-"+e.x+"-"+e.y+"-"+e.z+"-"+n.join("-")},n.prototype.getURL=function(t){var e=t.coord;return"tile/"+t.type+"/"+t.index+"/"+t.store+"/"+e.z+"/"+e.x+"/"+e.y},e.exports=n}()},{"./Requestor":65,lodash:27}]},{},[28])(28)});